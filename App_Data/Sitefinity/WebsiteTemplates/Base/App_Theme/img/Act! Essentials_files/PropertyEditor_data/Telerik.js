/* START Telerik.Sitefinity.Web.Scripts.IAsyncCommandReceiver.js */
Type._registerScript("IAsyncCommandReceiver.js");
Type.registerNamespace("Telerik.Sitefinity.Web.UI.ClientBinders");
Telerik.Sitefinity.Web.UI.ClientBinders.IAsyncCommandReceiver=function(){};
Telerik.Sitefinity.Web.UI.ClientBinders.IAsyncCommandReceiver.prototype={add_onStartProcessing:function(){},remove_onStartProcessing:function(){},add_onEndProcessing:function(){},remove_onEndProcessing:function(){},_onCommand:function(commandName,commandArgument){}};
Telerik.Sitefinity.Web.UI.ClientBinders.IAsyncCommandReceiver.registerInterface("Telerik.Sitefinity.Web.UI.ClientBinders.IAsyncCommandReceiver");

/* END Telerik.Sitefinity.Web.Scripts.IAsyncCommandReceiver.js */
/* START Telerik.Sitefinity.Web.Scripts.RadGridBinder.js */
Telerik.Sitefinity.Web.UI.RadGridBinder=function(){this._itemsBoundCount=null;
this._context;
this._virtualCount;
this._batchSave;
this._clearSelectionOnRebind=true;
this._restoreSelectionAfterRebind=false;
this._target=null;
this._loadingText=null;
this._postData=null;
this._selectedItemsArray={};
var m_curPageIndex=-1;
Telerik.Sitefinity.Web.UI.RadGridBinder.initializeBase(this);
};
Telerik.Sitefinity.Web.UI.RadGridBinder.prototype={initialize:function(){var grid=this.get_target();
this._binderItemDataBoundDelegate=Function.createDelegate(this,this.BinderItemDataBound);
grid.add_rowDataBound(this._binderItemDataBoundDelegate);
this._binderGridBoundDelegate=Function.createDelegate(this,this._handleGridDataBound);
this._handleRowSelectedChangedDelegate=Function.createDelegate(this,this._handleRowSelectedChanged);
grid.add_dataBound(this._binderGridBoundDelegate);
grid.add_rowSelected(this._handleRowSelectedChangedDelegate);
grid.add_rowDeselected(this._handleRowSelectedChangedDelegate);
this._serviceCallback=this.DataBind;
m_curPageIndex=-1;
var loadingTemplate='<div class="RadAjax"><div class="raDiv">{0}</div><div class="raColor"></div></div>';
loadingTemplate=String.format(loadingTemplate,this._loadingText);
$("#"+this.get_targetId()).after(loadingTemplate);
$(".RadAjax").hide();
Telerik.Sitefinity.Web.UI.RadGridBinder.callBaseMethod(this,"initialize");
},dispose:function(){this._binderItemDataBoundDelegate=null;
this._binderGridBoundDelegate=null;
Telerik.Sitefinity.Web.UI.RadGridBinder.callBaseMethod(this,"dispose");
},_handleRowSelectedChanged:function(grid,args){var dataItem=args.get_gridDataItem().get_dataItem();
var itemElement=args.get_domEvent();
var itemIndex=args.get_itemIndexHierarchical();
var key=this.GetItemKey(itemIndex);
this._itemSelectCommandHandler(key,dataItem,itemIndex,itemElement);
},_handleGridDataBound:function(sender,args){var tableView=this.GetTableView();
var gridPageIndex=tableView.get_currentPageIndex();
if(m_curPageIndex!=gridPageIndex){m_curPageIndex=gridPageIndex;
window.scrollTo(0,0);
}$(".RadAjax").hide();
var jTarget=$("#"+this._targetId);
jTarget.show();
var hiddenRowClass="sfHiddenGridRow";
jTarget.find(".rgRow").each(function(){$(this).removeClass(hiddenRowClass);
});
jTarget.find(".rgRow").each(function(){if(this.style.display=="none"){$(this).addClass(hiddenRowClass);
}});
if(gridPageIndex==0&&tableView.PageCount==1){jTarget.find(".rgPagerCell").hide();
}else{jTarget.find(".rgPagerCell").show();
}},ClearPager:function(){var tableView=this.GetTableView();
tableView.set_currentPageIndex(0);
},DataBind:function(){$("#"+this._targetId).hide();
$(".RadAjax").show();
Telerik.Sitefinity.Web.UI.RadGridBinder.callBaseMethod(this,"DataBind");
this.MapEvents();
var tableView=this.GetTableView();
var currentPageIndex=tableView.get_currentPageIndex();
var pageSize=tableView.get_pageSize();
this._skip=(currentPageIndex*pageSize);
if(this._skip==null){this._skip=0;
}this._take=pageSize;
if(tableView.get_sortExpressions().toString().length>0){this._sortExpression=tableView.get_sortExpressions().toString();
var se=jQuery.trim(this._sortExpression);
if(se=="ASC"||se=="DESC"){this._sortExpression="";
}}var clientManager=this.get_manager();
clientManager.set_urlParams(this.get_urlParams());
clientManager.GetItemCollection(this,null,null,null,null,this.get_postData());
},SaveChanges:function(){if($(document.forms[0]).validate().form()==false){return false;
}var grid=this.get_target();
var masterTableview=grid.get_masterTableView();
var dataItems=masterTableview.get_dataItems();
var clientManager=this.get_manager();
clientManager.set_urlParams(this.get_urlParams());
var properties=[];
var batchKeys;
for(dataItemIndex=0,dataItemsLen=masterTableview.get_virtualItemCount();
dataItemIndex<dataItemsLen;
dataItemIndex++){var dataItem=dataItems[dataItemIndex]._dataItem;
if(dataItem!=null){if($(document.forms[0]).validate().form()==false){return false;
}var key=this.GetItemKey(dataItemIndex);
var propertyBag=this.GetData(dataItems[dataItemIndex]._element,dataItemIndex);
this._savingHandler(propertyBag);
var args=this._itemSavingHandler(key,dataItem,dataItemIndex,dataItems[dataItemIndex].get_element(),propertyBag);
if(args.get_cancel()==false){if(this._batchSave){if(dataItemIndex==0){batchKeys=key;
}properties.push(args.get_propertyBag()[0]);
properties.push(args.get_propertyBag()[1]);
}else{clientManager.SaveItem(this,key,args.get_propertyBag(),null);
}}}}if(this._batchSave){clientManager.SaveItems(this,null,properties,null);
}return true;
},SaveItem:function(dataItemIndex){if($(document.forms[0]).validate().form()==false){return false;
}var grid=this.get_target();
var masterTableview=grid.get_masterTableView();
var dataItems=masterTableview.get_dataItems();
var clientManager=this.get_manager();
clientManager.set_urlParams(this.get_urlParams());
var dataItem=dataItems[dataItemIndex]._dataItem;
if(dataItem!=null){if($(document.forms[0]).validate().form()==false){return false;
}var key=this.GetItemKey(dataItemIndex);
var propertyBag=this.GetData(dataItems[dataItemIndex]._element,dataItemIndex);
this._savingHandler(propertyBag);
var args=this._itemSavingHandler(key,dataItem,dataItemIndex,dataItems[dataItemIndex].get_element(),propertyBag);
if(args.get_cancel()==false){clientManager.SaveItem(this,key,args.get_propertyBag(),null);
}}return true;
},Sort:function(sortExpression){this._sortExpression=sortExpression;
this.DataBind();
},Clear:function(){var empty={Context:null,IsGeneric:false,Items:[],TotalCount:0};
this.BindCollection(empty);
},Filter:function(filterExpression){this._filterExpression=filterExpression;
this.DataBind();
},BindCollection:function(data){data=this.DeserializeData(data);
this._dataBindingHandler(data);
this._itemsBoundCount=0;
this._displayedItemsCount=data.Items.length;
var tableView=this.GetTableView();
tableView.set_virtualItemCount(data.TotalCount);
tableView.set_dataSource(data.Items);
var selectedItemsArray=this.get_selectedItemsArray();
if(this.get_restoreSelectionAfterRebind()==true){selectedItemsArray=[];
var selectedItems=this.GetTableView().get_selectedItems();
for(var i=0;
i<selectedItems.length;
i++){var key=selectedItems[i].get_dataItem();
selectedItemsArray.push(key);
}}if(this._clearSelectionOnRebind){this.clearSelection();
}if(data.Context){var context=[];
for(index=0;
index<data.Context.length;
index++){var item=data.Context[index];
context[item.Key]=item.Value;
}this._context=context;
}this._virtualCount=data.TotalCount;
if(data.TotalCount<=tableView.get_pageSize()){$(this.get_target()).find(".rgPager").each(function(){$(this).hide();
});
}else{$(this.get_target()).find(".rgPager").each(function(){$(this).show();
});
}tableView.dataBind();
if(this.get_restoreSelectionAfterRebind()==true){if(this._clearSelectionOnRebind==false){this.clearSelection();
}var selectedItemsLength=selectedItemsArray.length;
if(selectedItemsLength>0){var allItems=tableView.get_dataItems();
var grid=this.get_target();
grid.remove_rowDeselected(this._handleRowSelectedChangedDelegate);
while(selectedItemsLength--){var key=selectedItemsArray[selectedItemsLength];
for(var i=0;
i<allItems.length;
i++){var row=allItems[i];
var dataItem=row.get_dataItem();
if(dataItem!=null){var sameKey=(dataItem.Id==key.Id);
if(sameKey==true){row.set_selected(true);
break;
}}}}grid.add_rowDeselected(this._handleRowSelectedChangedDelegate);
}}this.set_selectedItemsArray(selectedItemsArray);
this._dataBoundHandler(data);
$(".RadAjax").hide();
var jTarget=$("#"+this._targetId);
jTarget.show();
},BindItem:function(data){alert("BindItem function is not supported by RadGridBinder. Please use Bind instead.");
},BinderItemDataBound:function(sender,args){var dataItem=args.get_dataItem();
this._itemDataBindingHandler(dataItem);
var item=args.get_item();
var columns=item.get_owner().get_columns();
var cells=args.get_item().get_element().cells;
var templateIndex=0;
for(columnIndex=0,columnsLen=columns.length;
columnIndex<columnsLen;
columnIndex++){var column=columns[columnIndex];
if(column.get_visible()==false){continue;
}var columnName=column.get_uniqueName();
var binderNameConstant="BinderContainer";
if(columnName.indexOf(binderNameConstant)!=0){continue;
}var binderIndex=columnName.substring(binderNameConstant.length);
cells[columnIndex].innerHTML="";
var template=new Sys.UI.Template($get(this._clientTemplates[binderIndex]));
this.LoadItem(cells[columnIndex],template,dataItem,false,item._itemIndexHierarchical);
$(cells[columnIndex]).find("[id]").each(function(i,element){var attr=$(element).attr("id");
var attrUnique=attr.substring(0,attr.length-1)+item._itemIndexHierarchical;
$(element).attr("id",attrUnique);
});
$(cells[columnIndex]).find("[for]").each(function(i,element){var attrUnique=$(element).attr("for")+item._itemIndexHierarchical;
$(element).attr("for",attrUnique);
});
$(cells[columnIndex]).find("[menu]").each(function(i,element){var attrUnique=$(element).attr("menu")+item._itemIndexHierarchical;
$(element).attr("menu",attrUnique);
});
}this._itemsBoundCount++;
var binder=this;
var itemElement=item.get_element();
this.LoadDataItemKey(dataItem);
var key=this.GetItemKey(item._itemIndexHierarchical);
this._itemDataBoundHandler(key,dataItem,item._itemIndexHierarchical,itemElement);
this.BuildInputWrappers(itemElement);
this.AssignCommands(itemElement,dataItem,key,item._itemIndexHierarchical);
this.ApplyValidationRules(itemElement,item._itemIndexHierarchical);
this.EnableActionMenus(itemElement);
},TargetCommand:function(sender,args){var commandName=args.get_commandName().toLowerCase();
var commandArgument=args.get_commandArgument();
this._targetCommandHandler(commandName,commandArgument);
var key;
if(commandName=="delete"){args.set_cancel(true);
key=this.GetItemKey(commandArgument);
var binderArgs=this._deletingHandler(key);
if(binderArgs.get_cancel()==false){this.DeleteItem(key);
this._deletedHandler(key);
}}else{if(commandName=="sort"){args.set_cancel(true);
var sortExpression=args.get_commandArgument();
if(sortExpression==null){return;
}if(sortExpression.length==0){return;
}}else{if(commandName=="page"){args.set_cancel(true);
}else{if(commandName=="pagesize"){args.set_cancel(true);
}else{if(commandName=="edit"){args.set_cancel(true);
key=this.GetItemKey(commandArgument);
this._editHandler(key);
return;
}}}}}this.DataBind();
},GetTableView:function(){var grid=this.get_target();
var tableView=grid.get_masterTableView();
return tableView;
},MapEvents:function(){},selectByIds:function(ids,doNotClearPreviousSelection){var masterTableView=this.GetTableView();
if(!doNotClearPreviousSelection){masterTableView.clearSelectedItems();
}var dataKeysDictionary=null;
var dataItems=masterTableView.get_dataItems();
var idsToSelectLength=ids.length;
for(var idsIterator=0;
idsIterator<idsToSelectLength;
idsIterator++){var idToSelect=ids[idsIterator];
if(!dataKeysDictionary){var dataKeysDictionary={};
for(var dataKeysIterator=0,dataItemsLength=dataItems.length;
dataKeysIterator<dataItemsLength;
dataKeysIterator++){var gridDataItem=dataItems[dataKeysIterator];
if(!gridDataItem||!gridDataItem.get_dataItem||!gridDataItem.get_dataItem()){break;
}var dataItemId=gridDataItem.get_dataItem()[this.get_dataKeyNames()[0]];
if(idsToSelectLength>0){dataKeysDictionary[dataItemId]=dataKeysIterator;
}if(dataItemId===idToSelect){var rowToSelect=dataItems[dataKeysIterator].get_element();
this._selectRow(rowToSelect);
}}}else{if(idToSelect in dataKeysDictionary){var rowToSelect=dataItems[dataKeysDictionary[idToSelect]].get_element();
this._selectRow(rowToSelect);
}}}if(dataKeysDictionary){delete dataKeysDictionary;
}},_selectRow:function(rowToSelect){var masterTableView=this.GetTableView();
masterTableView.selectItem(rowToSelect);
},clearSelection:function(){var selectedItems=this.GetTableView().get_selectedItems();
var selectedItemsLength=selectedItems.length;
if(selectedItemsLength>0){var grid=this.get_target();
grid.remove_rowDeselected(this._handleRowSelectedChangedDelegate);
while(selectedItemsLength--){if(selectedItemsLength==0){grid.add_rowDeselected(this._handleRowSelectedChangedDelegate);
}selectedItems[selectedItemsLength].set_selected(false);
}}},get_target:function(){if(!this._target){this._target=$find(this._targetId);
}return this._target;
},get_context:function(){return this._context;
},get_itemCount:function(){return this._virtualCount;
},set_batchSave:function(value){this._batchSave=value;
},get_selectedItemsCount:function(){return this.GetTableView().get_selectedItems().length;
},get_selectedItems:function(){var gridSelectedItems=this.GetTableView().get_selectedItems();
var dataItems=new Array();
for(var selectedGridItemIndex=0,selectedGridItemsLen=gridSelectedItems.length;
selectedGridItemIndex<selectedGridItemsLen;
selectedGridItemIndex++){dataItems.push(gridSelectedItems[selectedGridItemIndex].get_dataItem());
}return dataItems;
},get_restoreSelectionAfterRebind:function(){return this._restoreSelectionAfterRebind;
},set_restoreSelectionAfterRebind:function(val){if(val!=this._restoreSelectionAfterRebind){this._restoreSelectionAfterRebind=val;
this.raisePropertyChanged("restoreSelectionAfterRebind");
}},get_postData:function(){return this._postData;
},set_postData:function(data){this._postData=data;
},get_selectedItemsArray:function(){return this._selectedItemsArray;
},set_selectedItemsArray:function(array){this._selectedItemsArray=array;
},get_clearSelectionOnRebind:function(){return this._clearSelectionOnRebind;
},set_clearSelectionOnRebind:function(val){if(val!=this._clearSelectionOnRebind){this._clearSelectionOnRebind=val;
this.raisePropertyChanged("clearSelectionOnRebind");
}}};
Telerik.Sitefinity.Web.UI.RadGridBinder.registerClass("Telerik.Sitefinity.Web.UI.RadGridBinder",Telerik.Sitefinity.Web.UI.ClientBinder);

/* END Telerik.Sitefinity.Web.Scripts.RadGridBinder.js */
/* START Telerik.Sitefinity.Web.Scripts.PromptDialog.js */
Type.registerNamespace("Telerik.Sitefinity.Web.UI");
Telerik.Sitefinity.Web.UI.PromptDialog=function(element){this._commands=null;
this._defaultInputText=null;
this._textFieldExample=null;
this._textFieldTitle=null;
this._title=null;
this._showOnLoad=null;
this._wrapperElement=null;
this._inputTextField=null;
this._allowCloseButton=null;
this._closeButtonElement=null;
this._promptMessageElement=null;
this._promptTitleElement=null;
this._message=null;
this._height=null;
this._width=null;
this._promptInnerContentElement=null;
this._lastHandler=null;
this._initialMessage=null;
this._promptMode=null;
this._checkRelatingDataCheckBox=null;
Telerik.Sitefinity.Web.UI.PromptDialog.initializeBase(this,[element]);
};
Telerik.Sitefinity.Web.UI.PromptDialog.prototype={initialize:function(){Telerik.Sitefinity.Web.UI.PromptDialog.callBaseMethod(this,"initialize");
this._commands=Sys.Serialization.JavaScriptSerializer.deserialize(this._commands);
if(this._showOnLoad==true){this._positionOverlay();
this.show_prompt(this.get_title(),this.get_message(),null);
}if(this._defaultInputText){this.set_defaultInputText(this._defaultInputText);
}if(this._allowCloseButton!=null){this.set_allowCloseButton(this._allowCloseButton);
}if(this._message){this.set_message(this._message);
this.set_initialMessage(this._message);
}Sys.Application.add_load(Function.createDelegate(this,this._load));
},dispose:function(){Telerik.Sitefinity.Web.UI.PromptDialog.callBaseMethod(this,"dispose");
},add_command:function(delegate){this.get_events().addHandler("command",delegate);
},remove_command:function(delegate){this.get_events().removeHandler("command",delegate);
},add_commanding:function(delegate){this.get_events().addHandler("commanding",delegate);
},remove_commanding:function(delegate){this.get_events().removeHandler("commanding",delegate);
},_load:function(){var _commandsCount=this._commands.length;
var self=this;
var commandButtonId="";
for(var i=0;
i<_commandsCount;
i++){commandButtonId=this._commands[i].ButtonClientId;
var menu=$find(commandButtonId);
$("#"+commandButtonId).click(Function.createDelegate(this,this._handlePredefinedCommands));
}if(this._width){this.set_width(this._width);
}},_onCommand:function(commandName,commandArgument,checkRelatingData){var eventArgs=new Telerik.Sitefinity.Web.UI.PromptDialog.CommandEventArgs(commandName,commandArgument,checkRelatingData);
var handler=this.get_events().getHandler("command");
if(handler){handler(this,eventArgs);
}return eventArgs;
},_onCommanding:function(commandName,commandArgument,checkRelatingData){var eventArgs=new Telerik.Sitefinity.Web.UI.PromptDialog.CommandEventArgs(commandName,commandArgument,checkRelatingData);
var handler=this.get_events().getHandler("commanding");
if(handler){handler(this,eventArgs);
}return eventArgs;
},_getCommandName:function(buttonId){var commandsCount=this._commands.length;
while(commandsCount--){if(this._commands[commandsCount].ButtonClientId==buttonId){return this._commands[commandsCount].CommandName;
}}return null;
},_handleProvidersListChange:function(sender,args){var providerName=args.get_newProviderName();
var commandName=this._getCommandName(sender.get_element().id);
var checkRelatingData=false;
if(this.get_checkRelatingDataCheckBox()){checkRelatingData=this.get_checkRelatingDataCheckBox().checked;
}if(!this._onCommanding(commandName,providerName,checkRelatingData).get_cancel()){this._onCommand(commandName,providerName,checkRelatingData);
}},_handlePredefinedCommands:function(sender){var commandName=this._getCommandName(sender.currentTarget.id);
var isValid=true;
for(var i=0,len=this._commands.length;
i<len;
i++){if(this._commands[i].CommandName==commandName&&this._commands[i].CausesValidation==true&&this.get_inputTextField().validate()==false){isValid=false;
break;
}}var commandArgument=this._lastContext;
if(this._promptMode==1){commandArgument=this.get_inputTextField().get_value();
}if(isValid){this._hidePrompt();
var checkRelatingData=false;
if(this.get_checkRelatingDataCheckBox()){checkRelatingData=this.get_checkRelatingDataCheckBox().checked;
}this._raiseCommand(commandName,commandArgument,checkRelatingData);
}return false;
},_raiseCommand:function(commandName,args,checkRelatingData){var eventArgs=new Telerik.Sitefinity.Web.UI.PromptDialog.CommandEventArgs(commandName,args,checkRelatingData);
var handler=this.get_events().getHandler("command");
if(handler){handler(this,eventArgs);
}return eventArgs;
},_docHeight:function(){var D=document;
if((D==null)||(D=="undefined")){return false;
}return Math.max(Math.max(D.body.scrollHeight,D.documentElement.scrollHeight),Math.max(D.body.offsetHeight,D.documentElement.offsetHeight),Math.max(D.body.clientHeight,D.documentElement.clientHeight));
},_docWidth:function(){var D=document;
if((D==null)||(D=="undefined")){return false;
}return Math.max(Math.max(D.body.scrollWidth,D.documentElement.scrollWidth),Math.max(D.body.offsetWidth,D.documentElement.offsetWidth),Math.max(D.body.clientWidth,D.documentElement.clientWidth));
},_positionOverlay:function(){if(!$get("sfPromptDialogOverlayWrapper")){var containerElement=document.getElementsByTagName("body")[0];
var documentHeight=containerElement.clientHeight;
var documentWidth=containerElement.clientWidth;
var overlay=document.createElement("div");
overlay.className="sfPromptDialogOverlay";
overlay.id="sfPromptDialogOverlayWrapper";
overlay.style.height=this._docHeight()+"px";
overlay.style.width=this._docWidth()+"px";
containerElement.appendChild(overlay);
}else{$get("sfPromptDialogOverlayWrapper").style.display="block";
}},_recalculateOverlay:function(){var element=$get("sfPromptDialogOverlayWrapper");
if(element){element.style.height=this._docHeight()+"px";
element.style.width=this._docWidth()+"px";
}},_hidePrompt:function(){var overlay=$get("sfPromptDialogOverlayWrapper");
var promptWindow=this.get_wrapperElement();
overlay.style.display="none";
promptWindow.style.display="none";
},_hideOverlay:function(){var overlay=$get("sfPromptDialogOverlayWrapper");
overlay.style.display="none";
},_changeCheckBoxText:function(checkboxId,text){var allLabel=document.getElementsByTagName("label");
for(i=0;
i<allLabel.length;
i++){if(allLabel[i].htmlFor==checkboxId){allLabel[i].innerHTML=text;
break;
}}},show_prompt:function(title,message,handler,context,checkRelatingDataText){var newParent=document.getElementsByTagName("form")[0];
if(!newParent){if(document.forms&&document.forms.length>0){newParent=document.forms[0];
}else{newParent=document.body;
}}var promptWindow=this.get_wrapperElement();
if(title){this.set_title(title);
}if(message){this.set_message(message);
}if(this._lastHandler){this.remove_command(this._lastHandler);
}if(handler){this.add_command(handler);
this._lastHandler=handler;
}this._lastContext=context;
if(this.get_title()==""){this.get_promptTitleElement().style.display="none";
}if(this.get_message()==""){this.get_promptMessageElement().style.display="none";
}if(this.get_checkRelatingDataCheckBox()&&checkRelatingDataText){this._changeCheckBoxText(this.get_checkRelatingDataCheckBox().id,checkRelatingDataText);
}newParent.insertBefore(promptWindow,newParent.firstChild);
if(!$get("sfPromptDialogOverlayWrapper")){this._positionOverlay();
}promptWindow.style.display="block";
promptWindow.style.left="50%";
promptWindow.style.marginLeft=promptWindow.offsetWidth/2*-1+"px";
promptWindow.style.display="block";
$get("sfPromptDialogOverlayWrapper").style.display="block";
},get_width:function(){var promptWindow=this.get_wrapperElement();
promptWindow.offsetWidth;
},set_width:function(value){this._width=value;
var promptWindow=this.get_wrapperElement();
if(promptWindow){promptWindow.style.width=value+"px";
promptWindow.style.marginLeft=(value/(-2))+"px";
}},get_height:function(){var promptWindow=this.get_wrapperElement();
promptWindow.offsetHeight;
},set_height:function(value){this._height=value;
var promptWindow=this.get_wrapperElement();
if(promptWindow){promptWindow.style.height=value+"px";
promptWindow.style.marginTop=(value/(-2))+"px";
}},get_wrapperElement:function(){return this._wrapperElement;
},set_wrapperElement:function(value){if(this._wrapperElement!=value){this._wrapperElement=value;
this.raisePropertyChanged("wrapperElement");
}},get_promptInnerContentElement:function(){return this._promptInnerContentElement;
},set_promptInnerContentElement:function(value){if(this._promptInnerContentElement!=value){this._promptInnerContentElement=value;
this.raisePropertyChanged("promptInnerContentElement");
}},get_closeButtonElement:function(){return this._closeButtonElement;
},set_closeButtonElement:function(value){if(this._closeButtonElement!=value){this._closeButtonElement=value;
this.raisePropertyChanged("closeButtonElement");
}},get_promptMessageElement:function(){return this._promptMessageElement;
},set_promptMessageElement:function(value){if(this._promptMessageElement!=value){this._promptMessageElement=value;
this.raisePropertyChanged("promptMessageElement");
}},get_promptTitleElement:function(){return this._promptTitleElement;
},set_promptTitleElement:function(value){if(this._promptTitleElement!=value){this._promptTitleElement=value;
this.raisePropertyChanged("promptTitleElement");
}},set_title:function(value){this.get_promptTitleElement().innerHTML=value;
},get_title:function(){return this.get_promptTitleElement().innerHTML;
},set_message:function(value){this.get_promptMessageElement().innerHTML=value;
},get_message:function(){return this.get_promptMessageElement().innerHTML;
},set_initialMessage:function(value){this._initialMessage=value;
},get_initialMessage:function(){return this._initialMessage;
},get_inputTextField:function(){return this._inputTextField;
},set_inputTextField:function(value){if(this._inputTextField!=value){this._inputTextField=value;
this.raisePropertyChanged("inputTextField");
}},get_defaultInputText:function(){return this._inputTextField;
},set_defaultInputText:function(value){this._inputTextField.set_value(value);
},get_allowCloseButton:function(){return this._allowCloseButton;
},set_allowCloseButton:function(value){if(value==true){var self=this;
this._closeButtonElement.onclick=function(){self._hidePrompt();
};
}else{this._closeButtonElement.className+=" sfCloseDisabled";
}},get_inputText:function(){return this.get_inputTextField().get_value();
},set_inputText:function(value){this.get_inputTextField().set_value(value);
},set_textFieldTitle:function(value){this.get_inputTextField().set_title(value);
},get_textFieldTitle:function(){this.get_inputTextField().get_title();
},set_textFieldExample:function(value){this.get_inputTextField().set_example(value);
},get_textFieldExample:function(){this.get_inputTextField().get_example();
},get_checkRelatingDataCheckBox:function(){return this._checkRelatingDataCheckBox;
},set_checkRelatingDataCheckBox:function(value){this._checkRelatingDataCheckBox=value;
},setButtonDisplay:function(commandName,bShow){for(var i=0;
i<this._commands.length;
i++){if(this._commands[i].CommandName==commandName){if(bShow){$($get(this._commands[i].ButtonClientId)).show();
}else{$($get(this._commands[i].ButtonClientId)).hide();
}}}}};
Telerik.Sitefinity.Web.UI.PromptDialog.registerClass("Telerik.Sitefinity.Web.UI.PromptDialog",Sys.UI.Control);
Telerik.Sitefinity.Web.UI.PromptDialog.CommandEventArgs=function(commandName,commandArgument,checkRelatingData){this._commandName=commandName;
this._checkRelatingData=checkRelatingData;
this._commandArgument=commandArgument;
Telerik.Sitefinity.Web.UI.PromptDialog.CommandEventArgs.initializeBase(this);
};
Telerik.Sitefinity.Web.UI.PromptDialog.CommandEventArgs.prototype={initialize:function(){Telerik.Sitefinity.Web.UI.PromptDialog.CommandEventArgs.callBaseMethod(this,"initialize");
},dispose:function(){Telerik.Sitefinity.Web.UI.PromptDialog.CommandEventArgs.callBaseMethod(this,"dispose");
},get_commandName:function(){return this._commandName;
},get_commandArgument:function(){return this._commandArgument;
},get_checkRelatingData:function(){return this._checkRelatingData;
},};
Telerik.Sitefinity.Web.UI.PromptDialog.CommandEventArgs.registerClass("Telerik.Sitefinity.Web.UI.PromptDialog.CommandEventArgs",Sys.CancelEventArgs);

/* END Telerik.Sitefinity.Web.Scripts.PromptDialog.js */
/* START Telerik.Sitefinity.Web.UI.Fields.Scripts.IField.js */
Type.registerNamespace("Telerik.Sitefinity.Web.UI.Fields");
Telerik.Sitefinity.Web.UI.Fields.IField=function(){};
Telerik.Sitefinity.Web.UI.Fields.IField.prototype={get_title:function(){},set_title:function(value){},get_example:function(){},set_example:function(value){},get_description:function(){},set_description:function(value){},get_titleElement:function(){},set_titleElement:function(value){},get_exampleElement:function(){},set_exampleElement:function(value){},get_descriptionElement:function(){},set_descriptionElement:function(value){}};
Telerik.Sitefinity.Web.UI.Fields.IField.registerInterface("Telerik.Sitefinity.Web.UI.Fields.IField");

/* END Telerik.Sitefinity.Web.UI.Fields.Scripts.IField.js */
/* START Telerik.Sitefinity.Web.UI.Validation.Scripts.Validator.js */
Type.registerNamespace("Telerik.Sitefinity.Web.UI.Validation");
Telerik.Sitefinity.Web.UI.Validation.Validator=function(validatorDefinition){this._expectedFormat=null;
this._maxLength=null;
this._minLength=null;
this._maxValue=null;
this._minValue=null;
this._regularExpression=null;
this._required=null;
this._alphaNumericViolationMessage=null;
this._currencyViolationMessage=null;
this._emailAddressViolationMessage=null;
this._integerViolationMessage=null;
this._internetUrlViolationMessage=null;
this._maxLengthViolationMessage=null;
this._maxValueViolationMessage=null;
this._messageCssClass=null;
this._messageTagName=null;
this._minLengthViolationMessage=null;
this._minValueViolationMessage=null;
this._nonAlphaNumericViolationMessage=null;
this._numericViolationMessage=null;
this._percentageViolationMessage=null;
this._regularExpressionViolationMessage=null;
this._requiredViolationMessage=null;
this._uSocialSecurityNumberViolationMessage=null;
this._uSZipCodeViolationMessage=null;
this._validateIfInvisible=null;
this._comparingValidatorDefinitions=null;
this._regularExpressionSeparator=null;
this._violationMessages=[];
this._violationMessageElement=null;
this._validatorDefinition=validatorDefinition;
this.alphaNumericRegexPattern=/[-_a-zA-Z0-9]+$/;
this.currencyRegexPattern=/[+-]?[0-9]{1,3}(?:[0-9]*(?:[.,][0-9]{2})?|(?:,[0-9]{3})*(?:\.[0-9]{2})?|(?:\.[0-9]{3})*(?:,[0-9]{2})?)/;
this.emailAddressRegexPattern=/^[a-zA-Z0-9._%+-]+@(?:[a-zA-Z0-9-]+\.)+[a-zA-Z]{2,4}$/i;
this.integerRegexPattern=/^[-+]?\d+$/;
this.internetUrlRegexPattern=/(?:(?:https?|ftp|file):\/\/|www\.|ftp\.)[-A-Za-z0-9+&@#\/%=~_|$?!:,.]*[A-Za-z0-9+&@#\/%=~_|$]/;
this.nonAlphaNumericRegexPattern=/[^-_a-zA-Z0-9]+/;
this.numericRegexPattern=/^[-+]?[0-9]+((,|\.)[0-9]+)?/;
this.percentRegexPattern=/100$|^\s*(\d{0,2})((\.|\,)(\d*))?\s*\%?\s*/;
this.uSSocialSecurityRegexPattern=/(?!000)(?!666)(?:[0-6]\d{2}|7(?:[0-356]\d|7[012]))[- ](?!00)\d{2}[- ](?!0000)\d{4}/;
this.uSZipCodeRegexPattern=/[0-9]{5}(?:-[0-9]{4})?/;
this._violationMessageElementWasCreated=false;
Telerik.Sitefinity.Web.UI.Validation.Validator.initializeBase(this);
this.initialize();
};
Telerik.Sitefinity.Web.UI.Validation.Validator.prototype={initialize:function(){this.configure(this._validatorDefinition);
delete this._validatorDefinition;
Telerik.Sitefinity.Web.UI.Validation.Validator.callBaseMethod(this,"initialize");
},dispose:function(){Telerik.Sitefinity.Web.UI.Validation.Validator.callBaseMethod(this,"dispose");
},validate:function(value){var isValid=true;
this.set_violationMessages([]);
var validatingArgs=this._onValidatingHandler(value);
isValid=validatingArgs.get_isValid();
if(!validatingArgs.get_cancel()){isValid=this._evaluateIsValid(value);
}this._onValidatedHandler(isValid,value);
return isValid;
},configure:function(definition){for(var validatorDefPropertyName in definition){this._setPropertyIfChanged(validatorDefPropertyName,definition[validatorDefPropertyName]);
}},add_onValidating:function(delegate){this.get_events().addHandler("onValidating",delegate);
},remove_onValidating:function(delegate){this.get_events().removeHandler("onValidating",delegate);
},add_onValidated:function(delegate){this.get_events().addHandler("onValidated",delegate);
},remove_onValidated:function(delegate){this.get_events().removeHandler("onValidated",delegate);
},_onValidatingHandler:function(value){var eventArgs=new Telerik.Sitefinity.Web.UI.Validation.ValidatingEventArgs(value);
var h=this.get_events().getHandler("onValidating");
if(h){h(this,eventArgs);
}return eventArgs;
},_onValidatedHandler:function(isValid,value){var eventArgs=new Telerik.Sitefinity.Web.UI.Validation.ValidatedEventArgs(isValid,value);
var h=this.get_events().getHandler("onValidated");
if(h){h(this,eventArgs);
}return eventArgs;
},_evaluateIsValid:function(value){if(typeof value===typeof""){value=value.trim();
}if(this._validateRequired(value)){var isValid=true;
isValid=this._validateRange(value)&&isValid;
isValid=this._validateRegex(value)&&isValid;
isValid=this._validateComparisons(value)&&isValid;
return isValid;
}return false;
},_validateRequired:function(value){if(this.get_required()){if(!value||value===""||value===false){this.get_violationMessages().push(this.get_requiredViolationMessage());
return false;
}else{if(Array.prototype.isPrototypeOf(value)){if(value.length==0){this.get_violationMessages().push(this.get_requiredViolationMessage());
return false;
}}}}return true;
},_validateRange:function(value){if(value!==null&&value!==undefined){if(!isNaN(value)&&(this.get_minValue()!=null||this.get_maxValue()!=null)){return this._validateNumericDateRange(value);
}if(String.isInstanceOfType(value)||(typeof value)===(typeof"")){return this._validateStringRange(value);
}if(!isNaN(value)&&Array.isInstanceOfType(value)){return this._validateArrayRange(value);
}}return true;
},_validateStringRange:function(value){if(this.get_minLength()>0){var isMinLengthValid=value.length>=this.get_minLength();
if(!isMinLengthValid){this.get_violationMessages().push(this.get_minLengthViolationMessage());
return false;
}}if(this.get_maxLength()>0){var isMaxLengthValid=value.length<=this.get_maxLength();
if(!isMaxLengthValid){this.get_violationMessages().push(this.get_maxLengthViolationMessage());
return false;
}}return true;
},_validateNumericDateRange:function(value){if(this.get_minValue()!=null){var isMinValueValid=value>=this.get_minValue();
if(!isMinValueValid){this.get_violationMessages().push(this.get_minValueViolationMessage());
return false;
}}if(this.get_maxValue()!=null){var isMaxValueValid=value<=this.get_maxValue();
if(!isMaxValueValid){this.get_violationMessages().push(this.get_maxValueViolationMessage());
return false;
}}return true;
},_validateArrayRange:function(value){if(value.length||value.length===0){var isMaxLengthValid=true;
var isMinLengthValid=true;
if(this.get_maxLength()>0){isMaxLengthValid=this.get_maxLength()<=value.length;
}if(this.get_minLength()>0){isMinLengthValid=this.get_minLength()>=value.length;
}if(isMinLengthValid&&isMaxLengthValid){return true;
}this.get_violationMessages().push(this.get_maxLengthViolationMessage());
return false;
}return false;
},_validateRegex:function(value){if(String.isInstanceOfType(value)||(typeof value)===(typeof"")){return this._validateStringRegex(value);
}return true;
},_validateStringRegex:function(value){var regex=this.get_regularExpression();
if(regex){return this._validateCustomRegex(value,regex);
}var expectedFormat=this.get_expectedFormat();
if(expectedFormat>0){return this._validateExpectedFormat(value,expectedFormat);
}return true;
},_validateExpectedFormat:function(value,expectedFormat){var isValid=true;
switch(expectedFormat){case Telerik.Sitefinity.Web.UI.Validation.Enums.ValidationFormat.None:return true;
case Telerik.Sitefinity.Web.UI.Validation.Enums.ValidationFormat.AlphaNumeric:isValid=this.alphaNumericRegexPattern.test(value);
if(!isValid){this.get_violationMessages().push(this.get_alphaNumericViolationMessage());
}break;
case Telerik.Sitefinity.Web.UI.Validation.Enums.ValidationFormat.Currency:isValid=this.currencyRegexPattern.test(value);
if(!isValid){this.get_violationMessages().push(this.get_currencyViolationMessage());
}break;
case Telerik.Sitefinity.Web.UI.Validation.Enums.ValidationFormat.EmailAddress:isValid=this.emailAddressRegexPattern.test(value);
if(!isValid){this.get_violationMessages().push(this.get_emailAddressViolationMessage());
}break;
case Telerik.Sitefinity.Web.UI.Validation.Enums.ValidationFormat.Integer:isValid=this.integerRegexPattern.test(value);
if(!isValid){this.get_violationMessages().push(this.get_integerViolationMessage());
}break;
case Telerik.Sitefinity.Web.UI.Validation.Enums.ValidationFormat.InternetUrl:isValid=this.internetUrlRegexPattern.test(value);
if(!isValid){this.get_violationMessages().push(this.get_internetUrlViolationMessage());
}break;
case Telerik.Sitefinity.Web.UI.Validation.Enums.ValidationFormat.NonAlphaNumeric:isValid=this.nonAlphaNumericRegexPattern.test(value);
if(!isValid){this.get_violationMessages().push(this.get_nonAlphaNumericViolationMessage());
}break;
case Telerik.Sitefinity.Web.UI.Validation.Enums.ValidationFormat.Numeric:isValid=this.numericRegexPattern.test(value);
if(!isValid){this.get_violationMessages().push(this.get_numericViolationMessage());
}break;
case Telerik.Sitefinity.Web.UI.Validation.Enums.ValidationFormat.Percentage:isValid=this.percentRegexPattern.test(value);
if(!isValid){this.get_violationMessages().push(this.get_percentageViolationMessage());
}break;
case Telerik.Sitefinity.Web.UI.Validation.Enums.ValidationFormat.USSocialSecurityNumber:isValid=this.uSSocialSecurityRegexPattern.test(value);
if(!isValid){this.get_violationMessages().push(this.get_uSocialSecurityNumberViolationMessage());
}break;
case Telerik.Sitefinity.Web.UI.Validation.Enums.ValidationFormat.USZipCode:isValid=this.uSZipCodeRegexPattern.test(value);
if(!isValid){this.get_violationMessages().push(this.get_uSZipCodeViolationMessage());
}break;
}return isValid;
},_validateCustomRegex:function(value,regex){var regexPattern=new XRegExp(regex,"g");
var isRegexValid=false;
if(this.get_regularExpressionSeparator()){isRegexValid=true;
if(value){regexPattern=new XRegExp(regex);
var sepRegex=new RegExp(this.get_regularExpressionSeparator());
var splitArray=value.split(sepRegex);
for(var i=0;
i<splitArray.length;
i++){var currentPart=splitArray[i];
isRegexValid=regexPattern.test(currentPart);
if(isRegexValid==false){break;
}}}}else{isRegexValid=regexPattern.test(value);
}if(!isRegexValid){var msg=this.get_regularExpressionViolationMessage();
if(msg==null){msg=this.get_regularExpression();
}this.get_violationMessages().push(msg);
return false;
}return true;
},_validateComparisons:function(value){var isValid=true;
if(value!==null&&value!==undefined&&this.get_comparingValidatorDefinitions()){var comparisonsCount=this.get_comparingValidatorDefinitions().length;
while(comparisonsCount--){if(this.get_comparingValidatorDefinitions()[comparisonsCount]){isValid=this._validateComparison(this.get_comparingValidatorDefinitions()[comparisonsCount],value)&&isValid;
}}}return isValid;
},_validateComparison:function(comparison,value){var validationOperator=comparison.Operator;
var controlToCompareId=comparison.ControlToCompare;
var violationMessage=comparison.ValidationViolationMessage;
var validationDataType=comparison.ValidationDataType;
value=this._getValueAsType(value,validationDataType);
var isValid=true;
if(controlToCompareId&&validationOperator>=0){var valueToCompareTo=this._get_controlValue(controlToCompareId);
valueToCompareTo=this._getValueAsType(valueToCompareTo,validationDataType);
isValid=this._compare(value,validationOperator,valueToCompareTo);
if(!isValid){this.get_violationMessages().push(violationMessage);
}}return isValid;
},_getValueAsType:function(value,type){switch(type){case"Number":return Number(value);
}return value;
},_get_controlValue:function(controlToCompareId){var clientID=$get_clientId(controlToCompareId);
if(!clientID){throw new "The client Id could not be resolved.";
}var componentToCompareTo=$find(clientID);
if(componentToCompareTo){return this._get_componentValue(componentToCompareTo);
}else{var controlToCompareTo=$get(clientID);
if(controlToCompareTo){return this._get_controlValue(controlToCompareTo);
}}throw new "There is no control with id: "+controlID+" to use for comparison validation.";
},_get_componentValue:function(componentToCompareTo){if(componentToCompareTo.get_value){return componentToCompareTo.get_value();
}if(componentToCompareTo.get_element){return this._get_elementValue(componentToCompareTo.get_element());
}throw new "The value of the control could not be resolved.";
},_get_elementValue:function(controlToCompareTo){if(controlToCompareTo.value){return controlToCompareTo.value;
}throw new "The value of the control could not be resolved.";
},_compare:function(firstValue,validationOperator,secondValue){if(typeof firstValue!=typeof secondValue){return false;
}var validationCompareOperator=Telerik.Sitefinity.Web.UI.Validation.Enums.ValidationCompareOperator;
switch(validationOperator){case validationCompareOperator.Equal:return firstValue===secondValue;
case validationCompareOperator.NotEqual:return firstValue!=secondValue;
case validationCompareOperator.GreaterThan:return firstValue>secondValue;
case validationCompareOperator.GreaterThanEqual:return firstValue>=secondValue;
case validationCompareOperator.LessThan:return firstValue<secondValue;
case validationCompareOperator.LessThanEqual:return firstValue<=secondValue;
default:throw"This operator is not supported";
}},_setPropertyIfChanged:function(){var propertyName=arguments[0];
propertyName=propertyName.charAt(0).toLowerCase()+propertyName.slice(1);
var value=arguments.length==3?arguments[2]:arguments[1];
var fieldName=arguments.length==3?arguments[1]:null;
if(!fieldName){fieldName="_"+propertyName;
}if(!propertyName||!this.hasOwnProperty(fieldName)){return;
}var currentValue=this[fieldName];
if(currentValue!=value){this[fieldName]=value;
this.raisePropertyChanged(propertyName);
}},_createViolationMessageElement:function(){var errorMessageElement=document.createElement(this.get_messageTagName());
jQuery(errorMessageElement).addClass(this.get_messageCssClass());
return errorMessageElement;
},get_violationMessageElement:function(){if(!this._violationMessageElement){this._violationMessageElement=this._createViolationMessageElement();
}this._violationMessageElement.innerHTML="";
var violationMessagesCount=this.get_violationMessages().length;
while(violationMessagesCount--){this._violationMessageElement.innerHTML+=" ";
this._violationMessageElement.innerHTML+=this.get_violationMessages()[violationMessagesCount];
}return this._violationMessageElement;
},get_violationMessages:function(){return this._violationMessages;
},set_violationMessages:function(value){this._violationMessages=value;
},set_expectedFormat:function(value){this._setPropertyIfChanged("expectedFormat",value);
},get_expectedFormat:function(){return this._expectedFormat;
},set_maxLength:function(value){this._setPropertyIfChanged("maxLength",value);
},get_maxLength:function(){return this._maxLength;
},set_minLength:function(value){this._setPropertyIfChanged("minLength",value);
},get_minLength:function(){return this._minLength;
},set_maxValue:function(value){this._setPropertyIfChanged("maxValue",value);
},get_maxValue:function(){return this._maxValue;
},set_minValue:function(value){this._setPropertyIfChanged("minValue",value);
},get_minValue:function(){return this._minValue;
},set_regularExpression:function(value){this._setPropertyIfChanged("regularExpression",value);
},get_regularExpression:function(){return this._regularExpression;
},set_required:function(value){this._setPropertyIfChanged("required",value);
},get_required:function(){return this._required;
},set_alphaNumericViolationMessage:function(value){this._setPropertyIfChanged("alphaNumericViolationMessage",value);
},get_alphaNumericViolationMessage:function(){return this._alphaNumericViolationMessage;
},set_currencyViolationMessage:function(value){this._setPropertyIfChanged("currencyViolationMessage",value);
},get_currencyViolationMessage:function(){return this._currencyViolationMessage;
},set_emailAddressViolationMessage:function(value){this._setPropertyIfChanged("emailAddressViolationMessage",value);
},get_emailAddressViolationMessage:function(){return this._emailAddressViolationMessage;
},set_integerViolationMessage:function(value){this._setPropertyIfChanged("integerViolationMessage",value);
},get_integerViolationMessage:function(){return this._integerViolationMessage;
},set_internetUrlViolationMessage:function(value){this._setPropertyIfChanged("internetUrlViolationMessage",value);
},get_internetUrlViolationMessage:function(){return this._internetUrlViolationMessage;
},set_maxLengthViolationMessage:function(value){this._setPropertyIfChanged("maxLengthViolationMessage",value);
},get_maxLengthViolationMessage:function(){return this._maxLengthViolationMessage;
},set_maxValueViolationMessage:function(value){this._setPropertyIfChanged("maxValueViolationMessage",value);
},get_maxValueViolationMessage:function(){return this._maxValueViolationMessage;
},set_messageCssClass:function(value){this._setPropertyIfChanged("messageCssClass",value);
},get_messageCssClass:function(){return this._messageCssClass;
},set_messageTagName:function(value){this._setPropertyIfChanged("messageTagName",value);
},get_messageTagName:function(){return this._messageTagName;
},set_minLengthViolationMessage:function(value){this._setPropertyIfChanged("minLengthViolationMessage",value);
},get_minLengthViolationMessage:function(){return this._minLengthViolationMessage;
},set_minValueViolationMessage:function(value){this._setPropertyIfChanged("minValueViolationMessage",value);
},get_minValueViolationMessage:function(){return this._minValueViolationMessage;
},set_nonAlphaNumericViolationMessage:function(value){this._setPropertyIfChanged("nonAlphaNumericViolationMessage",value);
},get_nonAlphaNumericViolationMessage:function(){return this._nonAlphaNumericViolationMessage;
},set_numericViolationMessage:function(value){this._setPropertyIfChanged("numericViolationMessage",value);
},get_numericViolationMessage:function(){return this._numericViolationMessage;
},set_percentageViolationMessage:function(value){this._setPropertyIfChanged("percentageViolationMessage",value);
},get_percentageViolationMessage:function(){return this._percentageViolationMessage;
},set_regularExpressionViolationMessage:function(value){this._setPropertyIfChanged("regularExpressionViolationMessage",value);
},get_regularExpressionViolationMessage:function(){return this._regularExpressionViolationMessage;
},set_regularExpressionSeparator:function(value){this._setPropertyIfChanged("regularExpressionSeparator",value);
},get_regularExpressionSeparator:function(){return this._regularExpressionSeparator;
},set_requiredViolationMessage:function(value){this._setPropertyIfChanged("requiredViolationMessage",value);
},get_requiredViolationMessage:function(){return this._requiredViolationMessage;
},set_uSocialSecurityNumberViolationMessage:function(value){this._setPropertyIfChanged("uSocialSecurityNumberViolationMessage",value);
},get_uSocialSecurityNumberViolationMessage:function(){return this._uSocialSecurityNumberViolationMessage;
},set_uSZipCodeViolationMessage:function(value){this._setPropertyIfChanged("uSZipCodeViolationMessage",value);
},get_uSZipCodeViolationMessage:function(){return this._uSZipCodeViolationMessage;
},set_validateIfInvisible:function(value){this._setPropertyIfChanged("validateIfInvisible",value);
},get_validateIfInvisible:function(){return this._validateIfInvisible;
},set_comparingValidatorDefinitions:function(value){this._setPropertyIfChanged("comparingValidatorDefinitions",value);
},get_comparingValidatorDefinitions:function(){return this._comparingValidatorDefinitions;
}};
Telerik.Sitefinity.Web.UI.Validation.Validator.registerClass("Telerik.Sitefinity.Web.UI.Validation.Validator",Sys.Component);
Telerik.Sitefinity.Web.UI.Validation.ValidatingEventArgs=function(value){this._value=value;
this._isValid=false;
Telerik.Sitefinity.Web.UI.Validation.ValidatingEventArgs.initializeBase(this);
};
Telerik.Sitefinity.Web.UI.Validation.ValidatingEventArgs.prototype={initialize:function(){Telerik.Sitefinity.Web.UI.Validation.ValidatingEventArgs.callBaseMethod(this,"initialize");
},dispose:function(){Telerik.Sitefinity.Web.UI.Validation.ValidatingEventArgs.callBaseMethod(this,"dispose");
},get_value:function(){return this._value;
},get_isValid:function(){return this._isValid;
},set_isValid:function(value){if(this._isValid!=value){this._isValid=value;
}}};
Telerik.Sitefinity.Web.UI.Validation.ValidatingEventArgs.registerClass("Telerik.Sitefinity.Web.UI.Validation.ValidatingEventArgs",Sys.CancelEventArgs);
Telerik.Sitefinity.Web.UI.Validation.ValidatedEventArgs=function(isValid,value){this._value=value;
this._isValid=false;
Telerik.Sitefinity.Web.UI.Validation.ValidatedEventArgs.initializeBase(this);
};
Telerik.Sitefinity.Web.UI.Validation.ValidatedEventArgs.prototype={initialize:function(){Telerik.Sitefinity.Web.UI.Validation.ValidatedEventArgs.callBaseMethod(this,"initialize");
},dispose:function(){Telerik.Sitefinity.Web.UI.Validation.ValidatedEventArgs.callBaseMethod(this,"dispose");
},get_value:function(){return this._value;
},get_isValid:function(){return this._isValid;
},set_isValid:function(value){if(this._isValid!=value){this._isValid=value;
}}};
Telerik.Sitefinity.Web.UI.Validation.ValidatedEventArgs.registerClass("Telerik.Sitefinity.Web.UI.Validation.ValidatedEventArgs",Sys.EventArgs);
Telerik.Sitefinity.Web.UI.Validation.ValidationResult=function(){this._isValid=false;
this._value=value;
Telerik.Sitefinity.Web.UI.Validation.ValidationResult.initializeBase(this);
};
Type.registerNamespace("Telerik.Sitefinity.Web.UI.Validation.Enums");
Telerik.Sitefinity.Web.UI.Validation.Enums.ValidationFormat=function(){};
Telerik.Sitefinity.Web.UI.Validation.Enums.ValidationFormat.prototype={None:0,AlphaNumeric:1,Currency:2,EmailAddress:3,Integer:4,InternetUrl:5,NonAlphaNumeric:6,Numeric:7,Percentage:8,USSocialSecurityNumber:9,USZipCode:10,Custom:11};
Telerik.Sitefinity.Web.UI.Validation.Enums.ValidationFormat.registerEnum("Telerik.Sitefinity.Web.UI.Validation.Enums.ValidationFormat");
Telerik.Sitefinity.Web.UI.Validation.Enums.ValidationCompareOperator=function(){};
Telerik.Sitefinity.Web.UI.Validation.Enums.ValidationCompareOperator.prototype={Equal:0,NotEqual:1,GreaterThan:2,GreaterThanEqual:3,LessThan:4,LessThanEqual:5,DataTypeCheck:6};
Telerik.Sitefinity.Web.UI.Validation.Enums.ValidationCompareOperator.registerEnum("Telerik.Sitefinity.Web.UI.Validation.Enums.ValidationCompareOperator");

/* END Telerik.Sitefinity.Web.UI.Validation.Scripts.Validator.js */
/* START Telerik.Sitefinity.Web.UI.Fields.Scripts.FieldControl.js */
Type.registerNamespace("Telerik.Sitefinity.Web.UI.Fields");
Telerik.Sitefinity.Web.UI.Fields.FieldControl=function(element){this._element=element;
this._dataFieldName=null;
this._dataFormatString=null;
this._description=null;
this._descriptionElement=null;
this._displayMode=null;
this._example=null;
this._exampleElement=null;
this._title=null;
this._titleElement=null;
this._validatorDefinition=null;
this._value=null;
this._defaultValue=null;
this._isBinding=false;
this._fieldName=null;
this._validator=null;
this._valueChangedDelegate=null;
this._isViolationElementPositioned=false;
this._controlErrorCssClass="";
this._uiCulture=null;
this._culture=null;
this._emptyGuid="00000000-0000-0000-0000-000000000000";
this._dataContext=null;
Telerik.Sitefinity.Web.UI.Fields.FieldControl.isValidationMessagedFocused=false;
Telerik.Sitefinity.Web.UI.Fields.FieldControl.initializeBase(this,[element]);
};
Telerik.Sitefinity.Web.UI.Fields.FieldControl.prototype={initialize:function(){if(this._valueChangedDelegate==null){this._valueChangedDelegate=Function.createDelegate(this,this._valueChangedHandler);
}if(this._validatorDefinition){this._validatorDefinition=Sys.Serialization.JavaScriptSerializer.deserialize(this._validatorDefinition);
this._validator=new Telerik.Sitefinity.Web.UI.Validation.Validator(this._validatorDefinition);
}if(this._controlErrorCssClass==null){this._controlErrorCssClass="";
}Telerik.Sitefinity.Web.UI.Fields.FieldControl.callBaseMethod(this,"initialize");
},dispose:function(){if(this._valueChangedDelegate!=null){delete this._valueChangedDelegate;
}Telerik.Sitefinity.Web.UI.Fields.FieldControl.callBaseMethod(this,"dispose");
},add_valueChanged:function(delegate){this.get_events().addHandler("valueChanged",delegate);
},remove_valueChanged:function(delegate){this.get_events().removeHandler("valueChanged",delegate);
},add_reset:function(delegate){this.get_events().addHandler("reset",delegate);
},remove_reset:function(delegate){this.get_events().removeHandler("reset",delegate);
},add_doExpand:function(delegate){this.get_events().addHandler("doExpand",delegate);
},remove_doExpand:function(delegate){this.get_events().removeHandler("doExpand",delegate);
},add_doCollapse:function(delegate){this.get_events().addHandler("doCollapse",delegate);
},remove_doCollapse:function(delegate){this.get_events().removeHandler("doCollapse",delegate);
},add_dataBound:function(delegate){this.get_events().addHandler("dataBound",delegate);
},remove_dataBound:function(delegate){this.get_events().removeHandler("dataBound",delegate);
},reset:function(){this._clearViolationMessage();
this._resetHandler();
},validate:function(){if(this._validator&&this._isToValidate()){var isValid=this._validator.validate(this.get_value());
var addWrappingErrorCssClass=this._controlErrorCssClass.length>0;
var violationMessageElement=this._validator.get_violationMessageElement();
if(isValid){if(addWrappingErrorCssClass){jQuery(this._element).removeClass(this._controlErrorCssClass);
}violationMessageElement.style.display="none";
}else{if(addWrappingErrorCssClass){if(!jQuery(this._element).hasClass(this._controlErrorCssClass)){jQuery(this._element).addClass(this._controlErrorCssClass);
}}this._expandParentSections(this._element);
this._showViolationMessageElement(violationMessageElement);
}return isValid;
}return true;
},raise_dataBound:function(){if(typeof this.get_events=="function"){var h=this.get_events().getHandler("dataBound");
if(h){h(this,Sys.EventArgs.Empty);
}return Sys.EventArgs.Empty;
}},focusControlByTabKey:function(keyDownEventArgs){if(keyDownEventArgs.keyCode==Sys.UI.Key.tab){var currentTabIndex=parseInt(this.get_tabIndex());
var direction=1;
var element=null;
if(!currentTabIndex){return;
}if(keyDownEventArgs.shiftKey){direction=-1;
element=this.findPreviousElementByTabIndex(currentTabIndex);
}else{element=this.findNextElementByTabIndex(currentTabIndex);
}if(element){element.focus();
if(keyDownEventArgs.stopPropagation){keyDownEventArgs.stopPropagation();
}if(keyDownEventArgs.preventDefault){keyDownEventArgs.preventDefault();
}}}},findElementByTabIndex:function(tabIndex){if(tabIndex>0){var element=jQuery(this._element).parents().find("[tabIndex='"+tabIndex+"']:visible");
if(element.length>0){return element[element.length-1];
}}return null;
},findNextElementByTabIndex:function(tabIndex){var closestTabIndex=Infinity;
var elements=jQuery(this._element).parents().find(":visible").filter(function(){var ti=$(this).attr("tabIndex");
if(ti){ti=parseInt(ti);
if(ti>tabIndex&&ti<=closestTabIndex){closestTabIndex=ti;
return true;
}}return false;
});
if(elements&&elements.length>0){return elements[0];
}return null;
},findPreviousElementByTabIndex:function(tabIndex){var closestTabIndex=-Infinity;
var elements=jQuery(this._element).parents().find(":visible").filter(function(){var ti=$(this).attr("tabIndex");
if(ti){ti=parseInt(ti);
if(ti<tabIndex&&ti>=closestTabIndex&&ti>=1){closestTabIndex=ti;
return true;
}}return false;
});
if(elements&&elements.length>0){return elements[elements.length-1];
}return null;
},_valueChangedHandler:function(){if(typeof this.get_events=="function"){var h=this.get_events().getHandler("valueChanged");
if(h){h(this,Sys.EventArgs.Empty);
}return Sys.EventArgs.Empty;
}},_resetHandler:function(){if(typeof this.get_events=="function"){var h=this.get_events().getHandler("reset");
if(h){h(this,Sys.EventArgs.Empty);
}return Sys.EventArgs.Empty;
}},_doExpandHandler:function(){if(typeof this.get_events=="function"){var h=this.get_events().getHandler("doExpand");
if(h){h(this,Sys.EventArgs.Empty);
}return Sys.EventArgs.Empty;
}},_doCollapseHandler:function(){if(typeof this.get_events=="function"){var h=this.get_events().getHandler("doCollapse");
if(h){h(this,Sys.EventArgs.Empty);
}return Sys.EventArgs.Empty;
}},_clearViolationMessage:function(){var element=jQuery(this.get_element()).find("."+this._getViolationMessageClassName());
if(element.length>0){element.hide();
}},_showViolationMessageElement:function(element){if(!this._isViolationElementPositioned){this.get_element().appendChild(element);
this._isViolationElementPositioned=true;
}element.style.display="";
jQuery(element).addClass(this._getViolationMessageClassName());
var fieldControl=Telerik.Sitefinity.Web.UI.Fields.FieldControl;
if(!fieldControl.isValidationMessagedFocused){fieldControl.isValidationMessagedFocused=true;
jQuery("html, body").scrollTop(element.offsetTop);
}},_getViolationMessageClassName:function(){return"violationMessage"+this.get_id();
},_isToValidate:function(){return(this._validator.get_validateIfInvisible()||$(this._element).is(":visible"))&&this.get_displayMode()===Telerik.Sitefinity.Web.UI.Fields.FieldDisplayMode.Write;
},_expandParentSections:function(element){var elementParent=jQuery(element).parent();
while(elementParent.length!=0){if(jQuery(elementParent).hasClass("sfExpandableForm")){if(!jQuery(elementParent).hasClass("sfExpandedForm")){jQuery(elementParent).addClass("sfExpandedForm");
}var collapsedElement=jQuery(elementParent).find(".sfCollapsedTarget");
if(collapsedElement.length!=0){collapsedElement.removeClass("sfCollapsedTarget");
collapsedElement.addClass("sfExpandedTarget");
}}elementParent=elementParent.parent();
}},isChanged:function(){var notChanged=(this._value==this.get_value());
if(notChanged){return false;
}else{return true;
}},hasAttribute:function(value){var attr=jQuery(this._element).attr(value);
if(typeof attr!=="undefined"&&attr!==false){return true;
}return false;
},getAttributeValue:function(value){var result=jQuery(this._element).attr(value);
if(result){return result;
}return"";
},get_dataFieldName:function(){return this._dataFieldName;
},set_dataFieldName:function(value){this._dataFieldName=value;
},get_dataFormatString:function(){return this._dataFormatString;
},set_dataFormatString:function(value){this._dataFormatString=value;
},get_description:function(){return this._description;
},set_description:function(value){this._description=value;
if(this._descriptionElement){this._descriptionElement.innerHTML=this._description;
}},get_descriptionElement:function(){return this._descriptionElement;
},set_descriptionElement:function(value){this._descriptionElement=value;
},get_displayMode:function(){return this._displayMode;
},set_displayMode:function(value){this._displayMode=value;
},get_example:function(){return this._example;
},set_example:function(value){this._example=value;
if(this._exampleElement){this._exampleElement.innerHTML=this._example;
}},get_exampleElement:function(){return this._exampleElement;
},set_exampleElement:function(value){this._exampleElement=value;
},get_title:function(){return this._title;
},set_title:function(value){this._title=value;
if(this._titleElement){this._titleElement.innerHTML=this._title;
}},get_titleElement:function(){return this._titleElement;
},set_titleElement:function(value){this._titleElement=value;
},get_validatorDefinition:function(){return this._validatorDefinition;
},set_validatorDefinition:function(value){this._validatorDefinition=value;
},get_validator:function(){return this._validator;
},set_validator:function(value){this._validator=value;
},get_isBinding:function(){return this._isBinding;
},set_isBinding:function(value){this._isBinding=value;
},get_value:function(){return this._value;
},set_value:function(value){this._value=value;
},get_defaultValue:function(){return this._defaultValue;
},set_defaultValue:function(value){this._defaultValue=value;
},get_tabIndex:function(){var result=jQuery(this._element).attr("tabIndex");
if(result){return result;
}return -1;
},set_tabIndex:function(value){jQuery(this._element).attr("tabIndex",value);
},blur:function(){},focus:function(){},clearViolationMessage:function(){this._clearViolationMessage();
},get_violationMessages:function(){return this._validator.get_violationMessages();
},get_validator:function(){return this._validator;
},get_controlErrorCssClass:function(){return this._controlErrorCssClass;
},set_controlErrorCssClass:function(value){this._controlErrorCssClass=value;
},set_uiCulture:function(culture){this._uiCulture=culture;
},get_uiCulture:function(){return this._uiCulture;
},set_culture:function(culture){this._culture=culture;
},get_culture:function(){return this._culture;
},get_fieldName:function(){return this._fieldName;
},set_fieldName:function(value){this._fieldName=value;
},get_dataContext:function(){return this._dataContext;
},set_dataContext:function(value){this._dataContext=value;
},};
Telerik.Sitefinity.Web.UI.Fields.FieldControl.registerClass("Telerik.Sitefinity.Web.UI.Fields.FieldControl",Sys.UI.Control,Telerik.Sitefinity.Web.UI.Fields.IField);

/* END Telerik.Sitefinity.Web.UI.Fields.Scripts.FieldControl.js */
/* START Telerik.Sitefinity.Web.UI.Fields.Scripts.FieldDisplayMode.js */
Type.registerNamespace("Telerik.Sitefinity.Web.UI.Fields");
Telerik.Sitefinity.Web.UI.Fields.FieldDisplayMode=function(){};
Telerik.Sitefinity.Web.UI.Fields.FieldDisplayMode.prototype={Read:0,Write:1};
Telerik.Sitefinity.Web.UI.Fields.FieldDisplayMode.registerEnum("Telerik.Sitefinity.Web.UI.Fields.FieldDisplayMode");

/* END Telerik.Sitefinity.Web.UI.Fields.Scripts.FieldDisplayMode.js */
/* START Telerik.Sitefinity.Resources.Scripts.xregexp-min.js */
// XRegExp 1.5.0 without native overrides!!
var XRegExp; if (XRegExp) { throw Error("can't load XRegExp twice in the same frame"); } (function () { XRegExp = function (pattern, flags) { var output = [], currScope = XRegExp.OUTSIDE_CLASS, pos = 0, context, tokenResult, match, chr, regex; if (XRegExp.isRegExp(pattern)) { if (flags !== undefined) { throw TypeError("can't supply flags when constructing one RegExp from another"); } return clone(pattern); } if (isInsideConstructor) { throw Error("can't call the XRegExp constructor within token definition functions"); } flags = flags || ""; context = { hasNamedCapture: false, captureNames: [], hasFlag: function (flag) { return flags.indexOf(flag) > -1; }, setFlag: function (flag) { flags += flag; } }; while (pos < pattern.length) { tokenResult = runTokens(pattern, pos, currScope, context); if (tokenResult) { output.push(tokenResult.output); pos += (tokenResult.match[0].length || 1); } else { if (match = real.exec.call(nativeTokens[currScope], pattern.slice(pos))) { output.push(match[0]); pos += match[0].length; } else { chr = pattern.charAt(pos); if (chr === "[") { currScope = XRegExp.INSIDE_CLASS; } else { if (chr === "]") { currScope = XRegExp.OUTSIDE_CLASS; } } output.push(chr); pos++; } } } regex = RegExp(output.join(""), real.replace.call(flags, flagClip, "")); regex._xregexp = { source: pattern, captureNames: context.hasNamedCapture ? context.captureNames : null }; return regex; }; XRegExp.version = "1.5.0"; XRegExp.INSIDE_CLASS = 1; XRegExp.OUTSIDE_CLASS = 2; var replacementToken = /\$(?:(\d\d?|[$&`'])|{([$\w]+)})/g, flagClip = /[^gimy]+|([\s\S])(?=[\s\S]*\1)/g, quantifier = /^(?:[?*+]|{\d+(?:,\d*)?})\??/, isInsideConstructor = false, tokens = [], real = { exec: RegExp.prototype.exec, test: RegExp.prototype.test, match: String.prototype.match, replace: String.prototype.replace, split: String.prototype.split }, compliantExecNpcg = real.exec.call(/()??/, "")[1] === undefined, compliantLastIndexIncrement = function () { var x = /^/g; real.test.call(x, ""); return !x.lastIndex; } (), compliantLastIndexReset = function () { var x = /x/g; real.replace.call("x", x, ""); return !x.lastIndex; } (), hasNativeY = RegExp.prototype.sticky !== undefined, nativeTokens = {}; nativeTokens[XRegExp.INSIDE_CLASS] = /^(?:\\(?:[0-3][0-7]{0,2}|[4-7][0-7]?|x[\dA-Fa-f]{2}|u[\dA-Fa-f]{4}|c[A-Za-z]|[\s\S]))/; nativeTokens[XRegExp.OUTSIDE_CLASS] = /^(?:\\(?:0(?:[0-3][0-7]{0,2}|[4-7][0-7]?)?|[1-9]\d*|x[\dA-Fa-f]{2}|u[\dA-Fa-f]{4}|c[A-Za-z]|[\s\S])|\(\?[:=!]|[?*+]\?|{\d+(?:,\d*)?}\??)/; XRegExp.addToken = function (regex, handler, scope, trigger) { tokens.push({ pattern: clone(regex, "g" + (hasNativeY ? "y" : "")), handler: handler, scope: scope || XRegExp.OUTSIDE_CLASS, trigger: trigger || null }); }; XRegExp.cache = function (pattern, flags) { var key = pattern + "/" + (flags || ""); return XRegExp.cache[key] || (XRegExp.cache[key] = XRegExp(pattern, flags)); }; XRegExp.copyAsGlobal = function (regex) { return clone(regex, "g"); }; XRegExp.escape = function (str) { return str.replace(/[-[\]{}()*+?.,\\^$|#\s]/g, "\\$&"); }; XRegExp.execAt = function (str, regex, pos, anchored) { regex = clone(regex, "g" + ((anchored && hasNativeY) ? "y" : "")); regex.lastIndex = pos = pos || 0; var match = regex.exec(str); if (anchored) { return (match && match.index === pos) ? match : null; } else { return match; } }; XRegExp.freezeTokens = function () { XRegExp.addToken = function () { throw Error("can't run addToken after freezeTokens"); }; }; XRegExp.isRegExp = function (o) { return Object.prototype.toString.call(o) === "[object RegExp]"; }; XRegExp.iterate = function (str, origRegex, callback, context) { var regex = clone(origRegex, "g"), i = -1, match; while (match = regex.exec(str)) { callback.call(context, match, ++i, str, regex); if (regex.lastIndex === match.index) { regex.lastIndex++; } } if (origRegex.global) { origRegex.lastIndex = 0; } }; XRegExp.matchChain = function (str, chain) { return function recurseChain(values, level) { var item = chain[level].regex ? chain[level] : { regex: chain[level] }, regex = clone(item.regex, "g"), matches = [], i; for (i = 0; i < values.length; i++) { XRegExp.iterate(values[i], regex, function (match) { matches.push(item.backref ? (match[item.backref] || "") : match[0]); }); } return ((level === chain.length - 1) || !matches.length) ? matches : recurseChain(matches, level + 1); } ([str], 0); }; RegExp.prototype.apply = function (context, args) { return this.exec(args[0]); }; RegExp.prototype.call = function (context, str) { return this.exec(str); }; function clone(regex, additionalFlags) { if (!XRegExp.isRegExp(regex)) { throw TypeError("type RegExp expected"); } var x = regex._xregexp; regex = XRegExp(regex.source, getNativeFlags(regex) + (additionalFlags || "")); if (x) { regex._xregexp = { source: x.source, captureNames: x.captureNames ? x.captureNames.slice(0) : null }; } return regex; } function getNativeFlags(regex) { return (regex.global ? "g" : "") + (regex.ignoreCase ? "i" : "") + (regex.multiline ? "m" : "") + (regex.extended ? "x" : "") + (regex.sticky ? "y" : ""); } function runTokens(pattern, index, scope, context) { var i = tokens.length, result, match, t; isInsideConstructor = true; try { while (i--) { t = tokens[i]; if ((scope & t.scope) && (!t.trigger || t.trigger.call(context))) { t.pattern.lastIndex = index; match = t.pattern.exec(pattern); if (match && match.index === index) { result = { output: t.handler.call(context, match, scope), match: match }; break; } } } } catch (err) { throw err; } finally { isInsideConstructor = false; } return result; } function indexOf(array, item, from) { if (Array.prototype.indexOf) { return array.indexOf(item, from); } for (var i = from || 0; i < array.length; i++) { if (array[i] === item) { return i; } } return -1; } XRegExp.addToken(/\(\?#[^)]*\)/, function (match) { return real.test.call(quantifier, match.input.slice(match.index + match[0].length)) ? "" : "(?:)"; }); XRegExp.addToken(/\((?!\?)/, function () { this.captureNames.push(null); return "("; }); XRegExp.addToken(/\(\?<([$\w]+)>/, function (match) { this.captureNames.push(match[1]); this.hasNamedCapture = true; return "("; }); XRegExp.addToken(/\\k<([\w$]+)>/, function (match) { var index = indexOf(this.captureNames, match[1]); return index > -1 ? "\\" + (index + 1) + (isNaN(match.input.charAt(match.index + match[0].length)) ? "" : "(?:)") : match[0]; }); XRegExp.addToken(/\[\^?]/, function (match) { return match[0] === "[]" ? "\\b\\B" : "[\\s\\S]"; }); XRegExp.addToken(/^\(\?([imsx]+)\)/, function (match) { this.setFlag(match[1]); return ""; }); XRegExp.addToken(/(?:\s+|#.*)+/, function (match) { return real.test.call(quantifier, match.input.slice(match.index + match[0].length)) ? "" : "(?:)"; }, XRegExp.OUTSIDE_CLASS, function () { return this.hasFlag("x"); }); XRegExp.addToken(/\./, function () { return "[\\s\\S]"; }, XRegExp.OUTSIDE_CLASS, function () { return this.hasFlag("s"); }); })();
/* END Telerik.Sitefinity.Resources.Scripts.xregexp-min.js */
/* START Telerik.Sitefinity.Resources.Scripts.xregexp-unicode-base.js */
/*
XRegExp Unicode plugin base 0.5
(c) 2008-2010 Steven Levithan
MIT License
<http://xregexp.com>
Uses the Unicode 5.2 character database

The Unicode plugin base adds support for the \p{L} token only (Unicode category Letter). Plugin
packages are available that add support for the remaining Unicode categories, as well as Unicode
scripts and blocks.

All Unicode tokens can be inverted by using an uppercase P; e.g., \P{L} matches any character not
in Unicode's Letter category. Negated Unicode tokens are not supported within character classes.

Letter case, spaces, hyphens, and underscores are ignored when comparing Unicode token names.
*/

var XRegExp;

if (!XRegExp) {
    throw ReferenceError("XRegExp must be loaded before the Unicode plugin");
}

(function () {

    var unicode = {}; // protected storage for package tokens

    XRegExp.addUnicodePackage = function (pack) {
        var codePoint = /\w{4}/g,
            clip = /[- _]+/g,
            name, p;
        for (p in pack) {
            if (pack.hasOwnProperty(p)) {
                name = p.replace(clip, "").toLowerCase();
                // disallow overriding properties that have already been added
                if (!unicode.hasOwnProperty(name)) {
                    unicode[name] = pack[p].replace(codePoint, "\\u$&");
                }
            }
        }
    };

    XRegExp.addToken(
        /\\([pP]){(\^?)([^}]*)}/,
        function (match, scope) {
            var negated = (match[1] === "P" || match[2]),
                item = match[3].replace(/[- _]+/g, "").toLowerCase();

            // \p{}, \P{}, and \p{^} are valid, but the double negative \P{^} isn't
            if (match[1] === "P" && match[2])
                throw SyntaxError("erroneous characters: " + match[0]);
            if (negated && scope === XRegExp.INSIDE_CLASS)
                throw SyntaxError("not supported in character classes: \\" + match[1] + "{" + match[2] + "\u22EF}");
            if (!unicode.hasOwnProperty(item))
                throw SyntaxError("invalid or unsupported Unicode item: " + match[0]);

            return scope === XRegExp.OUTSIDE_CLASS ?
                "[" + (negated ? "^" : "") + unicode[item] + "]" :
                unicode[item];
        },
        XRegExp.INSIDE_CLASS | XRegExp.OUTSIDE_CLASS
    );

    XRegExp.addUnicodePackage({
        L: "0041-005A0061-007A00AA00B500BA00C0-00D600D8-00F600F8-02C102C6-02D102E0-02E402EC02EE0370-037403760377037A-037D03860388-038A038C038E-03A103A3-03F503F7-0481048A-05250531-055605590561-058705D0-05EA05F0-05F20621-064A066E066F0671-06D306D506E506E606EE06EF06FA-06FC06FF07100712-072F074D-07A507B107CA-07EA07F407F507FA0800-0815081A082408280904-0939093D09500958-0961097109720979-097F0985-098C098F09900993-09A809AA-09B009B209B6-09B909BD09CE09DC09DD09DF-09E109F009F10A05-0A0A0A0F0A100A13-0A280A2A-0A300A320A330A350A360A380A390A59-0A5C0A5E0A72-0A740A85-0A8D0A8F-0A910A93-0AA80AAA-0AB00AB20AB30AB5-0AB90ABD0AD00AE00AE10B05-0B0C0B0F0B100B13-0B280B2A-0B300B320B330B35-0B390B3D0B5C0B5D0B5F-0B610B710B830B85-0B8A0B8E-0B900B92-0B950B990B9A0B9C0B9E0B9F0BA30BA40BA8-0BAA0BAE-0BB90BD00C05-0C0C0C0E-0C100C12-0C280C2A-0C330C35-0C390C3D0C580C590C600C610C85-0C8C0C8E-0C900C92-0CA80CAA-0CB30CB5-0CB90CBD0CDE0CE00CE10D05-0D0C0D0E-0D100D12-0D280D2A-0D390D3D0D600D610D7A-0D7F0D85-0D960D9A-0DB10DB3-0DBB0DBD0DC0-0DC60E01-0E300E320E330E40-0E460E810E820E840E870E880E8A0E8D0E94-0E970E99-0E9F0EA1-0EA30EA50EA70EAA0EAB0EAD-0EB00EB20EB30EBD0EC0-0EC40EC60EDC0EDD0F000F40-0F470F49-0F6C0F88-0F8B1000-102A103F1050-1055105A-105D106110651066106E-10701075-1081108E10A0-10C510D0-10FA10FC1100-1248124A-124D1250-12561258125A-125D1260-1288128A-128D1290-12B012B2-12B512B8-12BE12C012C2-12C512C8-12D612D8-13101312-13151318-135A1380-138F13A0-13F41401-166C166F-167F1681-169A16A0-16EA1700-170C170E-17111720-17311740-17511760-176C176E-17701780-17B317D717DC1820-18771880-18A818AA18B0-18F51900-191C1950-196D1970-19741980-19AB19C1-19C71A00-1A161A20-1A541AA71B05-1B331B45-1B4B1B83-1BA01BAE1BAF1C00-1C231C4D-1C4F1C5A-1C7D1CE9-1CEC1CEE-1CF11D00-1DBF1E00-1F151F18-1F1D1F20-1F451F48-1F4D1F50-1F571F591F5B1F5D1F5F-1F7D1F80-1FB41FB6-1FBC1FBE1FC2-1FC41FC6-1FCC1FD0-1FD31FD6-1FDB1FE0-1FEC1FF2-1FF41FF6-1FFC2071207F2090-209421022107210A-211321152119-211D212421262128212A-212D212F-2139213C-213F2145-2149214E218321842C00-2C2E2C30-2C5E2C60-2CE42CEB-2CEE2D00-2D252D30-2D652D6F2D80-2D962DA0-2DA62DA8-2DAE2DB0-2DB62DB8-2DBE2DC0-2DC62DC8-2DCE2DD0-2DD62DD8-2DDE2E2F300530063031-3035303B303C3041-3096309D-309F30A1-30FA30FC-30FF3105-312D3131-318E31A0-31B731F0-31FF3400-4DB54E00-9FCBA000-A48CA4D0-A4FDA500-A60CA610-A61FA62AA62BA640-A65FA662-A66EA67F-A697A6A0-A6E5A717-A71FA722-A788A78BA78CA7FB-A801A803-A805A807-A80AA80C-A822A840-A873A882-A8B3A8F2-A8F7A8FBA90A-A925A930-A946A960-A97CA984-A9B2A9CFAA00-AA28AA40-AA42AA44-AA4BAA60-AA76AA7AAA80-AAAFAAB1AAB5AAB6AAB9-AABDAAC0AAC2AADB-AADDABC0-ABE2AC00-D7A3D7B0-D7C6D7CB-D7FBF900-FA2DFA30-FA6DFA70-FAD9FB00-FB06FB13-FB17FB1DFB1F-FB28FB2A-FB36FB38-FB3CFB3EFB40FB41FB43FB44FB46-FBB1FBD3-FD3DFD50-FD8FFD92-FDC7FDF0-FDFBFE70-FE74FE76-FEFCFF21-FF3AFF41-FF5AFF66-FFBEFFC2-FFC7FFCA-FFCFFFD2-FFD7FFDA-FFDC"
    });

})();


/* END Telerik.Sitefinity.Resources.Scripts.xregexp-unicode-base.js */
/* START Telerik.Sitefinity.Web.UI.Extenders.Scripts.ExpandableExtender.js */
Type.registerNamespace("Telerik.Sitefinity.Web.UI.Extenders");
Telerik.Sitefinity.Web.UI.Extenders.ExpandableExtender=function(element){this._expanded=null;
this._expandElement=null;
this._expandText=null;
this._expandTarget=null;
this._fieldControl=null;
this._originalExpandedState=false;
this._expandDelegate=null;
this._resetDelegate=null;
this._toggleDelegate=null;
this._resetSectionDelegate=null;
Telerik.Sitefinity.Web.UI.Extenders.ExpandableExtender.initializeBase(this,[element]);
};
Telerik.Sitefinity.Web.UI.Extenders.ExpandableExtender.prototype={initialize:function(){this._originalExpandedState=this._expanded;
this._expandDelegate=Function.createDelegate(this,this.expand);
this._resetDelegate=Function.createDelegate(this,this.reset);
this._toggleDelegate=Function.createDelegate(this,this.toggle);
this._resetSectionDelegate=Function.createDelegate(this,this.resetSection);
if(this._expandElement!=null){$addHandler(this._expandElement,"click",this._expandDelegate);
$addHandler(this._expandElement,"focus",this._expandDelegate);
}if(this._fieldControl!=null){if(this.isSection()){if(this._expandElement!=null){$addHandler(this._expandElement,"click",this._toggleDelegate);
}this._fieldControl.add_reset(this._resetSectionDelegate);
}else{this._fieldControl.add_reset(this._resetDelegate);
this._fieldControl.add_doExpand(this._expandDelegate);
}}Telerik.Sitefinity.Web.UI.Extenders.ExpandableExtender.callBaseMethod(this,"initialize");
},dispose:function(){if(this._expandElement){$clearHandlers(this._expandElement);
}if(this._fieldControl){if(this.isSection()){if(this._toggleDelegate){this._fieldControl.remove_doToggle(this._toggleDelegate);
}if(this._resetSectionDelegate){this._fieldControl.remove_reset(this._resetSectionDelegate);
}}else{if(this._resetDelegate){this._fieldControl.remove_reset(this._resetDelegate);
}if(this._expandDelegate){this._fieldControl.remove_doExpand(this._expandDelegate);
}}}if(this._expandDelegate){delete this._expandDelegate;
}if(this._resetDelegate){delete this._resetDelegate;
}if(this._resetSectionDelegate){delete this._resetSectionDelegate;
}if(this._toggleDelegate){delete this._toggleDelegate;
}Telerik.Sitefinity.Web.UI.Extenders.ExpandableExtender.callBaseMethod(this,"dispose");
},isSection:function(){if(Object.getTypeName(this._fieldControl)=="Telerik.Sitefinity.Web.UI.ContentUI.Views.Backend.Detail.SectionControl"){return true;
}return false;
},inheritsFieldControl:function(){if(Object.getTypeName(this._fieldControl)=="Telerik.Sitefinity.Web.UI.Fields.FieldControl"){return true;
}return false;
},expandSection:function(){var wrapper=$(this._fieldControl.get_wrapperElement());
var toggleTarget=$(this._expandTarget);
wrapper.addClass("sfExpandedForm");
toggleTarget.addClass("sfExpandedTarget");
toggleTarget.removeClass("sfCollapsedTarget");
this._fieldControl.toggle({Action:"expand"});
},collapseSection:function(){var wrapper=$(this._fieldControl.get_wrapperElement());
var toggleTarget=$(this._expandTarget);
wrapper.removeClass("sfExpandedForm");
toggleTarget.removeClass("sfExpandedTarget");
toggleTarget.addClass("sfCollapsedTarget");
this._fieldControl.toggle({Action:"collapse"});
},toggle:function(){var wrapper=$(this._fieldControl.get_wrapperElement());
wrapper.toggleClass("sfExpandedForm");
if(!wrapper.hasClass("sfExpandedForm")){this.collapseSection();
}else{this.expandSection();
}},expand:function(){this.get_expandElement().style.display="none";
this.get_expandTarget().style.display="";
if(this._fieldControl.focus){this._fieldControl.focus();
}},collapse:function(){this.get_expandElement().style.display="";
this.get_expandTarget().style.display="none";
},reset:function(){if(this._originalExpandedState){this.expand();
}else{this.collapse();
}},resetSection:function(){if(this._originalExpandedState){this.expandSection();
}else{this.collapseSection();
}},get_expanded:function(){return this._expanded;
},set_expanded:function(value){this._expanded=value;
},get_expandElement:function(){return this._expandElement;
},set_expandElement:function(value){this._expandElement=value;
},get_expandText:function(){return this._expandText;
},set_expandText:function(value){this._expandText=value;
},get_expandTarget:function(){return this._expandTarget;
},set_expandTarget:function(value){this._expandTarget=value;
},get_fieldControl:function(){return this._fieldControl;
},set_fieldControl:function(value){this._fieldControl=value;
},get_originalExpandedState:function(){return this._originalExpandedState;
}};
Telerik.Sitefinity.Web.UI.Extenders.ExpandableExtender.registerClass("Telerik.Sitefinity.Web.UI.Extenders.ExpandableExtender",Sys.UI.Behavior);

/* END Telerik.Sitefinity.Web.UI.Extenders.Scripts.ExpandableExtender.js */
/* START Telerik.Sitefinity.Web.UI.Fields.Scripts.TextField.js */
Type.registerNamespace("Telerik.Sitefinity.Web.UI.Fields");
Telerik.Sitefinity.Web.UI.Fields.TextField=function(element){Telerik.Sitefinity.Web.UI.Fields.TextField.initializeBase(this,[element]);
this._element=element;
this._labelElement=null;
this._textBoxElement=null;
this._expandableExtenderId=null;
this._expandableExtenderBehavior=null;
this._conditionalTemplatesContainerId=null;
this._templatesContainer=null;
this._hideIfValue=null;
this._suffix=null;
this._currentCondition=null;
this._textBoxId=null;
this._textLabelId=null;
this._conditionDictionary=[];
this._unit=null;
this._characterCounterElement=null;
this._recommendedCharactersCount=0;
this._trimSpaces=false;
this._maxChars=0;
this._allowNulls=false;
};
Telerik.Sitefinity.Web.UI.Fields.TextField.prototype={initialize:function(){Telerik.Sitefinity.Web.UI.Fields.TextField.callBaseMethod(this,"initialize");
if(this.get_displayMode()==Telerik.Sitefinity.Web.UI.Fields.FieldDisplayMode.Write){this._handleKeyDownDelegate=Function.createDelegate(this,this._keyDownHandler);
$addHandler(this.get_textElement(),"keypress",this._handleKeyDownDelegate);
this._handleKeyUpDelegate=Function.createDelegate(this,this._keyUpHandler);
$addHandler(this.get_textElement(),"keyup",this._handleKeyUpDelegate);
this._handlePasteDelegate=Function.createDelegate(this,this._pasteHandler);
$addHandler(this.get_textElement(),"paste",this._handlePasteDelegate);
this._handleFocusDelegate=Function.createDelegate(this,this._focusHandler);
$addHandler(this.get_textElement(),"focus",this._handleFocusDelegate);
this._handleBlurDelegate=Function.createDelegate(this,this._blurHandler);
$addHandler(this.get_textElement(),"blur",this._handleBlurDelegate);
}if(this._hideIfValue!=null){this.set_defaultValue(this._hideIfValue);
}this.calculateCharactersCount();
jQuery(this.get_characterCounterElement()).hide();
},dispose:function(){if(this._handleKeyDownDelegate){$removeHandler(this.get_textElement(),"keypress",this._handleKeyDownDelegate);
delete this._handleKeyDownDelegate;
}if(this._handleKeyUpDelegate){$removeHandler(this.get_textElement(),"keyup",this._handleKeyUpDelegate);
delete this._handleKeyUpDelegate;
}if(this._handlePasteDelegate){$removeHandler(this.get_textElement(),"paste",this._handlePasteDelegate);
delete this._handlePasteDelegate;
}if(this._handleFocusDelegate){$removeHandler(this.get_textElement(),"focus",this._handleFocusDelegate);
delete this._handleFocusDelegate;
}if(this._handleBlurDelegate){$removeHandler(this.get_textElement(),"blur",this._handleBlurDelegate);
delete this._handleBlurDelegate;
}this._labelElement=null;
this._textBoxElement=null;
Telerik.Sitefinity.Web.UI.Fields.TextField.callBaseMethod(this,"dispose");
},reset:function(){var defaultValue=this.get_defaultValue();
if(defaultValue==undefined){defaultValue=null;
}this.set_value(defaultValue);
jQuery(this.get_characterCounterElement()).text("");
Telerik.Sitefinity.Web.UI.Fields.TextField.callBaseMethod(this,"reset");
},get_value:function(){var val=this._get_textValue();
if(this.get_displayMode()==Telerik.Sitefinity.Web.UI.Fields.FieldDisplayMode.Write){if(val==""&&this._hideIfValue!=null){return this._hideIfValue;
}}if(val==""&&this.get_allowNulls()){return null;
}return val;
},set_value:function(value){if(this.get_trimSpaces()){value=jQuery.trim(value);
}if(this._hideIfValue!=null&&this._hideIfValue==value){if(this.get_displayMode()==Telerik.Sitefinity.Web.UI.Fields.FieldDisplayMode.Write){this._clearTextBox();
}else{this._clearLabel();
}}else{if(this.get_displayMode()==Telerik.Sitefinity.Web.UI.Fields.FieldDisplayMode.Write){this._set_writeModeValue(value);
}else{this._set_readModeValue(value);
}}this._value=value;
this.raisePropertyChanged("value");
this._valueChangedHandler();
},isChanged:function(){if(this._value==null){this._value="";
}var notChanged=(this._value==this.get_value());
if(notChanged){return false;
}else{return true;
}},calculateCharactersCount:function(){if(this.get_textElement().value==undefined){return;
}var currentCount=this.get_textElement().value.length;
if(currentCount==0){jQuery(this.get_characterCounterElement()).text("");
}else{jQuery(this.get_characterCounterElement()).text(currentCount);
}if(this.get_recommendedCharactersCount()!=0){this.colorCharactersCount(currentCount,this.get_recommendedCharactersCount());
}jQuery(this.get_characterCounterElement()).show();
},colorCharactersCount:function(currentCount,recommendedCount){if(currentCount<=recommendedCount){jQuery(this.get_characterCounterElement()).css("color","Black");
}else{jQuery(this.get_characterCounterElement()).css("color","Red");
}},_keyDownHandler:function(e){this.focusControlByTabKey(e);
},_pasteHandler:function(e){this._trimChars();
this.calculateCharactersCount();
},_keyUpHandler:function(e){this._trimChars();
this.calculateCharactersCount();
},_focusHandler:function(e){jQuery(this.get_characterCounterElement()).show();
this.calculateCharactersCount();
},_blurHandler:function(e){if(this.get_trimSpaces()){this.get_textElement().value=jQuery.trim(this.get_value());
this.calculateCharactersCount();
}jQuery(this.get_characterCounterElement()).hide();
},_getTemplate:function(templateCondition){var templatesContainer=this._getTemplatesContainer();
var template=templatesContainer.find("#"+this._conditionDictionary[templateCondition]);
return template;
},_switchToTemplate:function(templateCondition){var currentCondition=this._currentCondition;
if(currentCondition==templateCondition){return;
}this._currentCondition=templateCondition;
var currentElement=jQuery(this._element);
var templatesContainer=this._getTemplatesContainer();
var childsExceptContainer=currentElement.children().not("#"+this._conditionalTemplatesContainerId);
var hiddenContainer=this._getTemplate(currentCondition);
if(hiddenContainer.length==0){hiddenContainerID="hiddenContainer"+this._suffix;
hiddenContainer=jQuery.find("#"+hiddenContainerID);
if(hiddenContainer.length==0){hiddenContainer=jQuery('<div id="'+hiddenContainerID+'"></div>');
}templatesContainer.append(hiddenContainer);
}childsExceptContainer.each(function(index){hiddenContainer.append(this);
});
var newTemplate=this._getTemplate(templateCondition);
var cleanHtml=jQuery.trim(newTemplate.html());
newTemplate.children().each(function(index){jQuery(this).insertBefore(templatesContainer);
});
},_getTemplatesContainer:function(){if(!this._templatesContainer){this._templatesContainer=jQuery("#"+this._conditionalTemplatesContainerId);
}return this._templatesContainer;
},_getElementFromCurrentTemplate:function(selector){return jQuery(this._element).find(selector).not("#"+this._conditionalTemplatesContainerId+" "+selector)[0];
},_buildCondition:function(left,operator,right){return String.format("{0}-{1}-{2}",left,operator,right).toLowerCase();
},_clearLabel:function(){if(this._labelElement!=null){this._labelElement.innerHTML="";
}},_clearTextBox:function(){if(this._textBoxElement!=null){this._textBoxElement.value="";
this.calculateCharactersCount();
}},_set_writeModeValue:function(value){if(value===undefined||value==null){this._clearTextBox();
}else{if(this._textBoxElement!=null){this._textBoxElement.value=value;
if(value!=this.get_defaultValue()&&jQuery("body").hasClass("sfFormDialog")){this._doExpandHandler();
}}if(this._unit!=null&&this._unit.length>0){jQuery(this._element).find("span.sfUnit").remove();
jQuery(this._textBoxElement).after('<span class="sfUnit">'+this._unit+"</span>");
}}},_set_readModeValue:function(value){if(value===undefined||value==null){this._clearLabel();
}else{if(this._labelElement!=null){if(this._unit!=null&&this._unit.length>0){jQuery(this._labelElement).html(value+" <span>"+this._unit+"</span>");
}else{jQuery(this._labelElement).html(value);
}}}},_get_writeModeValue:function(){if(this._textBoxElement){return this._textBoxElement.value;
}return null;
},_get_textValue:function(){if(this.get_displayMode()==Telerik.Sitefinity.Web.UI.Fields.FieldDisplayMode.Write){return this._get_writeModeValue();
}else{return this._get_readModeValue();
}},_get_readModeValue:function(){if(this._labelElement){return jQuery(this._labelElement).text();
}return null;
},_get_ExpandableExtenderBehavior:function(){if(this._expandableExtenderBehavior){return this._expandableExtenderBehavior;
}this._expandableExtenderBehavior=Sys.UI.Behavior.getBehaviorByName(this._element,"ExpandableExtender");
return this._expandableExtenderBehavior;
},_trimChars:function(){if(this._maxChars&&this._maxChars>0){var value=this.get_value();
value=value.substring(0,this._maxChars);
this.set_value(value);
}},get_allowNulls:function(){return this._allowNulls;
},set_allowNulls:function(value){this._allowNulls=value;
},get_hideIfValue:function(){return this._hideIfValue;
},set_hideIfValue:function(value){this._hideIfValue=value;
},get_textBoxElement:function(){return this._textBoxElement;
},set_textBoxElement:function(value){this._textBoxElement=value;
},get_labelElement:function(){return this._labelElement;
},set_labelElement:function(value){this._labelElement=value;
},get_textElement:function(){if(this.get_displayMode()==Telerik.Sitefinity.Web.UI.Fields.FieldDisplayMode.Write){return this._textBoxElement;
}else{return this._labelElement;
}},set_displayMode:function(mode){var currentValue=this.get_value();
if(typeof mode==="string"){mode=parseInt(mode);
}this._displayMode=mode;
if(this.get_isInitialized()){switch(mode){case Telerik.Sitefinity.Web.UI.Fields.FieldDisplayMode.Read:var condition=this._buildCondition("DisplayMode","Equal","Read");
this._switchToTemplate(condition);
if(!this._labelElement){this._labelElement=this._getElementFromCurrentTemplate("#"+this._textLabelId+this.get_suffix());
}jQuery(this._labelElement).text(currentValue);
break;
case Telerik.Sitefinity.Web.UI.Fields.FieldDisplayMode.Write:var condition=this._buildCondition("DisplayMode","Equal","Write");
this._switchToTemplate(condition);
if(!this._textBoxElement){this._textBoxElement=this._getElementFromCurrentTemplate("#"+this._textBoxId+this.get_suffix());
}this._textBoxElement.value=currentValue;
break;
}}},set_tabIndex:function(value){this._tabIndex=value;
jQuery(this.get_textElement()).attr("tabindex",value);
},get_tabIndex:function(){return jQuery(this.get_textElement()).attr("tabindex");
},get_suffix:function(){return this._suffix;
},set_suffix:function(value){this._suffix=value;
},focus:function(){var input=this.get_textElement();
if(jQuery(input).is(":visible")&&jQuery(input).is(":enabled")){input.focus();
}},blur:function(){var behavior=this._get_ExpandableExtenderBehavior();
if(behavior!=null&&!behavior.get_originalExpandedState()){var val=this.get_value();
if(val==""){behavior.collapse();
}}},set_defaultValue:function(value){if(value===null||value===undefined){value="";
}this._defaultValue=value;
},get_element:function(){return this._element;
},set_element:function(value){this._element=value;
},get_conditionDictionary:function(){return this._conditionDictionary;
},set_conditionDictionary:function(value){this._conditionDictionary=value;
},get_characterCounterElement:function(){return this._characterCounterElement;
},set_characterCounterElement:function(value){this._characterCounterElement=value;
},get_recommendedCharactersCount:function(){return this._recommendedCharactersCount;
},set_recommendedCharactersCount:function(value){this._recommendedCharactersCount=value;
},get_trimSpaces:function(){return this._trimSpaces;
},set_trimSpaces:function(value){this._trimSpaces=value;
}};
Telerik.Sitefinity.Web.UI.Fields.TextField.registerClass("Telerik.Sitefinity.Web.UI.Fields.TextField",Telerik.Sitefinity.Web.UI.Fields.FieldControl);

/* END Telerik.Sitefinity.Web.UI.Fields.Scripts.TextField.js */
/* START Telerik.Sitefinity.Web.UI.Fields.Scripts.FormManagerEventArgs.js */
Type.registerNamespace("Telerik.Sitefinity.Web.UI.Fields");
Telerik.Sitefinity.Web.UI.Fields.FormFieldValidationEventArgs=function(fieldControl,validationGroup){this._fieldControl=fieldControl;
this._validated=false;
this._isValid=true;
this._validationGroup=validationGroup;
Telerik.Sitefinity.Web.UI.Fields.FormFieldValidationEventArgs.initializeBase(this);
};
Telerik.Sitefinity.Web.UI.Fields.FormFieldValidationEventArgs.prototype={initialize:function(){Telerik.Sitefinity.Web.UI.Fields.FormFieldValidationEventArgs.callBaseMethod(this,"initialize");
},dispose:function(){Telerik.Sitefinity.Web.UI.Fields.FormFieldValidationEventArgs.callBaseMethod(this,"dispose");
},get_fieldControl:function(){return this._fieldControl;
},set_fieldControl:function(value){this._fieldControl=value;
},get_isValid:function(){return this._isValid;
},set_isValid:function(value){this._isValid=value;
},get_validated:function(){return this._validated;
},set_validated:function(value){this._validated=value;
},get_validationGroup:function(){return this._validationGroup;
},set_validationGroup:function(value){this._validationGroup=value;
}};
Telerik.Sitefinity.Web.UI.Fields.FormFieldValidationEventArgs.registerClass("Telerik.Sitefinity.Web.UI.Fields.FormFieldValidationEventArgs",Sys.EventArgs);
Telerik.Sitefinity.Web.UI.Fields.ValidationCompletedEventArgs=function(violationMessages,validationGroup,validationResult){Telerik.Sitefinity.Web.UI.Fields.ValidationCompletedEventArgs.initializeBase(this);
this._validationGroup=validationGroup;
this._violationMessages=violationMessages;
this._validationResult=validationResult;
};
Telerik.Sitefinity.Web.UI.Fields.ValidationCompletedEventArgs.prototype={initialize:function(){Telerik.Sitefinity.Web.UI.Fields.ValidationCompletedEventArgs.callBaseMethod(this,"initialize");
},dispose:function(){Telerik.Sitefinity.Web.UI.Fields.ValidationCompletedEventArgs.callBaseMethod(this,"dispose");
},get_validationGroup:function(){return this._validationGroup;
},set_validationGroup:function(value){this._validationGroup=value;
},get_violationMessages:function(){return this._violationMessages;
},set_violationMessages:function(value){this._violationMessages=value;
},get_validationResult:function(){return this._validationResult;
}};
Telerik.Sitefinity.Web.UI.Fields.ValidationCompletedEventArgs.registerClass("Telerik.Sitefinity.Web.UI.Fields.ValidationCompletedEventArgs",Sys.EventArgs);

/* END Telerik.Sitefinity.Web.UI.Fields.Scripts.FormManagerEventArgs.js */
/* START Telerik.Sitefinity.Web.UI.Fields.Scripts.FormManager.js */
Type.registerNamespace("Telerik.Sitefinity.Web.UI.Fields");
var $get_clientId;
if(typeof($FormManager)==="undefined"){var $FormManager=null;
}Telerik.Sitefinity.Web.UI.Fields.FormManager=function(){Telerik.Sitefinity.Web.UI.Fields.FormManager.initializeBase(this);
this._controlIdMappings={};
this._validationGroupMappings={};
};
Telerik.Sitefinity.Web.UI.Fields.FormManager.IsRegistered=false;
Telerik.Sitefinity.Web.UI.Fields.FormManager.prototype={initialize:function(){Telerik.Sitefinity.Web.UI.Fields.FormManager.callBaseMethod(this,"initialize");
if(Telerik.Sitefinity.Web.UI.Fields.FormManager.IsRegistered){return;
}Telerik.Sitefinity.Web.UI.Fields.FormManager._controlIdMappings=this._controlIdMappings;
Telerik.Sitefinity.Web.UI.Fields.FormManager.getControlId=$get_clientId=this.getControlId;
Telerik.Sitefinity.Web.UI.Fields.FormManager._validationGroupMappings=this._validationGroupMappings;
Telerik.Sitefinity.Web.UI.Fields.FormManager.validateGroup=this.validateGroup;
Telerik.Sitefinity.Web.UI.Fields.FormManager.validateAll=this.validateAll;
$FormManager=this;
Telerik.Sitefinity.Web.UI.Fields.FormManager.IsRegistered=true;
},dispose:function(){Telerik.Sitefinity.Web.UI.Fields.FormManager.callBaseMethod(this,"dispose");
},getControlId:function(serverId){var controlId=$FormManager._controlIdMappings[serverId];
if(!controlId){alert('This form expects a control with ID "'+serverId+'" to be present and may not work properly as it is missing. You may see this message, because the corresponding default field was removed.');
controlId=null;
}return controlId;
},validateGroup:function(validationGroup){if(validationGroup===undefined||validationGroup==null){validationGroup="";
}var clientIDs=$FormManager._validationGroupMappings[validationGroup];
var result=true;
var violationMessages=[];
if(clientIDs){var iter=clientIDs.length;
while(iter--){var fieldControl=$find(clientIDs[iter]);
var resultArgs=$FormManager._raiseFieldValidation(fieldControl,validationGroup);
var isValid;
if(resultArgs&&typeof(resultArgs.get_validated)==="function"&&typeof(resultArgs.get_isValid)==="function"){if(resultArgs.get_validated()){isValid=resultArgs.get_isValid();
}}else{isValid=fieldControl.validate();
}if(!isValid){var msgs=fieldControl.get_violationMessages();
var count=msgs.length;
while(count--){violationMessages.push(msgs[count]);
}result=false;
}}}$FormManager._raiseFormValidationCompleted(violationMessages,validationGroup,result);
return result;
},validateAll:function(){var result=true;
var mappings=this._validationGroupMappings;
for(var group in mappings){var isValid=this.validateGroup(group);
if(!isValid){result=false;
}}return result;
},add_onFieldValidation:function(delegate){this.get_events().addHandler("onFieldValidation",delegate);
},remove_onFieldValidation:function(delegate){this.get_events().removeHandler("onFieldValidation",delegate);
},add_onFormValidationCompleted:function(delegate){this.get_events().addHandler("onFormValidationCompleted",delegate);
},remove_onFormValidationCompleted:function(delegate){this.get_events().removeHandler("onFormValidationCompleted",delegate);
},_raiseFieldValidation:function(fieldControl,validationGroup){var eventArgs=new Telerik.Sitefinity.Web.UI.Fields.FormFieldValidationEventArgs(fieldControl,validationGroup);
var h=this.get_events().getHandler("onFieldValidation");
if(h){h(this,eventArgs);
}},_raiseFormValidationCompleted:function(violationMessages,validationGroup,validationResult){var eventArgs=new Telerik.Sitefinity.Web.UI.Fields.ValidationCompletedEventArgs(violationMessages,validationGroup,validationResult);
var h=this.get_events().getHandler("onFormValidationCompleted");
if(h){h(this,eventArgs);
}}};
Telerik.Sitefinity.Web.UI.Fields.FormManager.registerClass("Telerik.Sitefinity.Web.UI.Fields.FormManager",Sys.Component);

/* END Telerik.Sitefinity.Web.UI.Fields.Scripts.FormManager.js */
/* START Telerik.Sitefinity.Web.UI.Fields.Scripts.ILocalizableFieldControl.js */
Type.registerNamespace("Telerik.Sitefinity.Web.UI.Fields");
Telerik.Sitefinity.Web.UI.Fields.ILocalizableFieldControl=function(){};
Telerik.Sitefinity.Web.UI.Fields.ILocalizableFieldControl.prototype={get_culture:function(){},set_culture:function(culture){},get_uiCulture:function(){},set_uiCulture:function(culture){}};
Telerik.Sitefinity.Web.UI.Fields.ILocalizableFieldControl.registerInterface("Telerik.Sitefinity.Web.UI.Fields.ILocalizableFieldControl");

/* END Telerik.Sitefinity.Web.UI.Fields.Scripts.ILocalizableFieldControl.js */
/* START Telerik.Sitefinity.Web.UI.Fields.Scripts.HtmlField.js */
Type.registerNamespace("Telerik.Sitefinity.Web.UI.Fields");
Telerik.Sitefinity.Web.UI.Fields.HtmlField=function(element){this._element=element;
this._editControlId=null;
this._editControl=null;
this._editorLoadDelegate=null;
this._editorDialogsExtender=null;
this._viewControl=null;
this._originalValue=null;
this._editorKeyDownDelegate=null;
this._handleApplicationInitDelegate=null;
this._handlePageLoadDelegate=null;
this._focusDelegate=null;
this._hasChanged=false;
this._editorCommandExecutingDelegate=null;
this._editorCommandExecutedDelegate=null;
this._editorClientPasteHtmlDelegate=null;
this._toolbarMoreToolsLabel=null;
this._toolbarLessToolsLabel=null;
this._fixCursorIssue=null;
this._editorToolbarMode=null;
this._className=null;
this._handlersAdded=false;
this._enabled=true;
this._addDialogShowHandlerDelegate=null;
this._addDialogLoadHandlerDelegate=null;
this._removeDialogShowHandlerDelegate=null;
this._autoSizeEndHandlerDelegate=null;
this._culture=null;
this._uiCulture=null;
Telerik.Sitefinity.Web.UI.Fields.HtmlField.initializeBase(this,[element]);
};
Telerik.Sitefinity.Web.UI.Fields.HtmlField.prototype={initialize:function(){Telerik.Sitefinity.Web.UI.Fields.HtmlField.callBaseMethod(this,"initialize");
this._handleApplicationInitDelegate=Function.createDelegate(this,this._handleApplicationInit);
Sys.Application.add_init(this._handleApplicationInitDelegate);
this._handlePageLoadDelegate=Function.createDelegate(this,this._handlePageLoad);
this._focusDelegate=Function.createDelegate(this,this.focus);
$addHandler(this._element,"focus",this._focusDelegate);
Sys.Application.add_load(this._handlePageLoadDelegate);
this._editorCommandExecutingDelegate=Function.createDelegate(this,this._editorCommandExecutingHandler);
this._editorCommandExecutedDelegate=Function.createDelegate(this,this._editorCommandExecutedHandler);
this._editorClientPasteHtmlDelegate=Function.createDelegate(this,this._editorClientPasteHtmlHandler);
this._editorKeyDownDelegate=Function.createDelegate(this,this._editorKeyDownHandler);
this._addDialogShowHandlerDelegate=Function.createDelegate(this,this._addDialogShowHandler);
this._addDialogLoadHandlerDelegate=Function.createDelegate(this,this._addDialogLoadHandler);
this._removeDialogShowHandlerDelegate=Function.createDelegate(this,this._removeDialogShowHandler);
this._autoSizeEndHandlerDelegate=Function.createDelegate(this,this._autoSizeEndHandler);
},dispose:function(){if(this._handleApplicationInitDelegate){Sys.Application.remove_init(this._handleApplicationInitDelegate);
delete this._handleApplicationInitDelegate;
}if(this._handlePageLoadDelegate){Sys.Application.remove_load(this._handlePageLoadDelegate);
delete this._handlePageLoadDelegate;
}if(this._focusDelegate){$removeHandler(this._element,"focus",this._focusDelegate);
delete this._focusDelegate;
}if(this._editorKeyDownDelegate){if(this._editControl){this._editControl.detachEventHandler("onkeydown",this._editorKeyDownDelegate);
}delete this._editorKeyDownDelegate;
}if(this._editControl){this._editControl.remove_commandExecuting(this._editorCommandExecutingDelegate);
this._editControl.remove_commandExecuted(this._editorCommandExecutedDelegate);
this._editControl.remove_pasteHtml(this._editorClientPasteHtmlDelegate);
}if(this._editorCommandExecutingDelegate){delete this._editorCommandExecutingDelegate;
}if(this._editorCommandExecutedDelegate){delete this._editorCommandExecutedDelegate;
}if(this._editorClientPasteHtmlDelegate){delete this._editorClientPasteHtmlDelegate;
}if(this._addDialogShowHandlerDelegate){delete this._addDialogShowHandlerDelegate;
}if(this._addDialogLoadHandlerDelegate){delete this._addDialogLoadHandlerDelegate;
}if(this._autoSizeEndHandlerDelegate){delete this._autoSizeEndHandlerDelegate;
}if(this._removeDialogShowHandlerDelegate){delete this._removeDialogShowHandlerDelegate;
}if(this._editorCommandExecutingDelegate){delete this._editorCommandExecutingDelegate;
}if(this._editorLoadDelegate){delete this._editorLoadDelegate;
}Telerik.Sitefinity.Web.UI.Fields.HtmlField.callBaseMethod(this,"dispose");
},reset:function(){if(this.get_displayMode()==Telerik.Sitefinity.Web.UI.Fields.FieldDisplayMode.Write){var defaultValue=this.get_defaultValue();
if(defaultValue==undefined||defaultValue==null){defaultValue="";
}if(this._editControl!=null){this._editControl.set_html(defaultValue);
}}else{this._viewControl.innerHTML=defaultValue;
}Telerik.Sitefinity.Web.UI.Fields.HtmlField.callBaseMethod(this,"reset");
},focus:function(){if(this._editControl!=null&&this.get_displayMode()==Telerik.Sitefinity.Web.UI.Fields.FieldDisplayMode.Write){this._editControl.setFocus();
}},blur:function(){},_editorKeyDownHandler:function(e){this._hasChanged=true;
if(e.keyCode==Sys.UI.Key.tab){this._editControl.removeShortCut("InsertTab");
$telerik.cancelRawEvent(e);
this.focusControlByTabKey(e);
}},_editorCommandExecutedHandler:function(editor,args){var commandName=args.get_commandName();
if(commandName=="ToggleScreenMode"){editor.repaint();
}},_editorCommandExecutingHandler:function(editor,args){this._hasChanged=true;
var name=args.get_name();
var val=args.get_value();
var commandName=args.get_commandName();
this._className="re"+commandName;
if(commandName=="ToggleAdvancedToolbars"){this._toggleAdvancedToolbars(editor);
args.set_cancel(true);
}if(editor.get_dialogOpener()){if(editor.get_dialogOpener()._container&&!this._handlersAdded){editor.get_dialogOpener()._container.add_show(this._addDialogShowHandlerDelegate);
editor.get_dialogOpener()._container.add_pageLoad(this._addDialogLoadHandlerDelegate);
editor.get_dialogOpener()._container.add_close(this._removeDialogShowHandlerDelegate);
editor.get_dialogOpener()._container.add_autoSizeEnd(this._autoSizeEndHandlerDelegate);
this._handlersAdded=true;
}}if(name=="MergeTags"){editor.pasteHtml(val);
args.set_cancel(true);
}if(commandName=="ToggleScreenMode"){var containerWnd=this._getRadWindow();
if(!editor.isFullScreen()){$("body").addClass("sfFullScreenEditorWrp");
$(editor.get_element()).addClass("sfFullScreenEditor");
if(containerWnd!=null&&!containerWnd.isMaximized()){containerWnd.maximize();
$(containerWnd.get_element()).addClass("sfWndToBeRestored");
}editor.get_document().body.style.maxWidth="640px";
editor.get_document().body.style.marginLeft="auto";
editor.get_document().body.style.marginRight="auto";
}else{$("body").removeClass("sfFullScreenEditorWrp");
$(editor.get_element()).removeClass("sfFullScreenEditor");
if(containerWnd!=null&&$(containerWnd.get_element()).hasClass("sfWndToBeRestored")){$(containerWnd.get_element()).removeClass("sfWndToBeRestored");
containerWnd.restore();
}editor.get_document().body.style.maxWidth="100%";
}}},_editorClientPasteHtmlHandler:function(sender,args){var newContent=args.get_value();
newContent=newContent.replace(new RegExp("<b(\\s([^>])*?)?>","ig"),"<strong$1>");
newContent=newContent.replace(new RegExp("</b(\\s([^>])*?)?>","ig"),"</strong$1>");
newContent=newContent.replace(new RegExp("<i(\\s([^>])*?)?>","ig"),"<em$1>");
newContent=newContent.replace(new RegExp("</i(\\s([^>])*?)?>","ig"),"</em$1>");
args.set_value(newContent);
},_editorLoadHandler:function(sender,args){this._toggleAdvancedToolbars(sender);
},_handleApplicationInit:function(sender,args){this._editorLoadDelegate=Function.createDelegate(this,this._editorLoadHandler);
if(this._editControl!=null&&this.get_displayMode()===Telerik.Sitefinity.Web.UI.Fields.FieldDisplayMode.Write){this._editControl.add_load(this._editorLoadDelegate);
}},_handlePageLoad:function(sender,args){if(args.get_isPartialLoad()){return;
}if(this._editControl!=null&&this.get_displayMode()==Telerik.Sitefinity.Web.UI.Fields.FieldDisplayMode.Write){Telerik.Web.UI.RadEditor.prototype._setContentAreaHtml=this._setRadEditorContentAreaHtml;
this._setEditorHtml(this._originalValue);
var element=document.all?this._editControl.get_document().body:this._editControl.get_document();
$telerik.addExternalHandler(element,"blur",Function.createDelegate(this,this._handleEditorBlur));
this._editControl.attachEventHandler("onkeydown",this._editorKeyDownDelegate);
this._editControl.add_commandExecuting(this._editorCommandExecutingDelegate);
this._editControl.add_commandExecuted(this._editorCommandExecutedDelegate);
this._editControl.add_pasteHtml(this._editorClientPasteHtmlDelegate);
if(this._fixCursorIssue=="True"&&navigator.userAgent.indexOf("Firefox/")!=-1){var code="document.getElementById('"+this._editControl.get_contentAreaElement().id+"').blur();";
window.setTimeout(code,400);
}if(this._editorToolbarMode=="Custom"){this._toggleAdvancedToolbars(this._editControl);
}this._editControl.enableEditing(this._enabled);
this._editControl.set_editable(this._enabled);
this._editControl.get_dialogOpener()._container.set_keepInScreenBounds(false);
this._editControl.get_dialogOpener()._container.set_autoSizeBehaviors(4+1);
}},_handleEditorBlur:function(sender,args){if(this._originalValue!=this._editControl.get_html(true)){this._valueChangedHandler();
}},_toggleAdvancedToolbars:function(editor){var $=$telerik.$;
var newMargin=0;
var editorElement=$(editor.get_element());
var toolbar=$("#"+editor.get_id()+" .reToolbar");
var toolbarWrapper=$("#"+editor.get_id()+" .reToolbarWrapper");
var toggleButton=$("#"+editor.get_id()+" .ToggleAdvancedToolbars");
toggleButton.parent().parent().css("display","inline");
toggleButton.parent().addClass("sfLinkBtn sfChange").removeClass("reTool");
toggleButton.addClass("sfLinkBtnIn");
if(editorElement.hasClass("sfMoreTools")){editorElement.removeClass("sfMoreTools");
toggleButton.text(this._toolbarLessToolsLabel);
}else{editorElement.addClass("sfMoreTools");
toggleButton.text(this._toolbarMoreToolsLabel);
}if(toggleButton.parent().is(":visible")){newMargin=toggleButton.parent().width()+17;
toolbarWrapper.css("margin-right",newMargin+"px");
}else{newMargin=toggleButton.parent().clone().addClass("sfTobeRemoved").css({position:"absolute",top:"-1000px",left:"-1000px"}).appendTo("body").width()+17;
$(".sfTobeRemoved").remove();
toolbarWrapper.css("margin-right",newMargin+"px");
}toolbarWrapper.addClass("sfClearfix");
toolbar.each(function(index){if(index>0){$(this).css("display",$(this).css("display")=="block"?"none":"block");
}editor._updateEditorSize(editor.get_element().style.height);
});
},_addDialogShowHandler:function(sender,args){if(typeof dialogBase!="undefined"){var parentWindow=dialogBase.get_radWindow();
var parentHeightBefore=parentWindow.get_height();
var parentWidthBefore=parentWindow.get_width();
parentWindow.set_height(parentHeightBefore*2);
parentWindow.set_width(parentWidthBefore*2);
}sender.set_keepInScreenBounds(false);
sender.set_autoSizeBehaviors(5);
var popupElement=sender.get_popupElement();
Sys.UI.DomElement.addCssClass(popupElement,this._className+" reDlg");
setTimeout(function(){Telerik.Sitefinity.centerWindowHorizontally(sender);
},0);
if(typeof dialogBase!="undefined"){parentWindow.set_height(parentHeightBefore);
parentWindow.set_width(parentWidthBefore);
parentWindow.autoSize();
}sender.remove_close(this.onWindowClose);
sender.add_close(this.onWindowClose);
},_addDialogLoadHandler:function(sender,args){var that=this;
window.setTimeout(function(){that._addDialogShowHandler(sender,args);
},0);
},onWindowClose:function(sender,eventArgs){if(typeof dialogBase!="undefined"){if(dialogBase){dialogBase.get_radWindow().autoSize();
}}sender.remove_close(this.onWindowClose);
},_removeDialogShowHandler:function(sender,args){var popupElement=sender.get_popupElement();
Sys.UI.DomElement.removeCssClass(popupElement,this._className);
},_autoSizeEndHandler:function(sender,args){},_getRadWindow:function(){var oWindow=null;
if(window.radWindow){oWindow=window.radWindow;
}else{if(window.frameElement&&window.frameElement.radWindow){oWindow=window.frameElement.radWindow;
}}return oWindow;
},_setEditorHtml:function(value){if(value=="undefined"||value==null){this._editControl.set_html("");
}else{this._editControl.set_html(value);
}},_setRadEditorContentAreaHtml:function(initContent,forceNewDocument){if(!initContent||initContent.trim().length==0){this._setEmptyMessage();
}var newContent=this.get_filtersManager().getDesignContent(initContent);
var oContent=null;
var $T=Telerik.Web.UI;
if(-1!=newContent.toLowerCase().indexOf("<html")){this.set_fullPage(true);
oContent=newContent;
this._doctypeString=this._extractDoctype(oContent);
}else{this.set_fullPage(false);
}if(this.get_fullPage()&&this.get_contentAreaMode()==$T.EditorContentAreaMode.Div){alert(this.get_localization()["SetToIframeForFullHTMLError"]);
newContent=Telerik.Web.UI.Editor.Utils.stripHtmlHeadBodyTags(newContent);
this.set_fullPage(false);
}newContent=this._markExistingEmptyParagraphs(newContent);
if(this.get_contentAreaMode()==$T.EditorContentAreaMode.Div){this.set_contentArea(this.get_contentAreaElement());
var contentArea=this.get_contentArea();
this.set_document(contentArea.ownerDocument);
this.set_contentWindow(window);
if(newContent.match(/<form[\s>]/i)){alert(this.get_localization()["FormElementsAreSupportedByIframeError"]);
newContent="";
}$T.Editor.Utils.setElementInnerHtml(contentArea,newContent);
this.get_filtersManager().getDesignContentDom(contentArea);
if(!this._divContentAreaInitialized){this._contentAreaCommonInitialization();
}}else{if(null!=oContent||true==forceNewDocument){if(!oContent){if($telerik.isSafari){oContent="<!DOCTYPE html><html><head><style></style></head><body>"+newContent+"</body></html>";
}else{var operaSpecific="";
if($telerik.isOpera){operaSpecific=" style='height:100%'";
}oContent='<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><head><style></style></head><body'+operaSpecific+">"+newContent+"</body>";
}}if($telerik.isFirefox){var oLoadFunction=Function.createDelegate(this,function(){if(this._execLoadFunctionSecondTime){this._contentFrameLoadFunction();
}});
$addHandler(this.get_contentAreaElement(),"load",oLoadFunction);
}try{var contentDocument=this.get_contentAreaElement().contentWindow.document;
contentDocument.open();
contentDocument.write(oContent);
contentDocument.close();
this._execLoadFunctionSecondTime=false;
if(contentDocument.body){this._contentFrameLoadFunction();
}else{this._execLoadFunctionSecondTime=true;
}}catch(e){}}else{$T.Editor.Utils.setElementInnerHtml(this.get_contentArea(),newContent);
this.get_filtersManager().getDesignContentDom(this.get_contentArea());
$(this.get_contentArea()).addClass("sfreContentArea");
}}var contentIsBroken=this._checkForBrokenParagraphs();
if(contentIsBroken){this._fixBrokenParagraphs(newContent);
}},get_editControlId:function(){return this._editControlId;
},set_editControlId:function(value){this._editControlId=value;
},get_editControl:function(){return this._editControl;
},set_editControl:function(value){this._editControl=value;
},get_editorDialogsExtender:function(){if(!this._editorDialogsExtender){var editorCustomDialogsExtenders=Sys.UI.Behavior.getBehaviorsByType(this.get_editControl().get_element(),Telerik.Sitefinity.Web.UI.Extenders.RadEditorCustomDialogsExtender);
if(!editorCustomDialogsExtenders||editorCustomDialogsExtenders.lenght<1){throw"No 'Telerik.Sitefinity.Web.UI.Extenders.RadEditorCustomDialogsExtender' found";
}if(editorCustomDialogsExtenders.length>1){throw"There are more than one 'Telerik.Sitefinity.Web.UI.Extenders.RadEditorCustomDialogsExtender' for the editor.";
}this._editorDialogsExtender=editorCustomDialogsExtenders[0];
}return this._editorDialogsExtender;
},get_viewControl:function(){return this._viewControl;
},set_viewControl:function(value){this._viewControl=value;
},isChanged:function(){if(this._hasChanged==true){return true;
}else{return false;
}},get_value:function(){if(this._editControl!=null&&this.get_displayMode()==Telerik.Sitefinity.Web.UI.Fields.FieldDisplayMode.Write){return this._editControl.get_html(true);
}else{return this._viewControl.innerHTML;
}},set_value:function(value){this._originalValue=value;
this._hasChanged=false;
if(this.get_displayMode()==Telerik.Sitefinity.Web.UI.Fields.FieldDisplayMode.Write){if(this._editControl!=null){this._setEditorHtml(value);
}}else{if(this._viewControl!=null){this._viewControl.innerHTML=value;
}}this._value=value;
this.raisePropertyChanged("value");
this._valueChangedHandler();
},get_editorToolbarMode:function(){return this._editorToolbarMode;
},set_editorToolbarMode:function(value){this._editorToolbarMode=value;
},set_culture:function(culture){this._culture=culture;
},get_culture:function(){return this._culture;
},set_uiCulture:function(culture){this._uiCulture=culture;
if(this._editControl!=null&&this.get_isInitialized()&&this.get_displayMode()===Telerik.Sitefinity.Web.UI.Fields.FieldDisplayMode.Write){this.get_editorDialogsExtender().set_uiCulture(culture);
}},get_uiCulture:function(){return this._uiCulture;
}};
Telerik.Sitefinity.Web.UI.Fields.HtmlField.registerClass("Telerik.Sitefinity.Web.UI.Fields.HtmlField",Telerik.Sitefinity.Web.UI.Fields.FieldControl,Telerik.Sitefinity.Web.UI.Fields.ILocalizableFieldControl);

/* END Telerik.Sitefinity.Web.UI.Fields.Scripts.HtmlField.js */
/* START Telerik.Web.UI.Editor.RadEditor.js */
Type.registerNamespace("Telerik.Web.UI");
Type.registerNamespace("Telerik.Web.UI.Editor");
(function(c,b,a){var d=["body","p","div","ul","ol","li","table","thead","tbody","tr","th","td","h[1-6]","form","fieldset","dl","dd","blockquote","address","hr"];
var e=["article","aside","audio","canvas","details","figcaption","figure","footer","header","hgroup","nav","output","section","video"];
var f=new RegExp("^(?:"+d.concat(e).join("|")+")$","i");
var g=b.Utils={setElementClassName:function(h,j){if(!h){return"";
}if(!j){h.className="";
h.removeAttribute("class",0);
h.removeAttribute("classname",0);
}else{var i=h.className;
h.className=j;
return i;
}},addElementsToSelection:function(i,h){if($telerik.isIE){b.Utils.selectElement(i,h[0]);
return 1;
}var k=i.getSelection();
var j=new b.Selection(i);
var l=j.getRange();
if(!l||!l.selectNodeContents){return -1;
}if(k.removeAllRanges){k.removeAllRanges();
}if(h.length>0){l.setStart(h[0],0);
l.setEnd(h[h.length-1],1);
}k.addRange(l);
return h.length;
},getFullySelectedElement:function(h){return $telerik.isIE&&!$telerik.isIE9Mode?b.Utils._getFullySelectedElementIE(h):b.Utils._getFullySelectedElementMoz(h);
},_isListFullySelected:function(h,j){if(h.tagName=="UL"||h.tagName=="OL"){var i=j.match(/<LI\/?>/gi);
if(i.length==h.getElementsByTagName("LI").length){return true;
}}return false;
},_getFullySelectedElementIE:function(h){var k=new b.Selection(h);
var q=k.getRange();
var p=(q.length>0?q.item(0):q.parentElement());
if(q.length>0){return p;
}else{if(p.tagName=="A"){var j=q.duplicate();
j.moveToElementText(p);
if(q.inRange(j)){return p;
}}else{if(b.Utils._isListFullySelected(p,k.getHtml())){return p;
}else{if(!q.htmlText){return null;
}}}}var s=q.duplicate();
var m=q.duplicate();
s.collapse(true);
m.collapse(false);
var r=s.parentElement();
if(r.parentNode==p){r=p;
}var l=m.parentElement();
if(r==l){var i=h.document;
var u=i.body.createTextRange();
u.moveToElementText(r);
var t=q.htmlText;
var v=false;
var o=r.outerHTML.replace(/[\r\n\t]/ig,"");
var n=r.innerHTML.replace(/[\r\n\t]/ig,"");
t=t.replace(/[\r\n\t]/ig,"");
if(o==t||n==t){v=true;
}if(v||(0==u.compareEndPoints("StartToStart",q)&&0==u.compareEndPoints("EndToEnd",q))){if("BODY"!=p.tagName){return p;
}}}},_getFullySelectedElementMoz:function(i){var k=i.document;
var m=i.getSelection();
if(m.rangeCount<1){return null;
}var o=m.getRangeAt(0);
var j=o.commonAncestorContainer;
var h=j.parentNode;
var l=new b.Selection(i);
if($telerik.isFirefox){var p=this._tryGetFullySelectedElementInFF(l);
if(p){return p;
}}if(j.tagName=="BODY"){var n=l.getParentElement();
if(n&&n.tagName!="BODY"){return n;
}}else{var q=k.createElement("span");
q.appendChild(o.cloneContents());
if(q.innerHTML==h.innerHTML&&h.tagName!="BODY"){return h;
}}if(b.Utils._isListFullySelected(j,l.getHtml())){return j;
}},_tryGetFullySelectedElementInFF:function(h){var i=a("<div>").html(h.getHtml()).contents();
if(i.length==1&&i.is(function(){return this.nodeType==1;
})){return h.getParentElement();
}else{return null;
}},_getCharactersCount:function(l){var i="S";
var k=/(\s?(?:&nbsp;)+\s?)+/g;
var j=/(?:&nbsp;)|\s/g;
var h=l.replace(k,function(m){return m.replace(j,i);
});
h=h.replace(/\s+/g," ");
return h.length;
},_setCursor:function(h,j){var n=j.nodesTracker;
var m=n.isTracked(h.firstChild)?h.firstChild:n.createTrackedNode();
var l=b.DomRange.rangeFromWindow(j.get_contentWindow());
var i=h.parentNode;
i.insertBefore(m,h);
i.removeChild(h);
var k=m.length-1;
g._setCursorInTextNode(l,m,k,k);
},_setCursorInTextNode:function(k,l,j,i){var h=b.DomRange.toDomRange(k);
h.setStart(l,j);
h.setEnd(l,i);
h.setStart(l,j);
if(j==i){h.collapse(!$telerik.isIE||$telerik.isIE9Mode);
}h.select();
},_setCursorAroundList:function(j,i,l,n){var k=l.get_document();
var h,o;
if($telerik.isFirefox){if(j.nextSibling&&j.nextSibling.nodeName=="BR"){a(j.nextSibling).remove();
}this._setCursor(j,l);
}else{if($telerik.isSafari||$telerik.isOpera){o=j.firstChild;
if($telerik.isSafari){h=k.createElement("br");
a(h).insertAfter(j);
a(j).remove();
var m=h.parentNode;
if(h.nextSibling&&h.nextSibling.nodeName=="BR"){a(h).remove();
}l.getSelection().moveToElementText(m);
}else{this.removeNode(j);
l.getSelection().moveToElementText(o);
o.nodeValue="";
}}else{h=k.createElement("br");
a(h).insertAfter(j);
o=k.createTextNode(" ");
a(o).insertBefore(h);
this._setCursorInTextNode(n,o,0,0);
a(h).remove();
}}a(j).remove();
},deleteContents:function(i,h){if(i.collapsed===false||!!i.text||(h.selection&&h.selection.type=="Control")){h.execCommand("delete",false,null);
return true;
}return false;
},scrollTo:function(n,j){var o=j.get_contentArea().scrollTop,l=j.get_newLineMode(),m=Telerik.Web.UI.EditorNewLineModes,k=0;
if(j._shouldAutoResizeHeight()){j._resizeContentArea();
}if(this.isTag(n,"br")){var h=j.get_document(),q=h.createElement("span");
q.appendChild(h.createTextNode("\u200b"));
if($telerik.isSafari){var i=Telerik.Web.UI.Editor.DomRange.toDomRange(j.getSelection().getRange());
n=q;
i.collapse(false);
i.insertNode(n);
k=n.offsetHeight+1;
if(n.offsetTop-o+5>j.get_contentAreaElement().offsetHeight){j.get_contentArea().scrollTop=o+k;
}a(n).remove();
}else{a(q).insertAfter(n);
n=q;
k=n.offsetHeight?n.offsetHeight+1:20;
if(n.offsetTop-o+2*k+5>j.get_contentAreaElement().offsetHeight){var p=n.offsetTop-o+k-j.get_contentAreaElement().offsetHeight;
j.get_contentArea().scrollTop+=p>0?p:0;
}a(n).remove();
}}else{k=(l==m.Div||this.isTag(n,"li"))?n.offsetHeight:n.offsetHeight+n.offsetHeight*0.8;
if(n.offsetTop-o+5>j.get_contentAreaElement().offsetHeight){j.get_contentArea().scrollTop=o+k;
}}},cleanPastedContent:function(j,n,m,h,k){var i=j;
if(n==c.StripFormattingOptions.None){if(this.isPastedFromWord(j)){if(window.confirm(m)){j=b.Utils.convertWordLists(j);
i=b.Utils.stripFormatting(j,"WORD_NO_MARGINS");
}else{i=b.Utils.clearMSWordJunkContent(j);
}}}else{if(n&c.StripFormattingOptions.All){i=b.Utils.stripFormatting(j,"ALL");
}else{if(n&c.StripFormattingOptions.AllExceptNewLines){i=b.Utils.stripFormatting(j,"ALL_NO_BRAKES",k);
}else{if(n&c.StripFormattingOptions.ConvertWordLists){j=b.Utils.convertWordLists(j);
}var l=[];
if(n&c.StripFormattingOptions.MSWordRemoveAll){l.push("WORD_ALL");
}if(n&c.StripFormattingOptions.MSWordNoFonts){l.push("WORD_NO_FONTS");
}if(n&c.StripFormattingOptions.MSWordNoMargins){l.push("WORD_NO_MARGINS");
}if(n&c.StripFormattingOptions.MSWord){l.push("WORD");
}if(l.length>0){j=b.Utils.stripWordFormatting(j,l);
}if(n&c.StripFormattingOptions.Css){j=b.Utils.stripFormatting(j,"CSS");
}if(n&c.StripFormattingOptions.Font){j=b.Utils.stripFormatting(j,"FONT");
}if(n&c.StripFormattingOptions.Span){j=b.Utils.stripFormatting(j,"SPAN");
}i=j;
}}}if(null!=h&&false==h){i=b.Utils.stripFormatting(i,"SCRIPT");
}return i;
},isPastedFromWord:function(l){if(/<o:p><\/o:p>/i.test(l)||($telerik.isFirefox&&/<!--\[if gte mso /i.test(l)&&/<w:LsdException/i.test(l)&&/mso-[a-z]/i.test(l))){return true;
}var j=document.createElement("DIV");
j.innerHTML=l;
var h=j.getElementsByTagName?j.getElementsByTagName("*"):j.all;
for(var m=h.length-1;
m>=0;
m--){var k=h[m];
if(k.href||k.src||(k.nodeType==1&&!this.canHaveChildren(k))){continue;
}this.removeChildren(k);
if(/mso/i.test(this.getOuterHtml(k))){return true;
}}return false;
},isCursorMovingKey:function(h){if(h>=33&&h<=40){return true;
}return false;
},isSystemKey:function(h){return(h>=112&&h<=123)||(h>=8&&h<=27)||(h>=32&&h<=46)||(h==12)||(h==91)||(h==93)||(h==144)||(h==145)||(h==224);
},isTypingKey:function(h){if(h.ctrlKey||h.altKey||h.metaKey){return false;
}var i=h.keyCode;
if(i==27||(i>=112&&i<=123)||i==44||i==144||i==145||i==19||i==45||i==46||i==8||(i>=33&&i<=40)||i==20||i==13||(i>=16&&i<=18)||i==12||i==91||i==93||i==224){return false;
}return true;
},storeBrowserPosition:function(){var h=document.body;
var i=document.documentElement;
this._browserTop=h.scrollTop>i.scrollTop?h.scrollTop:i.scrollTop;
this._browserLeft=h.scrollLeft>i.scrollLeft?h.scrollTop:i.scrollLeft;
return{x:this._browserLeft,y:this._browserTop};
},restoreBrowserPosition:function(i,l){try{if(null==i){i=this._browserLeft;
}if(null==l){l=this._browserTop;
}var j=document.body;
var k=document.documentElement;
j.scrollTop=l;
j.scrollLeft=i;
k.scrollTop=l;
k.scrollLeft=i;
}catch(h){}},containsHtmlAtClipboard:function(h){var i=h&&h.clipboardData&&h.clipboardData.getData&&h.clipboardData.types&&h.clipboardData.types.length&&Telerik.Web.UI.Editor.Utils.containsElement(/text\/html/i,h.clipboardData.types);
return i;
},getPasteContainer:function(h){var i=h.ownerDocument||document,j=i.createElement("div");
h.appendChild(j);
j.className="telerik_paste_container";
this._setPasteContainerStyles(j);
if($telerik.isFirefox){j.appendChild(i.createTextNode("\u00a0"));
}else{if($telerik.isSafari){j.appendChild(i.createElement("br"));
}}return j;
},_setPasteContainerStyles:function(n){var o=n.style,i=n.ownerDocument||document;
o.borderWidth="0px";
o.position="absolute";
o.overflow="hidden";
o.margin="0";
o.padding="0";
var m=this._getCursorOffset(i);
o.left=$telerik.isFirefox?"-10000px":m.left+"px";
o.top=m.top+"px";
o.width=$telerik.isIE?"0px":"1px";
o.height=$telerik.isIE?"0px":"1px";
if($telerik.isIE){var j=i.documentElement,h=$telerik.getComputedStyle(j,"color"),k=$telerik.getComputedStyle(j,"fontFamily"),l=$telerik.getComputedStyle(j,"fontSize");
if(h){o.color=h;
}if(k){o.fontFamily=k;
}if(l){o.fontSize=l;
}o.fontVariant="normal";
o.fontWeight="normal";
o.lineSpacing="normal";
o.lineHeight="normal";
o.textDecoration="none";
}},_getCursorOffset:function(i){var m=this,j=b.DomRange.rangeFromWindow(i.defaultView||window);
var k=i.createElement("span");
k.appendChild(i.createTextNode("\u200b"));
if(j.collapsed){j.insertNode(k);
}else{var l=m.isEditorContentArea(j.startContainer)?j.startContainer.childNodes[j.startOffset]:j.startContainer;
l.parentNode.insertBefore(k,l);
}var h=$telerik.getBounds(k);
a(k).remove();
return{left:h.x,top:h.y};
},clearPasteContainer:function(h){a(h).remove();
},getClipboardAsHtml:function(k){var j=k.get_document();
var i=k.get_contentArea();
var h=this.getPasteContainer(i);
if(h.setActive){h.setActive();
}$telerik.removeExternalHandler(i,"paste",k._onPasteDelegate);
try{j.execCommand("Paste",null);
}catch(l){}$telerik.addExternalHandler(i,"paste",k._onPasteDelegate);
var m=h.innerHTML;
this.clearPasteContainer(h);
return m;
},convertWordLists:function(h){return new b.WordListConverter().convert(h);
},stripElementFormatting:function(i,h){switch(h){case"ALL":case"ALL_NO_BRAKES":case"CSS":a(i).removeClass().removeAttr("style");
break;
}},stripFormatting:function(j,h,i){switch(h){case"ALL":j=j.replace(new RegExp("<(SCRIPT|STYLE)([^>]*)>[\\s\\S]*?</(\\1)([^>]*)>","ig"),"");
j=j.replace(new RegExp("<!--[\\s\\S]*?-->","ig"),"");
j=j.replace(/<\/?[^>]*>/ig,"");
break;
case"ALL_NO_BRAKES":j=g._stripAllExceptNewLines(i,j);
break;
case"WORD":case"WORD_ALL":case"WORD_NO_FONTS":case"WORD_NO_MARGINS":j=this.stripWordFormatting(j,[h]);
break;
case"CSS":j=j.replace(new RegExp("(<[^>]+) class=[^ |^>]*([^>]*>)","ig"),"$1 $2");
j=j.replace(/(<[^>]+) style="[^"]*"([^>]*>)/ig,"$1 $2");
break;
case"FONT":j=j.replace(/<\/?font[^>]*>/ig,"");
break;
case"SPAN":j=j.replace(/<\/?span[^>]*>/ig,"");
break;
case"SCRIPT":j=j.replace(new RegExp("<(SCRIPT)([^>]*)/>","ig"),"");
j=j.replace(new RegExp("<(SCRIPT)([^>]*)>[\\s\\S]*?</(SCRIPT)([^>]*)>","ig"),"");
break;
default:break;
}return j;
},_stripAllExceptNewLines:function(h,i){var j=h.get_document().createElement("div");
j.innerHTML=g.convertWordLists(i);
var k={selectAll:true,contentElement:j,isNotGreedy:true,clearValue:"ALL_NO_BRAKES",deleteWhitespaceNodes:true};
var l=new b.StripWordFormattingCommand(h,k);
l.onExecute();
return j.innerHTML;
},replaceNewLineWithBr:function(i){try{i=i.replace(/\n/g,"<br>");
return i;
}catch(h){}},convertText2Html:function(i){try{i=i.replace(/</g,"&lt;");
i=i.replace(/>/g,"&gt;");
i=i.replace(/\n/g,"<br>");
return i;
}catch(h){}},cssPropertiesToKeep:["color","background","backgroundColor","background-color","opacity","height","width","margin","margin-top","margin-right","margin-bottom","margin-left","marginTop","marginRight","marginBottom","marginLeft","padding","padding-top","padding-right","padding-bottom","padding-left","paddingTop","paddingRight","paddingBottom","paddingLeft","font-size","fontSize","font-family","fontFamily","font-weight","fontWeight","fontStretch","fontStyle","fontVariant","border","borderSpacing","border-top","borderTop","border-right","borderRight","border-bottom","borderBottom","border-left","borderLeft","borderColor","borderBottomColor","borderLeftColor","borderRightColor","borderTopColor","borderStyle","borderTopStyle","borderRightStyle","borderLeftStyle","borderBottomStyle","borderWidth","listStyleType","listStyleImage","text-align","textAlign","text-decoration","textDecoration","letterSpacing"],getCssPropertiesWordAll:function(k){var h=[];
for(var j=0;
j<k.length;
j++){if(!/^font/.test(k[j])){h.push(k[j]);
}}return h;
},getCssPropertiesWordNoFonts:function(k){var h=[];
for(var j=0;
j<k.length;
j++){if(!/^font/.test(k[j])||(/^font/.test(k[j])&&/size$/i.test(k[j]))){h.push(k[j]);
}}return h;
},getCssPropertiesWordNoMargins:function(k){var h=[];
for(var j=0;
j<k.length;
j++){if(!/margin/i.test(k[j])){h.push(k[j]);
}}return h;
},getCssPropertiesToKeep:function(h){var i=this.cssPropertiesToKeep;
if($telerik.$.inArray("WORD_NO_FONTS",h)!=-1){i=this.getCssPropertiesWordNoFonts(i);
}if($telerik.$.inArray("WORD_ALL",h)!=-1){i=this.getCssPropertiesWordAll(i);
}if($telerik.$.inArray("WORD_NO_MARGINS",h)!=-1){i=this.getCssPropertiesWordNoMargins(i);
}return i;
},clearWordAttributesAndStyles:function(k,n){var h=$telerik.isIE&&k.all?k.all:k.getElementsByTagName("*");
for(var l=0;
l<h.length;
l++){var j=h[l];
if(j.nodeType==1){var m=j.nodeName;
if(m!="TABLE"&&m!="TH"&&m!="TR"&&m!="TD"){this.clearElement(j,n);
}}}},msWordClassesRegExp:/^mso|wordsection|bullets/i,clearWordClasses:function(i){if(i.className&&this.msWordClassesRegExp.test(i.className)){var h="";
i.className=h;
this.setElementClassName(i,h);
}},msWordAttrRegExp:/mso/i,clearElement:function(m,r){var s=this;
s.clearWordClasses(m);
m.removeAttribute("lang","",0);
s.clearUnnecessaryStyles(m,r);
var n=m.style;
if(n&&n.fontFamily){if($telerik.isIE){n.fontFamily=n.fontFamily.replace(/\\"/g,"'");
}else{n.fontFamily=n.fontFamily.replace(/('|"|&quot;)/g,"");
}}if(m.nodeName=="DIV"||m.nodeName=="P"){s.removeInvalidBorderColors(m);
}var q=s.msWordAttrRegExp;
var p=/[^:]+:[^:]/;
var j=m.attributes;
var h,k,l;
for(var o=j.length-1;
o>=0;
o--){h=j[o];
k=h.name.toLowerCase();
l=h.value||null;
l=l==="null"?null:l;
if(l&&k!="src"&&k!="href"){if(q.test(k)||q.test(l)||p.test(k)){m.removeAttribute(h.name);
}}}},clearLists:function(h,j){var i=a(h).find("OL");
a(i).removeAttr("type");
a(i).removeAttr("start");
},removeInvalidBorderColors:function(h){if(!h.style){return;
}var j=/windowtext|-moz-use-text-color|currentColor/i;
var l=h.style;
var i="";
if(l.borderTopColor&&j.test(l.borderTopColor)){l.borderTopColor=i;
}if(l.borderRightColor&&j.test(l.borderRightColor)){l.borderRightColor=i;
}if(l.borderBottomColor&&j.test(l.borderBottomColor)){l.borderBottomColor=i;
}if(l.borderLeftColor&&j.test(l.borderLeftColor)){l.borderLeftColor=i;
}if($telerik.isFirefox){var k=/\s?-moz-[a-z\-]+colors?:\s?[a-z]+;/ig;
var m=h.getAttribute("style");
if(m&&k.test(m)){m=m.replace(k,i);
h.setAttribute("style",m);
}}},setNbspInEmptyParagraphs:function(h){var j=/(<p[^>]*?>)(<\/p>)/gmi;
var i=h.innerHTML;
i=i.replace(j,"$1&nbsp;$2");
h.innerHTML=i;
},removeEmptyElements:function(h){var l="(?:b|font|i|s|span|u)";
var j="<"+l+"(?:\\s[^>]*)?></"+l+">";
var i=h.innerHTML;
var k=new RegExp(j,"gmi");
while(new RegExp(j,"mi").test(i)){i=i.replace(k,"");
}h.innerHTML=i;
},clearWordAttributesInElement:function(o,m){var h=$telerik.isIE&&o.all?o.all:o.getElementsByTagName("*");
for(var p=0;
p<h.length;
p++){var n=h[p];
var r=/\bmso.*/gi;
if(n.nodeType==1){if(r.exec(n.className)){n.className="";
}n.removeAttribute("lang","",0);
n.removeAttribute("style","",0);
n.style.cssText=n.style.cssText.replace(/(([\w-]*?mso[\w-]*?):(.+?)([;^$]|$))/gi,"");
if($telerik.isIE){n.style.removeAttribute("tab-stops",0);
n.style.removeAttribute("textIndent",0);
}if($telerik.isIE&&(m=="WORD_NO_FONTS"||m=="WORD_ALL")){n.style.removeAttribute("fontFamily",0);
n.removeAttribute("face",0);
}if(n.style&&n.style.fontFamily){n.style.fontFamily=n.style.fontFamily.replace(/('|"|&quot;)/g,"");
}for(var q=n.attributes.length-1;
q>=0;
q--){var k=n.attributes[q];
var l=k.name.toLowerCase();
if(l!="src"&&l!="href"&&"null"!=k.value&&""!=k.value){if(r.exec(k.name)||r.exec(k.value)){n.removeAttribute(k.name);
}}}}}},clearUnnecessaryStyles:function(j,q){var h=[];
var o=j.style;
for(var l=0;
l<q.length;
l++){var n=q[l];
if(o[n]&&o[n]!=""){h.push({propertyName:n,value:o[n]});
}if(n=="text-align"&&j.tagName=="TD"&&o.textAlign==""){h.push({propertyName:n,value:"left"});
}}j.removeAttribute("style","",0);
o=j.style;
for(var k=0;
k<h.length;
k++){var m=h[k];
o[m.propertyName]=m.value;
}},_replaceWhitespaceBetweenTags:function(h,i){if(/<[a-z]+[^>]*?>/mi.test(h)){i=i?i:" ";
h=h.replace(/^[\r\n\s]+(<)/m,"$1");
h=h.replace(/(>)[\r\n\s]+$/m,"$1");
h=h.replace(/(<\/[a-z]+[^>]*?>)([\r\n\s])+(<[a-z]+[^>]*?>)/gmi,function(n,k,l,m,o,j){var p=k+i+m;
return p;
});
}return h;
},clearComments:function(h){h=h.replace(/<!--[\s\S]+?-->/g,"");
return h;
},clearInvalidHtml:function(h){h=h.replace(/<\/?[ovw]:[^>]*?>/gi,"");
h=h.replace(/<\\?\??xml[^>]*>/gi,"");
h=h.replace(/<(?:link|meta) [^>]+?>/ig,"");
h=h.replace(/<style[^>]*?>\s*<\/style>/ig,"");
h=h.replace(/<\/?st1:.*?>/gi,"");
h=h.replace(/<a name="[a-zA-Z0-9_]+">/gmi,"");
h=h.replace(/v:shapes?="[^"]+"/ig,"");
h=h.replace(/(<\/html>)[\s\S]+$/im,"$1");
return h;
},clearWordTables:function(i,k){var o=i.getElementsByTagName("TABLE");
for(var l=0;
l<o.length;
l++){var m=o[l];
this.clearWordClasses(m);
this.clearUnnecessaryStyles(m,k);
var n=m.getElementsByTagName("TR");
for(var j=0;
j<n.length;
j++){var s=n[j];
this.clearWordClasses(s);
this.clearUnnecessaryStyles(s,k);
for(var h=0;
h<s.cells.length;
h++){var p=s.cells[h];
this.clearWordClasses(p);
this.removeInvalidBorderColors(p);
this.clearUnnecessaryStyles(p,k);
var q=p.innerHTML;
q=q.replace(/(\s*&nbsp;)+/gi,"");
q=q.replace(/(\s*&nbsp;)+$/gi,"");
p.innerHTML=q;
}}}},addCssProperies:function(j){j=typeof(j)==="string"?[].push(j):j;
for(var h=0;
h<j.length;
h++){if($telerik.$.inArray(j[h],Telerik.Web.UI.Editor.Utils.cssPropertiesToKeep)==-1){Telerik.Web.UI.Editor.Utils.cssPropertiesToKeep.push(j[h]);
}}},removeCssProperiesByPattern:function(j){var k=new RegExp(j,"i");
for(var h=Telerik.Web.UI.Editor.Utils.cssPropertiesToKeep.length-1;
h>=0;
h--){if(k.test(Telerik.Web.UI.Editor.Utils.cssPropertiesToKeep[h])){Telerik.Web.UI.Editor.Utils.cssPropertiesToKeep.splice(h,1);
}}},containsElement:function(k,h){for(var j=0;
j<h.length;
j++){if(!h[j]){continue;
}var l=h[j].toString();
if(k.test(l)){return true;
}}return false;
},stripWordFormatting:function(j,h){var o=this;
var l=j;
var n=o.getCssPropertiesToKeep(h);
l=o.clearComments(l);
l=o.clearInvalidHtml(l);
var k=document.createElement("div");
b.Utils.setElementInnerHtml(k,l);
if(!$telerik.isIE){o.validateStylesOnStripWordFormatting(k);
}var m=$telerik.$(k).find("FONT");
var i=m.length>0;
if(i&&$telerik.$.inArray("WORD_ALL",h)!=-1){m.each(function(p,q){o.removeNode(q);
});
i=false;
}if(i&&$telerik.$.inArray("WORD_NO_FONTS",h)!=-1){m.removeAttr("face");
m.removeAttr("color");
}if(i&&!o.containsElement(/font\-?size/i,n)){m.removeAttr("size");
}o.clearWordTables(k,n);
o.clearLists(k,n);
o.clearWordAttributesAndStyles(k,n);
o.removeEmptyElements(k);
o.setNbspInEmptyParagraphs(k);
l=k.innerHTML;
l=l.replace(/\s+/ig," ");
return l;
},clearMSWordJunkContent:function(h){h=this.clearComments(h);
h=this.clearInvalidHtml(h);
return h;
},validateStylesOnStripWordFormatting:function(k){var h=$telerik.isIE&&k.all?k.all:k.getElementsByTagName("*");
var w=/^(\r?\n?<[a-z]+[^>]*?>)(<\/[a-z]+[^>]*?>)$/i;
var o=/^(I|A|B)[A-Z]*$/i;
var q=/(background|-webkit-background)-?[a-z]*: initial;/gi;
var t=/none\srepeat\sscroll\s0%\s0%\s/gi;
var s=/mso-bidi-font-size/gi;
var r=/mso-bidi-font-family/gi;
for(var n=0;
n<h.length;
n++){var l=h[n];
if(l.nodeType==1&&!o.test(l.nodeName)){var p=l.innerHTML;
var m=Telerik.Web.UI.Editor.Utils.getOuterHtml(l).replace(p,"");
var u=m.match(w);
if(u){var v=u[1];
var j=u[2];
if(v&&j){v=v.replace(q,"");
v=v.replace(t,"");
if($telerik.isFirefox||$telerik.isChrome){v=v.replace(s,"font-size");
v=v.replace(r,"font-family");
}if(v!=u[1]){$telerik.$(l).replaceWith(v+p+j);
}}}}}},cleanStylesOnStripWordFormatting:function(h){var i=h+"";
i=i.replace(/(<[^>]*style=["'])([^"']*)(["'][^>]*>)/gi,function(n,k,l,m,o,j){var p=k;
l=l.replace(/(background|-webkit-background)-?[a-z]*: initial;/gi,"");
if($telerik.isFirefox){l=l.replace(/none\srepeat\sscroll\s0%\s0%\s/gi,"");
}l=l.replace(/line-height: normal;?/gi,"");
l=l.replace(/margin: 0[a-z]{2} 0[a-z]{2} 0[a-z]{2};?/gi,"");
if(!$telerik.isIe){l=l.replace(/margin-?[a-z]*: 0.0001[a-z]{2};?/gi,"");
}p+=l;
p+=m;
return p;
});
return i;
},createTable:function(o,i,m){if(!m){m=document;
}var l=m.createElement("table");
var k,j;
for(var n=0;
n<o;
n++){k=l.insertRow(-1);
for(var h=0;
h<i;
h++){j=k.insertCell(-1);
j.innerHTML="&nbsp;";
}}return l;
},getElementParentByTag:function(i,j){if(null==i){return null;
}if(null==j){return i;
}try{while(i&&null!=i.tagName&&i.tagName!=j){if(b.Utils.isEditorContentArea(i)){break;
}i=i.parentNode;
}return((i.tagName==j)?i:null);
}catch(h){return null;
}},getElementParentByRegExpTagName:function(i,j){if(null==i){return null;
}if(null==j){return i;
}try{while(i&&null!=i.tagName&&!j.test(i.tagName)){if(b.Utils.isEditorContentArea(i)){break;
}i=i.parentNode;
}return((j.test(i.tagName))?i:null);
}catch(h){return null;
}},getElementParentByTagWithConstraint:function(j,k,h){if(null==h){h="";
}if(null==j){return null;
}if(null==k){return j;
}try{while(j&&null!=j.tagName&&j.tagName!=k){if(h.indexOf(j.tagName)!=-1){return null;
}if(b.Utils.isEditorContentArea(j)){break;
}j=j.parentNode;
}return((j.tagName==k)?j:null);
}catch(i){return null;
}},getElementParentByCondition:function(j,h){if(!j||!h){return null;
}var k=b.Utils;
try{while(j&&!h(j)){if(k.isEditorContentArea(j)){break;
}j=j.parentNode;
}return h(j)?j:null;
}catch(i){return null;
}},immutableElementMarkerAttrName:"immutablemarker",immutableElementId:"data-reimmutableid",isImmutableContainer:function(h){if(($telerik.isIE6||$telerik.isIE7)&&h.attributes&&h.attributes.contenteditable){return h.attributes.contenteditable.nodeValue=="false";
}else{if(h.getAttribute){return h.getAttribute("contenteditable")=="false";
}}return false;
},isImmutableNode:function(h){return !!b.Utils.getElementParentByCondition(h,b.Utils.isImmutableContainer);
},getImmutableElements:function(h){if(!h.get_enableImmutableElements()){return a([]);
}return a(h.get_contentArea()).find("[contenteditable='false']").filter(function(j,i){return !b.Utils.isImmutableNode(i.parentNode);
});
},replaceImmutableElements:function(h){b.Utils.getImmutableElements(h).each(function(k,i){var j=i.getAttribute(b.Utils.immutableElementId);
var l=h.get_document().createElement("div");
l.setAttribute(b.Utils.immutableElementMarkerAttrName,j);
i.parentNode.insertBefore(l,i);
i.parentNode.removeChild(i);
});
},restoreImmutableElements:function(h){a(h.get_contentArea()).find("["+b.Utils.immutableElementMarkerAttrName+"]").each(function(k,l){var j=l.getAttribute(b.Utils.immutableElementMarkerAttrName);
var i=h._immutableElements[j];
if(i){l.parentNode.insertBefore(i,l);
}l.parentNode.removeChild(l);
});
},revertOriginalImmutables:function(h){b.Utils.getImmutableElements(h).each(function(m,j){var n=j.parentNode;
var l=j.getAttribute(b.Utils.immutableElementId);
var i;
if(l){var k=h._immutableElements[l];
i=j==k;
if(k&&!i){n.insertBefore(k,j);
}}if(!i){n.removeChild(j);
}});
},setImmutablesHtml:function(i,h){var m=b.Utils,l=m.immutableElementMarkerAttrName,k=h._immutableElements,j=new RegExp("<div "+l+"=['\"]?([0-9]{13})['\"]?>(?:&nbsp;)?</div>","gmi");
i=i.replace(j,function(r,p,s,o){var q=k[p];
if(q){var n=m.cloneNodeWithChildren(q);
h._cleanUnselectableAttributes(n);
return m.getOuterHtml(n);
}return r;
});
return i;
},isEditorContentArea:function(h){var i=(h&&(h.tagName=="BODY"||(h.tagName=="DIV"&&Sys.UI.DomElement.containsCssClass(h,"reContentArea"))))?true:false;
return i;
},isEditorEmptyMessage:function(h){return Sys.UI.DomElement.containsCssClass(h,"reEmptyMessage");
},selectElement:function(k,j){if(!j){return;
}var i=k.document;
var m=null;
if($telerik.isIE&&i.selection){switch(j.tagName){case"TABLE":case"IMG":case"HR":case"INPUT":m=i.body.createControlRange();
m.add(j);
break;
case"UL":case"OL":m=i.body.createTextRange();
m.moveToElementText(j);
var l=m.parentElement();
if(l.tagName!="UL"||l.tagName!="OL"){m.moveEnd("character",-1);
}break;
default:m=i.body.createTextRange();
m.moveToElementText(j);
break;
}if(m){try{m.select();
return true;
}catch(h){return false;
}}}else{if(k.getSelection){m=i.createRange();
m.selectNode(j);
if(window.opera){m.selectNodeContents(j);
}var n=k.getSelection();
if($telerik.isSafari){if(j.tagName!="TD"&&j.tagName!="TH"){n.setBaseAndExtent(m.startContainer,m.startOffset,m.endContainer,m.endOffset);
}}else{n.removeAllRanges();
n.addRange(m);
}return true;
}}return false;
},getOuterHtml:function(h){return $telerik.getOuterHtml(h);
},setElementInnerHtml:function(i,j){var h=$telerik.isIE?this.getStoredOriginalPathsAndAttributes(j):j;
this.removeChildren(i);
i.innerHTML="<span>&nbsp;</span>"+h;
i.removeChild(i.firstChild);
if($telerik.isIE){this.restoreOriginalPathsAndAttributes(i);
}},removeNode:function(h){var i=h.parentNode;
if(i!=null){while(h.childNodes&&h.childNodes.length>0){i.insertBefore(h.childNodes[0],h);
}i.removeChild(h);
return i;
}return true;
},removeChildren:function(h){while(h.firstChild){h.removeChild(h.firstChild);
}},replaceNode:function(i,j){if(i&&j){var h=a(i).wrap("<"+j+"></"+j+">").parent()[0];
$telerik.mergeElementAttributes(i,h);
b.Utils.removeNode(i);
return h;
}else{return null;
}},normalize:function(h){if($telerik.isIE||!h.normalize){this._normalizeTextNodes(h);
}else{h.normalize();
}},_normalizeTextNodes:function(j){var h=j.firstChild,i;
while(h){if(h.nodeType==3){i=h.nextSibling;
while(i&&i.nodeType==3){h.appendData(i.data);
j.removeChild(i);
i=h.nextSibling;
}}else{this._normalizeTextNodes(h);
}h=h.nextSibling;
}},MoveToNextCell:function(h,i){var l=b.Utils.getElementParentByTag(h,"TR");
var j=l.cells[h.cellIndex+1];
if(typeof(j)=="undefined"){var n=b.Utils.getElementParentByTag(h,"TABLE");
var m=l.rowIndex+1;
var k=n.rows[m];
if(typeof(k)!="undefined"){j=k.cells[0];
}else{if(n.rows.length>0&&n.rows[0].cells.length>0){i.fire("InsertRowBelow",{});
j=n.rows[m].cells[0];
}}}if(typeof(j)!="undefined"){b.Utils.selectCell(j,i);
}},MoveToPreviousCell:function(h,k){var n=b.Utils.getElementParentByTag(h,"TR");
var l=null;
var i=h.cellIndex;
if(i>0){l=n.cells[i-1];
}else{var p=b.Utils.getElementParentByTag(n,"TABLE");
var o=n.rowIndex;
if(o>0){var m=p.rows[o-1];
var j=m.cells;
l=j[j.length-1];
}}b.Utils.selectCell(l,k);
},selectCell:function(h,j){if(!h||!j){return;
}var i=j.get_document();
if(i.createRange){var k=i.createRange();
k.selectNodeContents(h);
var l=j.get_contentWindow().getSelection();
l.removeAllRanges();
l.addRange(k);
}else{var m=j.getSelection();
m.selectElement(h);
}},getStoredOriginalPathsAndAttributes:function(i){var k=function(t,m,n,o,p,q,r,u,v){if(!o){o="";
p=p+r;
var s=p.search(/(\s|>)/gi);
if(s>0){r=p.substring(s,p.length);
p=p.substring(0,s);
if(p=='""'){p="";
o='"';
}}else{return t;
}}return m+" "+n+"="+o+p+o+' originalAttribute="'+n+'" originalPath="'+p+'"'+r;
};
var l=new RegExp("(<[^>]*?)\\s(href|src)\\s*=\\s*('|\")?([^>]+?)(\\3)([^>]*?>)","ig");
i=i.replace(l,k);
var h=new RegExp('(<!--[\\s\\S]*?) originalAttribute="(?:href|src)" originalPath="[^"]+"([\\s\\S]*?-->)',"ig");
var j=i.length+1;
while(i.length<j){j=i.length;
i=i.replace(h,"$1$2");
}return i;
},storeOriginalPathsAndAttributes:function(j){var h=["src","href"];
var l=a(j).find("[src],[href]").andSelf().toArray();
for(var k=0;
k<l.length;
k++){for(var m=0;
m<h.length;
m++){this.storeOriginalAttribute(l[k],h[m]);
}}},storeOriginalAttribute:function(i,h){if(i.getAttribute(h)){i.setAttribute("originalAttribute",h);
i.setAttribute("originalPath",i.getAttribute(h));
}},restoreOriginalPathsAndAttributes:function(j){var h=j.getElementsByTagName("*");
for(var m=0;
m<h.length;
m++){var k=h[m];
var p=k.getAttribute("originalPath");
var o=k.getAttribute("originalAttribute");
if(p!=null&&o!=null){k.removeAttribute("originalPath");
k.removeAttribute("originalAttribute");
if(p.toLowerCase().indexOf("mailto:")==0){continue;
}p=p.replace(window.location.href+"#","#");
var n=k.innerHTML;
try{k.setAttribute(o,p,0);
}catch(l){}if(n!=k.innerHTML){k.innerHTML=n;
}}}},_encodeHtmlContent:function(j,m){var h=new Array("%","<",">","!",'"',"#","$","&","'","(",")",",",":",";","=","?","[","]","\\","^","`","{","|","}","~","+");
var l=j;
var k;
if(m){for(k=0;
k<h.length;
k++){l=l.replace(new RegExp("\\x"+h[k].charCodeAt(0).toString(16),"ig"),"%"+h[k].charCodeAt(0).toString(16));
}}else{for(k=h.length-1;
k>=0;
k--){l=l.replace(new RegExp("%"+h[k].charCodeAt(0).toString(16),"ig"),h[k]);
}}return l;
},encodePostbackContent:function(h){return b.Utils._encodeHtmlContent(h,true);
},decodePostbackContent:function(h){return b.Utils._encodeHtmlContent(h,false);
},makeUrlAbsolute:function(i){i=i.split("&").join("&amp;").split('"').join("&quot;").split("<").join("&lt;");
var h=document.createElement("div");
h.innerHTML='<a href="'+i+'">a</a>';
return h.childNodes[0].href;
},addStyleSheet:function(m,i,k){if(!m){return;
}i=i||document;
var l=i.createElement("link");
l.setAttribute("href",m,0);
if($telerik.isIE&&l.href.indexOf("https://")==0&&m.indexOf("https://")!=0){l.setAttribute("href",l.href);
}else{if($telerik.isIE7&&m.indexOf("https://")!=0&&l.href.indexOf("https://")!=0&&window.location.protocol=="https:"){l.setAttribute("href",b.Utils.makeUrlAbsolute(m),0);
}}l.setAttribute("type","text/css");
if(k){l.setAttribute("id",k);
}else{k="";
}l.setAttribute("rel","stylesheet",0);
var j=i.getElementsByTagName("head")[0];
if($telerik.isSafari||$telerik.isFirefox){var h=function(){j.appendChild(l);
};
window.setTimeout(h,200);
}else{j.appendChild(l);
}},_copyElementsBetweenNodes:function(p,n,h){var o=p.getElementsByTagName(h);
var m=n.getElementsByTagName(h);
for(var k=0;
k<o.length;
k++){switch(h){case"script":case"title":m[k].text=o[k].text;
break;
case"style":if(m[k].innerHTML!=o[k].innerHTML){m[k].styleSheet.cssText=o[k].styleSheet.cssText;
}break;
case"select":m[k].selectedIndex=o[k].selectedIndex;
break;
case"input":if((o[k].type=="radio"||o[k].type=="checkbox")&&$telerik.$(o[k]).attr("checked")){$telerik.$(m[k]).attr("checked","checked");
if($telerik.isIE9Mode&&o[k].type=="checkbox"&&o[k].checked){m[k].checked=true;
m[k].setAttribute("checked","checked");
}}break;
case"iframe":var l=o[k].innerHTML;
if(l){var q=m[k].outerHTML;
if(q){var j=q.indexOf(">");
if(j>0){q=q.substr(0,j)+">"+l+q.substr(j+1);
m[k].outerHTML=q;
}}}break;
default:if(m[k].innerHTML!=o[k].innerHTML){b.Utils.setElementInnerHtml(m[k],o[k].innerHTML);
}break;
}}},cloneNodeWithChildren:function(i){if(!i){return null;
}if($telerik.isIE&&i.getElementsByTagName){var h=i.cloneNode(true);
if(typeof(h.innerHTML)!="string"){this.setElementInnerHtml(h,i.innerHTML);
}this._copyElementsBetweenNodes(i,h,"script");
this._copyElementsBetweenNodes(i,h,"map");
this._copyElementsBetweenNodes(i,h,"style");
this._copyElementsBetweenNodes(i,h,"title");
this._copyElementsBetweenNodes(i,h,"select");
this._copyElementsBetweenNodes(i,h,"input");
this._copyElementsBetweenNodes(i,h,"iframe");
return h;
}else{return i.cloneNode(true);
}},cloneNodeClean:function(i){var h=i.cloneNode(false);
this.removeChildren(h);
if($telerik.isIE10Mode&&!$telerik.isIE10&&i.style&&i.style.backgroundColor){h.style.backgroundColor=i.style.backgroundColor;
}return h;
},escapeRegExSpecialChars:function(h){var i=new RegExp("[.*+?|()\\[\\]{}\\\\]","g");
return h.replace(i,"\\$&");
},getUniqueID:function(){if(!window.RadEditor_uniqueSeed){window.RadEditor_uniqueSeed=new Date()-101;
}if(!window.RadEditor_uniqueIdCounter){window.RadEditor_uniqueIdCounter=1;
}else{window.RadEditor_uniqueIdCounter++;
}var h=window.RadEditor_uniqueSeed-window.RadEditor_uniqueIdCounter;
return"UniqueID"+h;
},hasAnyContent:function(h){return !!(h&&h.innerHTML);
},getTextContent:function(h){if(!h){return null;
}if(h.innerText!=null){return h.innerText;
}if(h.textContent!=null){var i=h.textContent;
i=i.replace(/<!--(.|\s)*?-->/gi,"");
return i;
}return null;
},removeInvalidElementsInLists:function(h){var k=this;
var j=k.getSelectedParentElement(h);
var i=$telerik.$(j).find("ol,ul");
if(k.isList(j)){i=i.add(j);
}i.each(function(n,p){var m=p.children;
for(var o=m.length-1;
o>=0;
o--){var l=m[o];
if(!k.isTag(l,"li")){p.removeChild(l);
}}});
},execDocumentCommand:function(i,h,n){var m;
if(!i||!h){return false;
}try{return i.execCommand(h,false,n);
}catch(j){var l=this.getSelectedParentElement(i);
m=document.createElement("br");
l.insertBefore(m,l.firstChild);
var k=i.execCommand(h,false,n);
return k;
}finally{if(m){m.parentNode.removeChild(m);
}}},isContentOneBlockElementOnly:function(h){return h.childNodes.length==1&&this.isBlockElement(h.childNodes[0]);
},getSelectedParentElement:function(h){var i=new b.Selection(h.defaultView||window);
return i.getParentElement();
},getFirstBlockElementUp:function(h){return this.isBlockElement(h)?h:this.getBlockParent(h);
},getBlockParentUntil:function(h,j){var i=h;
while(i&&!j(i.parentNode,i)&&!this.isBlockElement(i)){i=i.parentNode;
}return i;
},getBlockParent:function(h){var i=h.parentNode;
while(i&&!this.isBlockElement(i)){i=i.parentNode;
}return i;
},getPreviousElement:function(h){if(h.previousElementSibling){return h.previousElementSibling;
}var i=a(h).prev();
if(i.length>0&&!this.isTextNode(i[0])){return i[0];
}return null;
},getNextElement:function(i){if(i.nextElementSibling){return i.nextElementSibling;
}var h=a(i).next();
if(h.length>0&&!this.isTextNode(h[0])){return h[0];
}return null;
},isTextNodeEmpty:function(h){return !/[^\s\xA0\u200b]+/.test(h.nodeValue);
},isTextNodeCompletelyEmpty:function(h){return !/[^\n\r\t\u200b]+/.test(h.nodeValue);
},canHaveChildren:function(h){switch((h.tagName||h.nodeName).toUpperCase()){case"AREA":case"BASE":case"BASEFONT":case"COL":case"FRAME":case"HR":case"IMG":case"BR":case"INPUT":case"ISINDEX":case"LINK":case"META":case"PARAM":return false;
}return true;
},isBlockElement:function(h){return g.checkForElement(h,f);
},isBlockElementOrNewLine:function(h){return this.isBlockElement(h)||this.checkForElement(h,/^br$/i);
},isTextNode:function(h){return h&&h.nodeType&&(h.nodeType==3||h.nodeType==4||h.nodeType==8);
},checkForElement:function(h,i){var j=h&&h.nodeName;
return !!j&&i.test(j);
},isAlignCommand:function(h){return/^Justify(?:None|Left|Center|Right|Full)$/.test(h);
},findNodeIndex:function(i){var h=0;
while(i.previousSibling){i=i.previousSibling;
h++;
}return h;
},isAncestorOf:function(j,i){try{return !this.isTextNode(j)&&(i.parentNode===j||a.contains(j,this.isTextNode(i)?i.parentNode:i));
}catch(h){return false;
}},isAncestorOrSelf:function(i,h){return this.isAncestorOf(i,h)||(i===h);
},findAncestorUntil:function(i,h){if(this.isAncestorOf(i,h)){while(h&&h.parentNode!=i){h=h.parentNode;
}}return h;
},findAncestorByTag:function(i,h,j){if(this.isAncestorOf(i,h)){do{h=h.parentNode;
}while(h&&!this.isTag(h,j)&&h.parentNode!=i);
}return h;
},findAncestorBy:function(j,i,h){if(this.isAncestorOf(j,i)){do{i=i.parentNode;
}while(i&&!h(i)&&i.parentNode!=j);
}return i;
},findCommonAncestor:function(h,i){while(h&&h!=i&&!this.isAncestorOf(h,i)){h=h.parentNode;
}return h;
},getContentAreaFirstChild:function(i){var h=i.get_contentArea();
return h.children?h.children[0]:h.firstChild;
},getAllChildNodes:function(i){var h=[];
this._getChildNodes(i,h);
return h;
},_getChildNodes:function(j,i){var h=j.firstChild;
var k=this;
while(h){if(h.nodeType==1&&k.canHaveChildren(h)){k._getChildNodes(h,i);
}i.push(h);
h=h.nextSibling;
}},trimWhitespaceTextNodes:function(i){var h=["firstChild","lastChild"];
Array.forEach(h,a.proxy(function(k){var j=i[k];
if(j&&this.isTextNode(j)){this.trimWhitespace(j);
}},this));
},trimWhitespaceLeft:function(h){var i=this.isTextNodeEmpty(h)?this.spacesRegExp.test(h.nodeValue):false;
while(/^[\s\xA0]/.test(h.nodeValue)){var j=h.nodeValue.substring(0,1);
if(!i){i=this.spacesRegExp.test(j);
}h.nodeValue=h.nodeValue.substring(1);
}if(i){h.nodeValue=" "+h.nodeValue;
}},trimWhitespaceRight:function(h){var i=this.isTextNodeEmpty(h)?this.spacesRegExp.test(h.nodeValue):false;
while(/[\s\xA0]$/.test(h.nodeValue)){var j=h.nodeValue.length;
var k=h.nodeValue.substring(j-2,j-1);
if(!i){i=this.spacesRegExp.test(k);
}h.nodeValue=h.nodeValue.substring(0,j-1);
}if(i){h.nodeValue=h.nodeValue+" ";
}},trimWhitespace:function(h){this.trimWhitespaceLeft(h);
this.trimWhitespaceRight(h);
},spacesRegExp:/[ \xA0]/,trimExtraWhitespace:function(h){var i=this.isTextNode(h)&&/\S[ \xA0]$/.test(h.nodeValue);
this.trimWhitespace(h);
if(i){h.nodeValue+=" ";
}},trimElementNeighbours:function(h){var j=h.previousSibling,i=h.nextSibling;
if($telerik.isIE&&!$telerik.isIE9Mode){var k=/^[\s\t\r\n\u200b\u00a0]+$/;
if(j&&this.isTextNode(j)&&k.test(j.nodeValue)){j.nodeValue="";
}if(i&&this.isTextNode(i)&&k.test(i.nodeValue)){i.nodeValue="";
}}if(j){this.trimWhitespace(j);
}if(i){this.trimWhitespace(i);
}},_toggleElementZoom:function(h){if(!h||h.style.zoom==1){return;
}var i=h.style.zoom;
h.style.zoom=1;
setTimeout(function(){h.style.zoom=i;
},0);
},_rgbToHex:function(h){if(h.toLowerCase().indexOf("rgb")!=-1){var j="#";
var i=function(l){var k=parseInt(l,10).toString(16);
j+=(k.length==1?"0"+k:k);
return l;
};
h=h.replace(/(\d+)/gi,i);
i=null;
return j;
}else{return h;
}},_pointsToPixels:function(j){var i=72,h=96;
return Math.round(parseFloat(j)*h/i)+"px";
},_fontSizesPx:["10px","13px","16px","18px","24px","32px","48px"],_fontSizesToPixels:function(h){return this._fontSizesPx[parseInt(h,10)-1];
},removeNonXhtmlCompliantParents:function(n){if(!n){return;
}n=n.parentNode;
var k=b.Utils.isEditorContentArea;
var h=[];
while(n&&n.tagName!="TD"&&!k(n)){var o=n.tagName;
switch(o){case"P":case"SPAN":case"FONT":case"STRONG":case"EM":case"U":h.push(n);
break;
}n=n.parentNode;
}for(var j=0,m=h.length;
j<m;
j++){b.Utils.removeNode(h[j]);
}},setTargetsForPreview:function(j){var h=j.get_contentArea();
var o=h.getElementsByTagName("A");
for(var k=0,m=o.length;
k<m;
k++){var n=o[k];
var q=n.getAttribute("target");
n.setAttribute("re_target",q||"");
if(q!="_blank"){n.setAttribute("target","blank");
}var p=n.getAttribute("onclick");
n.setAttribute("re_onclick",p||"");
n.setAttribute("onclick","return false;");
}},restoreTargetsAfterPreview:function(j){var h=j.get_contentArea();
var o=h.getElementsByTagName("A");
for(var k=0,m=o.length;
k<m;
k++){var n=o[k];
if(typeof(n.attributes.re_target)!="undefined"){var q=n.getAttribute("re_target");
if(q&&q!="null"){n.setAttribute("target",q);
}else{n.removeAttribute("target");
}}if(typeof(n.attributes.re_onclick)!="undefined"){var p=n.getAttribute("re_onclick");
if(p&&p!="null"){n.setAttribute("onclick",p);
}else{n.removeAttribute("onclick");
}}n.removeAttribute("re_onclick");
n.removeAttribute("re_target");
}},checkForNonEmptyTextNodes:function(j){var h=j.childNodes;
for(var k=0,m=h.length;
k<m;
k++){return(h[k].nodeType==3&&h[k].nodeValue!="")?true:b.Utils.checkForNonEmptyTextNodes(h[k]);
}return false;
},emptyNodeRegExp:/^&nbsp;?$/,isNodeEmpty:function(h){return this.isNodeCompletelyEmpty(h)||this.emptyNodeRegExp.test(h.innerHTML);
},isNodeCompletelyEmpty:function(h){return !h.innerHTML||h.childNodes.length==0;
},isEmptyDom:function(h){return this.isTextNode(h)?this.isTextNodeEmpty(h):this.isNodeEmpty(h);
},isCompletelyEmptyDom:function(h){return this.isTextNode(h)?this.isTextNodeCompletelyEmpty(h):this.isNodeCompletelyEmpty(h);
},isNodeEmptyRecursive:function(j,h){if(j.nodeType==1&&!this.canHaveChildren(j)){return false;
}else{if(j.childNodes.length==0){return h?this.isCompletelyEmptyDom(j):this.isEmptyDom(j);
}else{if(g.isList(j)&&j.children.length===0){return true;
}}}var i=j.firstChild;
while(i&&this.isNodeEmptyRecursive(i,h)){i=i.nextSibling;
}return !i;
},whitespaceRegExp:/^\s*$/,isWhitespaceNode:function(h){return this.isTextNode(h)?this.isTextNodeEmpty(h):this.whitespaceRegExp.test(h.innerHTML);
},isTag:function(i,h){return !!(i&&i.tagName&&h)&&i.tagName.toLowerCase()==h.toLowerCase();
},isList:function(h){return g.isTag(h,"ul")||g.isTag(h,"ol");
},isNodeAtStart:function(j,h){var i=true;
var k=this;
while(i&&k.isAncestorOf(h,j)){while(i&&j.previousSibling){j=j.previousSibling;
i=k.isEmptyDom(j);
}j=j.parentNode;
}return i;
},hasAttributes:function(h){var i=this.getOuterHtml(h).replace(h.innerHTML,"");
return/=["][^"]/.test(i)||/=['][^']/.test(i)||/=[^'"]/.test(i);
},getDefinedAttributes:function(l){var j={length:0};
for(var k=0;
k<l.attributes.length;
k++){var h=l.attributes[k];
if(h.specified&&h.nodeName!="style"&&!/^sizzle-/.test(h.nodeName)){j[h.nodeName]=h.nodeValue;
j.length++;
}}return j;
},getAttributes:function(m,l){var h={length:1};
for(var j=0;
j<l.length;
j++,h.length++){var k=l[j];
h[k]=m.getAttribute(k);
}return h;
},every:function(j,h){for(var k=0;
k<j.length;
k++){if(!h(j[k])){return false;
}}return true;
},some:function(j,h){for(var k=0;
k<j.length;
k++){if(h(j[k])){return true;
}}return false;
},convertAttribute:function(k,n,j){var h=k.getAttribute(n);
var p=h;
if(n=="background"){h=k.getAttribute(n,2);
if(h){p="url("+h+")";
}}else{if(n=="width"||n=="height"||n=="vspace"||n=="hspace"){if(!(typeof(p)=="string"&&p.match("%"))){p=parseInt(p,10)+"px";
}}else{if(n=="noWrap"){h=k.noWrap;
p="nowrap";
}}}if(h){var o=null;
if(typeof(j)=="object"){var m=j.length;
for(var l=0;
l<m;
l++){o=k.style[j[l]];
if(!o){k.style[j[l]]=p;
}}}else{o=k.style[j];
if(!o){k.style[j]=p;
}}}},convertImgAlignAttribute:function(i){var h=i.getAttribute("align");
var j=($telerik.isIE)?"styleFloat":"cssFloat";
if(h){h=h.toLowerCase();
i.style.verticalAlign="";
i.style[j]="";
switch(h){case"left":i.style[j]="left";
break;
case"right":i.style[j]="right";
break;
case"bottom":case"baseline":case"absbottom":i.style[j]="";
i.style.verticalAlign="text-bottom";
break;
case"middle":case"absmiddle":i.style[j]="";
i.style.verticalAlign="middle";
break;
case"top":case"texttop":i.style[j]="";
i.style.verticalAlign="top";
break;
}}},convertTypeAttribute:function(h){var i=h.getAttribute("type");
if(i){if(!h.style.listStyleType){switch(i){case"1":h.style.listStyleType="decimal";
break;
case"a":h.style.listStyleType="lower-alpha";
break;
case"A":h.style.listStyleType="upper-alpha";
break;
case"i":h.style.listStyleType="lower-roman";
break;
case"I":h.style.listStyleType="upper-roman";
break;
case"disc":h.style.listStyleType="disc";
break;
case"circle":h.style.listStyleType="circle";
break;
case"square":h.style.listStyleType="square";
break;
}}}},convertBorderAttribute:function(i){var h=i.getAttribute("border");
if(h){if(!i.style.borderWidth){i.style.borderWidth=h+"px";
}if(!i.style.borderStyle){i.style.borderStyle="solid";
}}},convertCSSProperty:function(j,m,h){var n=j.style[h];
var o=n||j.getAttribute(m)||"";
if(h=="backgroundImage"){o=n.replace(/["']/g,"").slice(4,-1)||o;
}else{if(h=="width"||h=="height"){if(n&&!n.match("%")){o=parseInt(n,10);
}}else{if(h=="whiteSpace"){o="nowrap";
}else{if(m=="vspace"||m=="hspace"){var l=h.length;
for(var k=0;
k<l;
k++){if(k==0){n=j.style[h[k]];
o=parseInt(n,10);
}else{if(n!=j.style[h[k]]){n=false;
break;
}}}}}}}if(m.toLowerCase()=="bgcolor"){o=b.Utils._rgbToHex(o);
}if(o){j.setAttribute(m,o);
}else{j.removeAttribute(m);
}b.Utils.cleanStylePorperty(j,h);
},cleanStylePorperty:function(j,h){if(Object.prototype.toString.call(h)==="[object Array]"){for(var k=0,m=h.length;
k<m;
k++){j.style[h[k]]="";
}}else{j.style[h]="";
}if(!j.style.cssText){j.removeAttribute("style");
}},convertImgCssAlignProperty:function(h){var i=($telerik.isIE)?h.style.styleFloat:h.style.cssFloat;
if(i){h.setAttribute("align",i);
}else{var j=h.style.verticalAlign;
if(j){j=j.replace(/text-/i,"");
h.setAttribute("align",j);
}}},convertListStyleTypeStyle:function(h){var i=h.style.listStyleType;
var j=h.getAttribute("type");
if(i&&!j){switch(i){case"decimal":h.type="1";
break;
case"lower-alpha":h.type="a";
break;
case"upper-alpha":h.type="A";
break;
case"lower-roman":h.type="i";
break;
case"upper-roman":h.type="I";
break;
case"disc":h.type="disc";
break;
case"circle":h.type="circle";
break;
case"square":h.type="square";
break;
default:h.type=i;
break;
}h.style.listStyleType="";
}},stripHtmlHeadBodyTags:function(h){return h.replace(/^[\s\S]*<html[\s\S]+?<body[^>]*>([\s\S]*?)<\/body>[\s\S]*$/gi,"$1");
},removeNearBrElements:function(h){if(h){if(!b.Utils.isBlockElement(h)){return;
}var l;
if(h.previousSibling){l=h.previousSibling;
var k=l.nodeValue;
while(l&&(l.nodeValue=="\n"||$telerik.$.trim(k)==""||l.nodeName=="BR")){if(l.nodeName=="BR"){$telerik.$(l).remove();
break;
}l=l.previousSibling;
}}var i;
if(h.nextSibling){i=h.nextSibling;
var j=i.nodeValue;
while(i&&(i.nodeValue=="\n"||$telerik.$.trim(j)==""||i.nodeName=="BR")){if(i.nodeName=="BR"){$telerik.$(i).remove();
break;
}i=i.nextSibling;
}}}},splitElementsByCondition:function(k,h){var m=[];
for(var l=0;
l<k.length;
l++){var j=k[l];
if(h(j)){if(m.length&&!m[m.length-1].length){continue;
}m.push([]);
}else{if(m.length){m[m.length-1].push(j);
}else{m[0]=[j];
}}}if(m.length&&!m[m.length-1].length){m.splice(m.length-1,1);
}return m;
},ensureSingleEncodingUrl:function(l){var i=l;
var j=l.substring(0,l.indexOf("?"));
var k=l.substring(l.indexOf("?")+1);
try{j=decodeURI(j);
k=this.decodeQueryString(k);
}catch(h){}i=encodeURI(j)+"?"+this.encodeQueryString(k);
return i;
},encodeQueryString:function(h){return this.manipulateQueryString(h,encodeURIComponent);
},decodeQueryString:function(h){return this.manipulateQueryString(h,decodeURIComponent);
},manipulateQueryString:function(j,h){var i=this.splitQueryString(j);
a(i).each(function(k,l){a(l).each(function(m,n){l[m]=h.call(this,n);
});
});
return this.joinQueryArr(i);
},splitQueryString:function(h){var i=[];
i=h.split("&");
a(i).each(function(j,k){i[j]=k.split("=");
});
return i;
},joinQueryArr:function(h){var i=[];
a(h).each(function(j,k){i[j]=k.join("=");
});
return i.join("&");
}};
})(Telerik.Web.UI,Telerik.Web.UI.Editor,$telerik.$);
Type.registerNamespace("Telerik.Web.UI.Editor");
(function(a,b){Telerik.Web.UI.Editor.CommandBase=function(g,f,c,e){var d=this;
d.isSafari=$telerik.isSafari;
d.isIE=$telerik.isIE;
d.isOpera=$telerik.isOpera;
d.isFirefox=$telerik.isFirefox;
d._title=g;
d._window=f;
d._isExecuted=false;
d._canUnexecute=(c!=false);
d._editor=e;
a.observable(d);
};
Telerik.Web.UI.Editor.CommandBase.prototype={get_argument:function(){return null;
},getState:function(c){return Telerik.Web.UI.Editor.CommandStates.Off;
},getValue:function(c){return null;
},set_window:function(c){this._window=c;
},get_window:function(){return this._window;
},get_title:function(){return this._title;
},set_title:function(c){this._title=c;
},set_canUnexecute:function(c){this._canUnexecute=c;
},get_canUnexecute:function(){return this._canUnexecute;
},get_editor:function(){return this._editor;
},set_editor:function(c){this._editor=c;
},get_editorContentArea:function(){var d=this.get_editor();
var c=(d)?d.get_contentArea():null;
return c;
},get_enableUndoRedo:function(){var c=this.get_editor();
if(c){return c.get_enableUndoRedo();
}else{return true;
}},execute:function(){this._isExecuted=false;
if(null==this.onExecute||null==this.get_window()){return false;
}try{if(this.get_enableUndoRedo()){if(!this.RestorePoint1){this.RestorePoint1=new Telerik.Web.UI.Editor.RestorePoint(this.get_window(),this.get_editorContentArea());
}else{this.RestorePoint1.select();
}}return(this._isExecuted=this.onExecute());
}catch(c){}return false;
},onExecute:function(){if(this.isIE&&null!=this.OnExecuteIE){return this.OnExecuteIE();
}else{if(null!=window.getSelection&&null!=this.OnExecuteMoz){return this.OnExecuteMoz();
}}return false;
},unexecute:function(){try{if(this._canUnexecute&&this._isExecuted){this.RestorePoint1.restore();
}}catch(c){}},trackChangedNode:function(c){var d=this;
if(d._changeFormatTracking!==false){if(!d.elements){d.elements=[];
}d.elements.push(c);
}},clearTrackedNodes:function(){if(this.elements&&this.elements.length){this.elements=[];
}},fireFormattingChanged:function(){var d=this,c=a.extendEventArgs(new Sys.EventArgs(),{elements:d.elements,applyFormat:!d.removeFormatting,command:d});
d.trigger("formattingChanged",c);
},_setEnabledChangeFormatTracking:function(c){this._changeFormatTracking=c;
}};
Telerik.Web.UI.Editor.CommandBase.registerClass("Telerik.Web.UI.Editor.CommandBase");
})($telerik.$);
Telerik.Web.UI.Editor.PasteHtmlCommand=function(e,d,c,a,b){Telerik.Web.UI.Editor.PasteHtmlCommand.initializeBase(this,[(e||"Insert Html"),d,true,b]);
this.HtmlText=c;
this.SelectText=(true==a);
this.editor=b;
};
Telerik.Web.UI.Editor.PasteHtmlCommand.prototype={clone:function(){return new Telerik.Web.UI.Editor.PasteHtmlCommand(this.get_title(),this.get_window(),this.HtmlText,null,this.get_editor());
},onExecute:function(){var a=this;
var b=new Telerik.Web.UI.Editor.Selection(a.get_window());
if($telerik.isIE){a.fixBrElementSelectionIE();
}$telerik.$.observable(b);
b.on({pasteDom:a._raiseEvent,pasteBlockElement:a._raiseEvent},a);
b.pasteHtml(a.HtmlText,a.SelectText);
b.disposeObservable();
return true;
},_raiseEvent:function(a){this.get_editor().raiseEvent(a.get_eventName(),a);
},fixBrElementSelectionIE:function(){var c=this.editor,b=Telerik.Web.UI.Editor.DomRange.toDomRange(c.getSelection().getRange());
if(!b.startContainer||b.startContainer.nodeType==3||!b.endContainer.nodeType||b.endContainer.nodeType==3){return;
}var e=function(){if($telerik.isIE9Mode){return b.endContainer.childNodes[b.endOffset-1];
}else{if($telerik.isIE7||$telerik.isIE8){return b.endContainer.childNodes[b.endOffset];
}}};
var d=function(){return b.startContainer.childNodes[b.startOffset];
};
var f=$telerik.isIE9Mode&&b.collapsed&&b.startOffset!=b.endOffset&&e()&&e().nodeName=="BR";
f|=($telerik.isIE7||$telerik.isIE8)&&b.collapsed&&b.startOffset==b.endOffset&&b.startContainer.childNodes.length-1==b.startOffset&&d()&&d().nodeName=="BR"&&e()&&$telerik.$(d()).is(e());
if(f){var a=e();
if(a.nodeName!="BR"){return;
}var g=c.get_document().createElement("span");
g.innerHTML="&nbsp;";
$telerik.$(g).insertAfter(a);
c.selectElement(g);
g.parentElement.removeChild(g);
}}};
Telerik.Web.UI.Editor.PasteHtmlCommand.registerClass("Telerik.Web.UI.Editor.PasteHtmlCommand",Telerik.Web.UI.Editor.CommandBase);
Telerik.Web.UI.Editor.GenericCommand=function(c,b,a){Telerik.Web.UI.Editor.GenericCommand.initializeBase(this,[c,b,true,a]);
if(this.get_enableUndoRedo()){this.RestorePoint1=new Telerik.Web.UI.Editor.RestorePoint(this.get_window(),this.get_editorContentArea());
}};
Telerik.Web.UI.Editor.GenericCommand.prototype={execute:function(){if(this.get_enableUndoRedo()){if(null==this.RestorePoint2){this.RestorePoint2=new Telerik.Web.UI.Editor.RestorePoint(this.get_window(),this.get_editorContentArea());
}else{this.RestorePoint2.restore();
}}return true;
},unexecute:function(){if(this.get_enableUndoRedo()){this.RestorePoint1.restore(true);
}}};
Telerik.Web.UI.Editor.GenericCommand.registerClass("Telerik.Web.UI.Editor.GenericCommand",Telerik.Web.UI.Editor.CommandBase);
Telerik.Web.UI.Editor.TextTypeCommand=function(c,b,a){Telerik.Web.UI.Editor.TextTypeCommand.initializeBase(this,[(c||"Typing"),b,a]);
};
Telerik.Web.UI.Editor.TextTypeCommand.prototype={update:function(){if(this.RestorePoint2){this.RestorePoint2.update();
}}};
Telerik.Web.UI.Editor.TextTypeCommand.registerClass("Telerik.Web.UI.Editor.TextTypeCommand",Telerik.Web.UI.Editor.GenericCommand);
Telerik.Web.UI.Editor.BrowserCommand=function(e,c,d,f,b){var a=true;
switch(this.CommandID){case"Copy":case"SelectAll":case"Print":a=false;
break;
}Telerik.Web.UI.Editor.BrowserCommand.initializeBase(this,[(e||d),c,a,b]);
this.CommandID=d;
this.Value=f;
};
Telerik.Web.UI.Editor.BrowserCommand.prototype={get_argument:function(){return this.Value;
},clone:function(){return new Telerik.Web.UI.Editor.BrowserCommand(this._title,this.get_window(),this.CommandID,this.Value);
},getState:function(g,c,h){try{var i=this;
g=g||i.get_window();
var f=g.document;
var a=Telerik.Web.UI.Editor.CommandStates;
var b=i.CommandID;
if(!f){return a.Disabled;
}if("Paste"==b){return a.Off;
}if("Cut"==b||"Copy"==b){return(h&&!h.collapsed)?a.Off:a.Disabled;
}var d=f.queryCommandEnabled(b);
if(!i.isOpera&&!d){if(!i.isSafari||b!="RealFontSize"){return a.Disabled;
}}return f.queryCommandState(b)?a.On:a.Off;
}catch(e){return a.Off;
}},getValue:function(b){try{b=b||this.get_window();
return b.document.queryCommandValue(this.CommandID);
}catch(a){}return null;
},onExecute:function(){var f=this.get_window();
if(!f){return false;
}var b=f.document;
if("AbsolutePosition"==this.CommandID){b.execCommand("2D-Position",false,true);
}var g=true;
if(this.CommandID=="BackColor"&&(this.isOpera||this.isFirefox)){this.CommandID="HiliteColor";
g=false;
}if(this.CommandID=="FontSize"&&this.isSafari2){var d=parseInt(this.Value,10);
switch(d){case 1:this.Value="8pt";
break;
case 2:this.Value="10pt";
break;
case 3:this.Value="12pt";
break;
case 4:this.Value="14pt";
break;
case 5:this.Value="18pt";
break;
case 6:this.Value="24pt";
break;
case 7:this.Value="36pt";
break;
}}try{b.execCommand("UseCSS",false,(false!=g));
b.execCommand("styleWithCSS",false,(false==g));
}catch(a){}if(!this.isIE&&!this.Value&&(this.CommandID=="ForeColor"||this.CommandID=="BackColor"||this.CommandID=="HiliteColor")){this.removeColorMozilla(this.CommandID);
}var c=Telerik.Web.UI.Editor.Utils.execDocumentCommand(b,this.CommandID,this.Value);
if(this.CommandID!="Outdent"&&this.CommandID!="Indent"&&this.CommandID!="SelectAll"){Telerik.Web.UI.Editor.Utils.removeInvalidElementsInLists(b);
}if($telerik.isIE&&!$telerik.isIE9Mode){switch(this.CommandID){case"JustifyLeft":case"JustifyRight":case"JustifyNone":case"JustifyCenter":case"JustifyFull":this.ieFixAlignCommandsParagraphBraking();
break;
}}if($telerik.isFirefox&&(this.CommandID=="BackColor"||this.CommandID=="HiliteColor")&&this._editor.get_contentAreaMode()==Telerik.Web.UI.EditorContentAreaMode.Div){this.mozFixContentAreaBackColor();
}try{b.execCommand("UseCSS",false,true);
b.execCommand("styleWithCSS",false,false);
}catch(a){}return c;
},ieFixAlignCommandsParagraphBraking:function(){var a=this.get_editor();
var d=Telerik.Web.UI.Editor.Utils.getElementParentByTag(a.getSelectedElement(),"P");
if(d&&d.firstChild){var b=d.firstChild;
var c=b.innerHTML;
if(c.indexOf("</P>")!=-1&&c.indexOf("<P>")==-1){Telerik.Web.UI.Editor.Utils.setElementInnerHtml(b,c.replace("</P>",""));
Telerik.Web.UI.Editor.Utils.setElementInnerHtml(d,d.innerHTML+"</P>");
}}},mozFixContentAreaBackColor:function(){var b=this._editor.get_contentArea();
var a=b.style.backgroundColor;
if(a!=""){b.style.backgroundColor="";
var h=document.evaluate('.//text()[normalize-space(.) != ""]',b,null,XPathResult.ORDERED_NODE_SNAPSHOT_TYPE,null);
for(var c=0,d=h.snapshotLength;
c<d;
c++){var g=h.snapshotItem(c);
var f=document.createElement("span");
f.innerHTML=g.nodeValue;
f.style.backgroundColor=a;
var e=g.parentNode;
e.insertBefore(f,g);
e.removeChild(g);
}}},removeColorMozilla:function(a){var b=new Telerik.Web.UI.Editor.Selection();
b._window=this._window;
var c=b.getHtml();
if(c!=""){var g=b.GetParentElement();
if(g.innerHTML.trim()==c.trim()){this.removeNodeColor(g,a);
}var h=window.document.createElement("div");
h.innerHTML=c;
for(var d=0,e=h.childNodes.length;
d<e;
d++){var f=h.childNodes[d];
this.removeNodeColor(f,a);
}b.PasteHtml(h.innerHTML);
}},removeNodeColor:function(b,a){switch(a){case"ForeColor":if(b.style){b.style.color="";
}if(b.removeAttribute){b.removeAttribute("color");
}break;
case"BackColor":case"HiliteColor":if(b.style){b.style.backgroundColor="";
}if(b.removeAttribute){b.removeAttribute("bgColor");
}break;
}}};
Telerik.Web.UI.Editor.BrowserCommand.registerClass("Telerik.Web.UI.Editor.BrowserCommand",Telerik.Web.UI.Editor.CommandBase);
Telerik.Web.UI.Editor.StyleRuleCommand=function(f,d,c,g,b,a){Telerik.Web.UI.Editor.StyleRuleCommand.initializeBase(this,[f,d,true,a]);
if(!c){var e=new Telerik.Web.UI.Editor.Selection(this._window);
c=e.getParentElement();
}this._nodeBookmark=new Telerik.Web.UI.Editor.SelectionBookmark(this._window,c);
this._styleAttributeName=g;
this._newValue=b;
};
Telerik.Web.UI.Editor.StyleRuleCommand.prototype={get_argument:function(){return this._newValue;
},clone:function(){return new Telerik.Web.UI.Editor.StyleRuleCommand(this._title,this._window,null,this._styleAttributeName,this._newValue);
},execute:function(){var a=this._nodeBookmark.select();
if(!a){return false;
}if(!this._isExecuted){this._oldValue=a.style[this._styleAttributeName];
}a.style[this._styleAttributeName]=this._newValue;
this._isExecuted=true;
return true;
},unexecute:function(){var a=this._nodeBookmark.select();
a.style[this._styleAttributeName]=this._oldValue;
}};
Telerik.Web.UI.Editor.StyleRuleCommand.registerClass("Telerik.Web.UI.Editor.StyleRuleCommand",Telerik.Web.UI.Editor.CommandBase);
Telerik.Web.UI.Editor.AttributeCommand=function(g,e,d,a,c,b){Telerik.Web.UI.Editor.AttributeCommand.initializeBase(this,[g,e,true,b]);
if(!d){var f=new Telerik.Web.UI.Editor.Selection(this._window);
d=f.getParentElement();
}this._nodeBookmark=new Telerik.Web.UI.Editor.SelectionBookmark(this._window,d);
this._attribName=a;
this._newValue=c;
};
Telerik.Web.UI.Editor.AttributeCommand.prototype={get_argument:function(){return this._newValue;
},clone:function(){return new Telerik.Web.UI.Editor.AttributeCommand(this._title,this._window,null,this._attribName,this._newValue);
},execute:function(){var a=this._nodeBookmark.select();
if(!a){return false;
}if(!this._isExecuted){if(this._attribName=="style"){this._oldValue=a.style.cssText;
}else{this._oldValue=a.getAttribute(this._attribName);
}}if(this._attribName&&this._attribName.toLowerCase()=="name"&&this.isIE){a.name=this._newValue;
a.removeAttribute("name");
a.removeAttribute("NAME");
if($telerik.isIE9Mode){var c=a.nodeName;
if(c=="INPUT"||c=="TEXTAREA"||c=="BUTTON"){a.removeAttribute("submitName");
a.setAttribute("name",this._newValue);
}}}var b=this._newValue.trim();
if(""==b){a.removeAttribute(this._attribName,0);
if("className"==this._attribName){a.removeAttribute("class",0);
}}else{if(this._attribName=="style"){a.style.cssText=this._newValue;
}else{a[this._attribName]=this._newValue;
if(this._attribName.toLowerCase()=="nowrap"||this._attribName=="borderColor"){a.setAttribute(this._attribName,this._newValue);
}}}this._isExecuted=true;
return true;
},unexecute:function(){var a=this._nodeBookmark.select();
if(this._attribName=="style"){a.style.cssText=this._oldValue;
}else{a[this._attribName]=this._oldValue;
}}};
Telerik.Web.UI.Editor.AttributeCommand.registerClass("Telerik.Web.UI.Editor.AttributeCommand",Telerik.Web.UI.Editor.CommandBase);
Type.registerNamespace("Telerik.Web.UI.Editor");
(function(){var a=$telerik.$;
var b=Telerik.Web.UI;
b.Editor.ClassNameCommand=function(f,d,e,c){b.Editor.ClassNameCommand.initializeBase(this,[(f||"Classname"),d,true,c]);
};
b.Editor.ClassNameCommand.prototype={getValue:function(c){c=c||this._window;
if($telerik.isIE){return this._getValueIE(c);
}else{return this._getValueMoz(c);
}},_getValueIE:function(d){var c=new b.Editor.Selection(d);
var e=c.getParentElement();
if(!e||b.Editor.Utils.isEditorContentArea(e)){return"";
}else{return(""==e.className?"":e.className);
}},_getValueMoz:function(f){if(!f){return"";
}var e=f.getSelection();
if(!e){return"";
}if(e.rangeCount!=1){return"";
}var i=(e.focusNode.nodeType!=3?e.focusNode:e.focusNode.parentNode);
var d=(e.anchorNode.nodeType!=3?e.anchorNode:e.anchorNode.parentNode);
if(i!=d){return"";
}var h=new b.Editor.Selection(f);
var c="",g;
if(null!=h&&null!=(g=h.getParentElement())){c=g.className;
}return(""==c?"":c);
}};
b.Editor.ClassNameCommand.registerClass("Telerik.Web.UI.Editor.ClassNameCommand",b.Editor.CommandBase);
b.Editor.FormatBlockCommand=function(f,d,e,c){b.Editor.FormatBlockCommand.initializeBase(this,[(f||"Format Block"),d,true,c]);
this.FormatValue=(e)?e:"<p>";
this._editor=c;
};
b.Editor.FormatBlockCommand.prototype={get_argument:function(){try{return this.FormatValue.substring(1,this.FormatValue.length-1).toUpperCase();
}catch(c){}},clone:function(){return new b.Editor.FormatBlockCommand(this.Title,this._window,this.FormatValue,this._editor);
},getValue:function(d){try{d=d||this._window;
var e=d.document.queryCommandValue("FormatBlock");
if(!document.all){switch(e){case"x":case"":e="Normal";
break;
}}return e;
}catch(c){}return null;
},onExecute:function(){var k=this._window.document;
var w=this.FormatValue;
var c=this._editor;
var h=null;
if("<p>"==w.toLowerCase()&&!$telerik.isOpera){k.execCommand("FormatBlock",false,"Normal");
}var p=true;
var t=this._getTagName();
var s=new b.Editor.Selection(this._window);
var e=s.getHtml();
if(e){var q=b.Editor.CommandList._markEditorSelection(c);
var j=q.newElements;
var m=q.oldElements;
var n=Function.createDelegate(this,function(i,l){var B=i.parentNode;
var x;
if(!$telerik.isFireFox&&l&&B.tagName=="A"&&B.childNodes.length==1){x=k.createElement(i.tagName);
b.Editor.Utils.removeNode(i);
B.parentNode.insertBefore(x,B);
x.appendChild(B);
i=x;
B=i.parentNode;
}x=k.createElement(t);
var y=(l)?i.innerHTML:$telerik.getOuterHtml(i);
b.Editor.Utils.setElementInnerHtml(x,y);
B.replaceChild(x,i);
if(/^(P|DIV|H[1-6]|ADDRESS|BLOCKQUOTE|PRE)$/.test(B.tagName)&&true!=b.Editor.Utils.isEditorContentArea(B)){$telerik.mergeElementAttributes(B,x,false);
if(B.childNodes.length==1){b.Editor.Utils.removeNode(B);
}else{var A=B.parentNode;
var z;
if(!x.previousSibling){A.insertBefore(x,B);
}else{if(!x.nextSibling){z=B.nextSibling;
if(z){A.insertBefore(x,z);
}else{A.appendChild(x);
}}else{var C=B.cloneNode(false);
while(x.nextSibling){C.appendChild(x.nextSibling);
}z=B.nextSibling;
if(z){B.parentNode.insertBefore(x,z);
B.parentNode.insertBefore(C,z);
}else{B.parentNode.appendChild(x);
B.parentNode.appendChild(C);
}}}}}b.Editor.Utils.removeNonXhtmlCompliantParents(x);
h=x;
this._applyAttributes(x);
});
var f,g;
for(f=0,g=j.length;
f<g;
f++){n(j[f],true);
}for(f=0,g=m.length;
f<g;
f++){n(m[f],false);
}}else{p=k.execCommand("FormatBlock",false,"<"+t+">");
var u=k.createElement("DIV");
u.innerHTML=w+"</"+t+">";
var v=u.getElementsByTagName(t)[0];
var r=c.getSelectedElement();
if(r.tagName==v.tagName){$telerik.mergeElementAttributes(v,r);
}}Telerik.Web.UI.Editor.Utils.removeInvalidElementsInLists(k);
s=new b.Editor.Selection(this._window);
var d=s.getParentElement();
b.Editor.Utils.removeNearBrElements(d);
if(d&&d.tagName!=t){s.collapse(true);
s=new b.Editor.Selection(this._window);
d=s.getParentElement();
}if(e){if($telerik.isFirefox&&h){s=c.getSelection();
var o=s.getRange();
o.selectNodeContents(h);
o.setStart(o.endContainer,o.endOffset);
s.selectRange(o);
}else{b.Editor.Utils.selectElement(this._window,d);
s=new b.Editor.Selection(this._window);
s.collapse(false);
}}return p;
},_getTagName:function(){var c=this.FormatValue.replace(/.*?<([^\s]+)(\s|\/|>).*/i,"$1");
return c.toUpperCase();
},_applyAttributes:function(e){if(!e){return;
}var f=this.FormatValue;
var d=document.createElement("div");
d.innerHTML=f+"</"+this._getTagName()+">";
if(d.firstChild){var c=d.firstChild;
if(c.className){e.className=c.className;
}if(c.style.cssText){e.style.cssText=c.style.cssText;
}}}};
b.Editor.FormatBlockCommand.registerClass("Telerik.Web.UI.Editor.FormatBlockCommand",b.Editor.CommandBase);
b.Editor.ieFontCommandFix=function(c){this.editor=c;
this.fixCellText=$telerik.$();
};
b.Editor.ieFontCommandFix.prototype={applyFix:function(){if(this.shouldApplyFix()){this._fix();
}},_fix:function(){$telerik.$(this.editor.getSelectedElement()).find("td").each($telerik.$.proxy(function(c,d){if(b.Editor.Utils.isNodeEmpty(d)){var e=$telerik.$(document.createTextNode("_"));
$telerik.$(d).prepend(e);
this.fixCellText=this.fixCellText.add(e);
}},this));
},shouldApplyFix:function(){var c=this.editor.getSelectedElement();
return $telerik.isIE&&c&&c.tagName&&/^(?:tbody|tr)$/i.test(c.tagName);
},cleanUp:function(){if(!this.fixCellText){return;
}var c=this.fixCellText.parent();
this.fixCellText.remove();
c.filter(":empty").html("&nbsp;").parent().contents().slice(1).remove();
delete this.fixCellText;
}};
b.Editor.FormatSetsCommand=function(f,e,d,c){b.Editor.FormatSetsCommand.initializeBase(this,[(f||"Format Sets"),e,true,c]);
this._formatSets;
this._selectedElement;
this._formatSet=d;
};
b.Editor.FormatSetsCommand.prototype={onExecute:function(){var c=this.get_formatSet();
if(c){if(this._isInlineFormatSet(c)){return this._onExecuteInlineFormatSet();
}else{if(this._isBlockFormatSet(c)){return this._onExecuteBlockFormatSet();
}else{return this._onExecuteElementFormatSet();
}}}return false;
},_isInlineFormatSet:function(c){return !c[0];
},_isBlockFormatSet:function(c){return c[0]&&a.inArray(c[0].toLowerCase(),b.Editor.formatSetBlockElements)!=-1;
},_onExecuteInlineFormatSet:function(){var c=new Telerik.Web.UI.EditorCommandEventArgs("",null,"_RE_TELERIK_FORMATSETS"),d=this.get_editor(),f=this,e=this.get_formatSet();
c.addToUndoRedo=false;
d.fire("ApplyClass",c);
a("._RE_TELERIK_FORMATSETS",d.get_document()).each(function(h,g){g.className="";
f._applyAttributes(g,e[3]);
});
return true;
},_onExecuteBlockFormatSet:function(){var c=this.get_formatBlockCommand();
this.get_editor().executeCommand(c);
return true;
},get_formatBlockCommand:function(){var d=this.get_editor();
var c=new b.Editor.FormatBlockCommand("",d.get_contentWindow(),this.get_formatSetElementString(),d);
c.set_canUnexecute(false);
return c;
},get_formatSetElementString:function(){var c=this.get_formatSet(),d="";
if(c&&c[0]){d+="<"+c[0]+" "+this.get_formatSetAttributesString()+">";
}return d;
},get_formatSetAttributesString:function(){var e="",d=this.get_formatSet()[3];
if(d){for(var f=0,g=d.length;
f<g;
f++){var c=d[f];
e+=c.Name+'="'+c.Value+'" ';
}}return e;
},_onExecuteElementFormatSet:function(){var d=this._getElementToModify();
if(d){var c=this.get_formatSet()[3];
if(c){this._applyAttributes(d,c);
}}},_getElementToModify:function(){var d=this.get_selectedElement(),c=null,e=this.get_formatSet()[0];
if(e){while(d&&!b.Editor.Utils.isEditorContentArea(d)){if(e.toUpperCase()==d.tagName){c=d;
break;
}d=d.parentNode;
}}return c;
},_applyAttributes:function(d,c){for(var e=0,f=c.length;
e<f;
e++){this._applyAttribute(d,c[e]);
}},_applyAttribute:function(e,c){if(c&&c.Name){var d=c.Name.toLowerCase();
if(d=="class"){e.className=c.Value;
}else{if(d=="style"){e.style.cssText=c.Value;
}else{e.setAttribute(c.Name,c.Value,2);
}}}},getValue:function(d){var c=this.get_editor(),e=(c)?c.getSelectedElement():null,f={commandText:"",selectedElement:null};
if(e&&e.nodeType==3){e=e.parentNode;
}if(!(e&&b.Editor.Utils.isEditorContentArea(e))){f={commandText:this._getFormatSetTextByElement(e),selectedElement:e};
}return f;
},_getFormatSetTextByElement:function(c){var e=this.get_formatSets();
for(var f=0,g=e.length;
f<g;
f++){var d=e[f];
if(this._formatSetMatchesElement(d,c)){return d[1];
}}return"";
},_formatSetMatchesElement:function(e,c){var f=e[0],d=c&&c.tagName||"";
if(!f||d.toLowerCase()==f.toLowerCase()){return this._attributesMatch(e[3],c);
}return false;
},_attributesMatch:function(f,e){if(e&&e.getAttribute&&f.length){for(var g=0,h=f.length;
g<h;
g++){var c=f[g],d=c.Name;
if(d&&d.toLowerCase()=="style"){if(!this._ElementCssTextIsEqualToString(e,c.Value)){return false;
}}else{if(!d||e.getAttribute(d)!=c.Value){return false;
}}}return true;
}else{return false;
}},_ElementCssTextIsEqualToString:function(d,c){var e=false;
if(d&&d.style&&c){var f=d.ownerDocument.createElement("div");
f.style.cssText=c;
e=d.style.cssText==f.style.cssText;
}return e;
},get_formatSets:function(){if(!this._formatSets){var c=this.get_editor();
return(c)?c.get_formatSets():[];
}return this._formatSets;
},set_formatSets:function(c){this._formatSets=c;
},get_selectedElement:function(){if(!this._selectedElement){var c=this.get_editor();
this._selectedElement=(c)?c.getSelectedElement():null;
}return this._selectedElement;
},set_selectedElement:function(c){this._selectedElement=c;
},get_formatSet:function(){return this._formatSet;
},set_formatSet:function(c){this._formatSet=c;
}};
b.Editor.FormatSetsCommand.registerClass("Telerik.Web.UI.Editor.FormatSetsCommand",b.Editor.CommandBase);
b.Editor.FormatPainterCommand=function(f,e,d,c){b.Editor.FormatPainterCommand.initializeBase(this,[(f||"Format Painter"),e,true,c]);
this._currentFormatting;
this._formatElements=["B","STRONG","U","I","STRIKE","EM","H1","H2","H3","H4","H5","H6","SUP","SUB"];
this._cssProperties=["color","font-family","font-size","font-style","font-variant","font-weight","background-color","background-image","background-position","background-repeat","background-attachment"];
};
b.Editor.FormatPainterCommand.prototype={onExecute:function(){if(this.get_currentFormatting()){this.applyFormatting();
this.get_editor().getSelection().collapse(false);
}return true;
},applyFormatting:function(){this.executeApplyClass();
this.formatTemporaryDecoratedElements();
},executeApplyClass:function(){var d=this.get_editor();
if(d){var c=new Telerik.Web.UI.EditorCommandEventArgs("",null,"_RE_TELERIK_FORMATPAINTER");
c.addToUndoRedo=false;
d.fire("ApplyClass",c);
}},formatTemporaryDecoratedElements:function(){var e=this.get_editor(),d=this.get_currentFormatting(),f=Function.createDelegate(this,this.setCssText),c=Function.createDelegate(this,this.addFormatElements),g=e.get_document().createElement("span");
g.style.cssText=d.cssText;
e.get_contentArea().appendChild(g);
a("._RE_TELERIK_FORMATPAINTER",e.get_document()).each(function(i,h){a(h).removeClass();
if(d.cssText){f(h,g);
}c(h);
var j=h.tagName;
if(j=="FONT"||j=="SPAN"){if(h.style.cssText==""&&a(h).attr("class")==""){b.Editor.Utils.removeNode(h);
}}});
a(g).remove();
},setCssText:function(e,j){var d="",h=this._cssProperties.length;
for(var g=0;
g<h;
g++){var c=this._cssProperties[g];
var k=this.getComputedStyle(j,c);
var f=this.getComputedStyle(e,c);
if(f!=k){if(!this.skipFontWeight(c,k)&&!this.skipFontSyleItalic(c,k)){if(c=="font-weight"){k=this.getFontWeightValue(k);
}d+=";"+c+":"+k+";";
}}}a(e).css("cssText",d.replace(/^;/,"").replace(/;$/,""));
},skipFontWeight:function(c,d){return c=="font-weight"&&(d==700||d=="bold")&&this.currentformattingContainsBoldElements();
},skipFontSyleItalic:function(c,d){return c=="font-style"&&d=="italic"&&this.currentformattingContainsItalicElements();
},currentformattingContainsBoldElements:function(){var c=["B","STRONG","H1","H2","H3","H4","H5","H6"],d=this.get_currentFormatting().formatElements,f=d.length;
for(var e=0;
e<f;
e++){if(a.inArray(d[e],c)!=-1){return true;
}}return false;
},currentformattingContainsItalicElements:function(){var e=["I","EM"],c=this.get_currentFormatting().formatElements;
for(var d=0,f=c.length;
d<f;
d++){if(a.inArray(c[d],e)!=-1){return true;
}}return false;
},getFontWeightValue:function(d){var c=d;
switch(d){case"700":c="bold";
break;
case"400":c="normal";
break;
}return c;
},setClassName:function(d){var c=this.get_currentFormatting();
a(d).addClass(c.className);
},addFormatElements:function(e,f){var d=this.get_editor().get_document();
var c=this.get_currentFormatting();
f=c.formatElements;
for(var g=0,h=f.length;
g<h;
g++){var j=d.createElement(f[g]),k=e.parentNode;
k.insertBefore(j,e);
j.appendChild(e);
e=j;
}},get_formatting:function(c){var d={formatElements:[],cssText:"",className:""};
if(c){this.set_formatElements(c,d);
d.className=a(c).attr("class");
d.cssText=this.getCssText(c);
}return d;
},getCssText:function(d){var g="",f=this._cssProperties.length;
for(var e=0;
e<f;
e++){var c=this._cssProperties[e];
g+=";"+c+":"+this.getComputedStyle(d,c)+";";
}return g.replace(/^;/,"").replace(/;$/,"");
},getComputedStyle:function(f,c){var e=this.get_editor();
var g="";
var d=e.get_document();
if(d.defaultView&&d.defaultView.getComputedStyle){g=d.defaultView.getComputedStyle(f,"").getPropertyValue(c);
}else{if(f.currentStyle){c=c.replace(/\-(\w)/g,function(i,h){return h.toUpperCase();
});
g=f.currentStyle[c];
}}return g;
},set_formatElements:function(c,d){for(var e=this._formatElements.length-1;
e>=0;
e--){this.pushFormatElementsByTag(c,d,this._formatElements[e]);
}},pushFormatElementsByTag:function(c,d,f){if(a.inArray(f,d.formatElements)==-1){if(c.tagName==f){d.formatElements.push(f);
}else{var e=b.Editor.Utils.getElementParentByTag(c,f);
if(e){d.formatElements.push(f);
}}}},getState:function(c){return b.Editor.CommandStates.Off;
},get_currentFormatting:function(){var c=this.get_editor();
return(c)?c.get_currentFormatting():null;
},set_currentFormatting:function(d){var c=this.get_editor();
if(c){c.set_currentFormatting(d);
}},set_formatPainterToolSelectedIndex:function(d){var c=this.get_editor(),e=c.get_toolAdapter().getToolByName("FormatPainter");
if(e){if(e.set_selectedIndex){e.set_selectedIndex(d);
}else{e._enableButtonSelection=true;
e.set_selectedButtonIndex(d);
$telerik.$(e._element).removeClass("FormatPainterApply FormatPainterCopy FormatPainterClear");
$telerik.$(e._element).addClass((d==1)?"FormatPainterApply":"FormatPainterCopy");
}}}};
b.Editor.FormatPainterCommand.registerClass("Telerik.Web.UI.Editor.FormatPainterCommand",b.Editor.CommandBase);
})();
Type.registerNamespace("Telerik.Web.UI.Editor");
(function(a,c,d){var b=c.Editor;
var e=b.Utils;
b.EnterNewLineCommand=function(k,j,f,h,i){var g=this;
b.EnterNewLineCommand.initializeBase(g,[(k||"Enter pressed"),j,true,h]);
g._newLineMode=i||h.get_newLineMode();
g.tag=g._newLineMode==c.EditorNewLineModes.Div?"div":"p";
g._canUnexecute=(f!=false);
g.doc=h.get_document();
};
b.EnterNewLineCommand.insertBrAfterHeading=false;
b.EnterNewLineCommand.prototype={execute:function(){var f=this,g=f.get_editor();
if(g.get_mode()==c.EditModes.Preview){return false;
}var k=g.getSelection().getRange(true);
if(!k||(k.parentElement&&k.parentElement().nodeName=="TEXTAREA")||(k.commonAncestorContainer&&e.isTag(k.commonAncestorContainer.childNodes[k.startOffset],"textarea"))){g.bubbleKeyEventToBrowser();
return false;
}var i=new b.GenericCommand("Enter",g.get_contentWindow(),g);
g._fireDeleteSelectionCmd(false);
var l=(f._newLineMode==c.EditorNewLineModes.Br)?f.enterBr():f.enterBlockElement();
g.executeCommand(i);
if($telerik.isIE7&&g.get_contentAreaMode()==c.EditorContentAreaMode.Div){var h=g.getSelection().getRange(true).parentElement();
var j=e.getElementParentByTag(h,"LI");
h=j?j.parentNode:h;
e._toggleElementZoom(h);
}return l;
},enterBr:function(){var f=this,g=f.get_editor(),k=g.getSelectedElement();
var i=e.getElementParentByTag(k,"LI");
if(i){return f.enterNewLineInList(i,k);
}var h=e.getElementParentByRegExpTagName(k,f.regExpHeader);
if(h){return f.insertBrInHeading(h);
}var j=e.getElementParentByTag(k,"A");
if(j&&!$telerik.isSafari){return f.insertBrInLink(j);
}if($telerik.isIE){return f._insertBrElementIE();
}else{if($telerik.isOpera){return f._insertBrElementOpera();
}else{if($telerik.isSafari){return f._insertBrElementSafari();
}else{if($telerik.isFirefox){if(e.getElementParentByRegExpTagName(k,/^body|p|s|u|i|strike|strong|span|font|div|sup|sub$/i)){return f._insertBrElementFirefox();
}}}}}g.bubbleKeyEventToBrowser();
return false;
},enterNewLineInList:function(j,l){var f=this,h=f.get_editor();
if(f.shouldOutdentListItem_OnEnter(j)){return f.outdentListItem_OnEnter(j);
}else{if(a(j).find("ol,ul").length>0){return f.executeInsertParagraphCommand(h,null);
}else{if(f._newLineMode!=c.EditorNewLineModes.Br){return f.executeInsertParagraphCommand(h,j,false);
}}}if($telerik.isSafari){var g=b.DomRange.toDomRange(h.getSelection().getRange());
if(f.isLastElement(l,j)&&g.endContainer&&e.isTextNode(g.endContainer)&&g.endContainer.length==g.endOffset){return f.executeInsertParagraphCommand(h,j);
}else{f.executeInsertParagraphCommand(h,j);
var k=e.getNextElement(j);
var i=a("*",k)[0];
if(i){h.getSelection().moveToElementText(i);
}return true;
}}else{return f.executeInsertParagraphCommand(h,j);
}},_insertBrElementIE:function(){var g=this,i=g.get_editor(),f=g.doc.createElement("br"),h=b.DomRange.toDomRange(i.getSelection().getRange(true));
h.deleteContents();
h.collapse(false);
h.insertNode(f);
if(!$telerik.isIE9&&!$telerik.isIE10&&!f.nextSibling){var j=(e.isTextNode(f.previousSibling)&&i.nodesTracker.isTracked(f.previousSibling))?f.previousSibling:g.doc.createTextNode("\u200b");
e.scrollTo(f,i);
a(j).insertAfter(f);
g.setCursorInTextNode(h,j,1,1);
i.nodesTracker.trackNode(j);
}else{h.setStartAfter(f);
h.collapse(true);
h.select();
e.scrollTo(f,i);
}return true;
},_insertBrElementOpera:function(){var g=this,i=g.get_editor(),h=b.DomRange.toDomRange(i.getSelection().getRange(true)),f=g.doc.createElement("br");
h.collapse(false);
h.insertNode(f);
e.scrollTo(f,i);
h.setStartAfter(f);
h.collapse(true);
h.select();
return true;
},_insertBrElementSafari:function(){var f=this,g=f.get_editor();
f.doc.execCommand("InsertLineBreak",true,"");
var h=g.getSelection().getRange();
if(e.isTag(h.commonAncestorContainer.childNodes[h.endOffset],"br")){e.scrollTo(h.commonAncestorContainer.childNodes[h.endOffset],g);
}return true;
},_insertBrElementFirefox:function(){var g=this,i=g.get_editor(),f=g.doc.createElement("br"),j=f,l=b.DomRange.toDomRange(i.getSelection().getRange());
var h=l.commonAncestorContainer,k=e.isTextNode(l.commonAncestorContainer);
if(!k&&h.childNodes[l.endOffset]){h=h.childNodes[l.endOffset];
}if(i.nodesTracker.isTracked(h)){a(f).insertBefore(h);
if(e.isTextNode(h)){g.setCursorInTextNode(l,h,1,1);
}else{l.setStartAfter(f);
l.collapse(true);
l.select();
}e.scrollTo(f,i);
return true;
}l.insertNode(f);
if(f.parentNode.normalize){f.parentNode.normalize();
}if(!f.nextSibling||g.isEmptyTextNode(f.nextSibling)){j=g.doc.createTextNode(String.fromCharCode(8203));
a(j).insertAfter(f);
i.nodesTracker.trackNode(j);
g.setCursorInTextNode(l,j,1,1);
}else{l.setStartAfter(j);
l.collapse(true);
l.select();
}e.scrollTo(f,i);
return true;
},executeInsertParagraphCommand:function(g,f,i){var h=new b.InsertParagraphCommand(g);
if(f){h.container=f;
}if(i===true||i===false){h.options.retainOriginalNodeName=i;
}if(i===false){h.options.tag=this.tag;
}return h.onExecute();
},insertBrInLink:function(j){var g=this,i=g.get_editor(),h=b.DomRange.toDomRange(i.getSelection().getRange(true)),f=g.doc.createElement("br");
h.insertNode(f);
if(g.isFirstElement(f,j)){a(f).insertBefore(j);
}else{if(g.isLastElement(f,j)){a(f).insertAfter(j);
}}g.setCursorAfterBr(f,h);
var k=e.getNextElement(f);
if(k&&k.nodeName=="A"&&e.isTextNode(f.nextSibling)&&f.nextSibling.nodeValue.trim()==""){f.nextSibling.nodeValue="";
}e.scrollTo(f,i);
return true;
},insertBrInHeading:function(k){var g=this,j=g.get_editor(),i=b.DomRange.toDomRange(j.getSelection().getRange()),l=b.EnterNewLineCommand.insertBrAfterHeading,f=g.doc.createElement("br");
i.insertNode(f);
if(!l&&g.isLastElement(f,k)){a(f).remove();
var m=g.doc.createElement("p");
a(m).insertAfter(k);
var h=g.doc.createElement("span");
h.innerHTML="&nbsp;";
m.appendChild(h);
g.setCursorInNode(h);
e.scrollTo(m,j);
}else{g.setCursorAfterBr(f,i);
e.scrollTo(f,j);
}return true;
},isFirstElement:function(g,f){return this._isFirstOrLastElement(g,f,true);
},isLastElement:function(g,f){return this._isFirstOrLastElement(g,f,false);
},_isFirstOrLastElement:function(i,g,j){var f=this;
var l=i;
var h=f.get_editor().get_contentArea();
var k=a(g);
var m=j?"previousSibling":"nextSibling";
while(!k.is(l)&&a.contains(h,l)){while(l[m]){l=l[m];
if(!f.isEmptyTextNode(l)){return false;
}}l=l.parentNode;
}return true;
},setCursorAfterBr:function(f,h){var g=this,i;
if(f.nextSibling&&e.isTextNode(f.nextSibling)&&!e.isTextNodeEmpty(f.nextSibling)){i=f.nextSibling;
g.setCursorInTextNode(h,i,0,0);
return;
}i=g.doc.createTextNode("");
a(i).insertAfter(f);
if($telerik.isSafari){a(g.doc.createElement("br")).insertAfter(i);
g.setCursorInTextNode(h,i,0,0);
}else{if($telerik.isOpera||$telerik.isFirefox){if($telerik.isFirefox){i.nodeValue="\u200b";
g.get_editor().nodesTracker.trackNode(i);
}this.setCursorInTextNode(h,i,0,0);
}else{if($telerik.isIE9Mode){i.nodeValue="\u00A0";
g.setCursorInTextNode(h,i,0,0);
}else{i.nodeValue="\u00A0";
h.setStartAfter(f);
h.setEndAfter(f);
h.collapse(!$telerik.isIE||$telerik.isIE9Mode);
h.select();
}}}},setCursorInNode:function(f){e._setCursor(f,this.get_editor());
},setCursorInTextNode:function(h,i,g,f){e._setCursorInTextNode(h,i,g,f);
},shouldOutdentListItem_OnEnter:function(f){return e.isNodeEmptyRecursive(f)||this.isEmptyListItem(f);
},isEmptyListItem:function(g){var f=this;
if(!e.isTag(g,"li")||a(g).find("br").length>1){return false;
}return e.isNodeEmptyRecursive(g)||e.every(g.childNodes,function(h){return f.isEmptyTextNode(h)||e.isTag(h,"br");
});
},isEmptyTextNode:function(f){return e.isTextNode(f)&&e.isTextNodeEmpty(f);
},isList:function(f){return e.isList(f);
},outdentListItem_OnEnter:function(h){var f=this;
var g=f.insertCursor();
var i=new b.OutdentCommand(f.get_editor());
i.executeDomCommand([h]);
if(f._newLineMode==c.EditorNewLineModes.Br){var j=e.getElementParentByTag(g,"P");
if(j){e.removeNode(j);
}}f.setCursorInNode(g);
return true;
},insertCursor:function(){var f=this;
var j=f.get_editor();
var k=b.DomRange.toDomRange(j.getSelection().getRange(true));
var h=f.doc.createElement("span");
var g=k.commonAncestorContainer;
var l=j.nodesTracker;
if(l.isZeroWidthNode(g)){var i=g.parentNode;
i.insertBefore(h,g);
i.removeChild(g);
h.appendChild(l.createTrackedNode());
}else{k.insertNode(h);
}if(e.isBlockElement(g)&&!a.contains(g,h)){g.appendChild(h);
}return h;
},enterBlockElement:function(){var f=this,g=f.get_editor(),j=g.getSelectedElement(),i=e.getElementParentByTag(j,"LI");
if(i){return f.enterNewLineInList(i);
}var h=e.getElementParentByRegExpTagName(j,f.regExpHeader);
if(h){return f.enterHeading(h);
}else{return f.executeInsertParagraphCommand(g,null,false);
}},enterHeading:function(g){var i=this,f=i.get_editor(),h=new b.InsertParagraphCommand(f);
h.container=g;
h.options.insertParagraphAfterHeading=true;
h.options.retainOriginalNodeName=false;
h.options.tag=i._newLineMode==c.EditorNewLineModes.Div?"div":"p";
return h.onExecute();
},regExpHeader:/^h[1-6]$/i,isHeader:function(f){return this.regExpHeader.test(f.nodeName);
}};
b.EnterNewLineCommand.registerClass("Telerik.Web.UI.Editor.EnterNewLineCommand",b.CommandBase);
})($telerik.$,Telerik.Web.UI);
Type.registerNamespace("Telerik.Web.UI.Editor");
Telerik.Web.UI.Editor.TableCommandBase=function(c,b,a){Telerik.Web.UI.Editor.TableCommandBase.initializeBase(this,[(c||"Table Command"),b,true,a]);
};
Telerik.Web.UI.Editor.TableCommandsBase_Static={};
Telerik.Web.UI.Editor.TableCommandBase.prototype={getLayoutBuilderEngine:function(c,a){if(!Telerik.Web.UI.Editor.TableCommandsBase_Static._tableBuilder){Telerik.Web.UI.Editor.TableCommandsBase_Static._tableBuilder=new Telerik.Web.UI.LayoutBuilderEngine();
}var b=Telerik.Web.UI.Editor.TableCommandsBase_Static._tableBuilder;
b.set_selectedTable(c);
b.set_selectedCell(a);
return b;
},configureLayoutBuilderEngine:function(){var a=this.getSelectedCell();
if(!a){return false;
}var b=a.parentNode;
var c=this.getParentTable(b);
return this.getLayoutBuilderEngine(c,a);
},getState:function(a){return this.getSelectedCell(a)?Telerik.Web.UI.Editor.CommandStates.Off:Telerik.Web.UI.Editor.CommandStates.Disabled;
},getSelectedCell:function(a){var c=new Telerik.Web.UI.Editor.Selection(a||this._window);
var b;
if(c){b=c.getParentElement();
}var d=Telerik.Web.UI.Editor.Utils;
while(null!=b&&b.tagName!="TD"&&b.tagName!="TH"&&!d.isEditorContentArea(b)){b=b.parentNode;
}if(!b||!b.tagName){return null;
}return(b.tagName=="TD"||b.tagName=="TH"?b:null);
},getSelectedRow:function(a){var c=new Telerik.Web.UI.Editor.Selection(this._window||a);
var b;
if(c){b=c.getParentElement();
}if(!b){return null;
}var d=Telerik.Web.UI.Editor.Utils;
while(null!=b&&b.tagName!="TR"&&!d.isEditorContentArea(b)){b=b.parentNode;
}return(b&&b.tagName=="TR"?b:null);
},getParentTable:function(a){if(!a){return null;
}var b=Telerik.Web.UI.Editor.Utils;
while(null!=a&&"TABLE"!=a.tagName&&!b.isEditorContentArea(a)){a=a.parentNode;
}return(a&&a.tagName=="TABLE"?a:null);
}};
Telerik.Web.UI.Editor.TableCommandBase.registerClass("Telerik.Web.UI.Editor.TableCommandBase",Telerik.Web.UI.Editor.CommandBase);
Telerik.Web.UI.Editor.TableInsertRow=function(d,c,a,b){Telerik.Web.UI.Editor.TableInsertRow.initializeBase(this,[(d||"Insert row"),c,b]);
this._direction=a||"above";
};
Telerik.Web.UI.Editor.TableInsertRow.prototype={clone:function(){return new Telerik.Web.UI.Editor.TableInsertRow(this._title,this._window,this._direction);
},getState:function(a){var b=Telerik.Web.UI.Editor.CommandStates;
return(this.getSelectedRow(a)?b.Off:b.Disabled);
},onExecute:function(){var a=this.configureLayoutBuilderEngine();
return a.executeCommand(("below"==this._direction)?"insertRowBelow":"insertRowAbove");
}};
Telerik.Web.UI.Editor.TableInsertRow.registerClass("Telerik.Web.UI.Editor.TableInsertRow",Telerik.Web.UI.Editor.TableCommandBase);
Telerik.Web.UI.Editor.TableDeleteRow=function(c,b,a){Telerik.Web.UI.Editor.TableDeleteRow.initializeBase(this,[(c||"Delete Row"),b,a]);
};
Telerik.Web.UI.Editor.TableDeleteRow.prototype={clone:function(){return new Telerik.Web.UI.Editor.TableDeleteRow(this._title,this._window);
},getState:function(a){var b=Telerik.Web.UI.Editor.CommandStates;
return(this.getSelectedRow(a)?b.Off:b.Disabled);
},onExecute:function(){var a=this.configureLayoutBuilderEngine();
this.selectAnotherRow(a);
return a.executeCommand("deleteRow");
},selectAnotherRow:function(c){if($telerik.isIE9Mode){var a=c._getLeftTopStateIndexes(c._selectedRowIndex,c._selectedCell.cellIndex);
var e=a.rowIndex;
var d=c._getSelectedTableCellByStateIndexes(e+1,0)||c._getSelectedTableCellByStateIndexes(e-1,0);
if(d){var b=this.get_editor().getSelection();
b.selectElement(d);
b.collapse(true);
}}}};
Telerik.Web.UI.Editor.TableDeleteRow.registerClass("Telerik.Web.UI.Editor.TableDeleteRow",Telerik.Web.UI.Editor.TableCommandBase);
Telerik.Web.UI.Editor.TableInsertColumn=function(d,c,a,b){Telerik.Web.UI.Editor.TableInsertColumn.initializeBase(this,[(d||"Insert column"),c,b]);
this._direction=a||"left";
};
Telerik.Web.UI.Editor.TableInsertColumn.prototype={clone:function(){return new Telerik.Web.UI.Editor.TableInsertColumn(this._title,this._window,this._direction);
},getState:function(a){var b=Telerik.Web.UI.Editor.CommandStates;
return(this.getSelectedCell(a)?b.Off:b.Disabled);
},onExecute:function(){var a=this.configureLayoutBuilderEngine();
if($telerik.isRightToLeft(a._selectedTable)){this._direction=("right"==this._direction)?"left":"right";
}return a.executeCommand(("right"==this._direction)?"insertColumnToTheRight":"insertColumnToTheLeft");
}};
Telerik.Web.UI.Editor.TableInsertColumn.registerClass("Telerik.Web.UI.Editor.TableInsertColumn",Telerik.Web.UI.Editor.TableCommandBase);
Telerik.Web.UI.Editor.TableDeleteColumn=function(c,b,a){Telerik.Web.UI.Editor.TableDeleteColumn.initializeBase(this,[(c||"Delete column"),b,a]);
};
Telerik.Web.UI.Editor.TableDeleteColumn.prototype={clone:function(){return Telerik.Web.UI.Editor.TableDeleteColumn.New(this._title,this._window);
},getState:function(a){var b=Telerik.Web.UI.Editor.CommandStates;
return(this.getSelectedCell(a)?b.Off:b.Disabled);
},onExecute:function(){var a=this.configureLayoutBuilderEngine();
return a.executeCommand("deleteColumn");
}};
Telerik.Web.UI.Editor.TableDeleteColumn.registerClass("Telerik.Web.UI.Editor.TableDeleteColumn",Telerik.Web.UI.Editor.TableCommandBase);
Telerik.Web.UI.Editor.TableMergeRows=function(c,b,a){Telerik.Web.UI.Editor.TableMergeRows.initializeBase(this,[(c||"Merge rows"),b,a]);
};
Telerik.Web.UI.Editor.TableMergeRows.prototype={clone:function(){return Telerik.Web.UI.Editor.TableMergeRows.New(this._title,this._window);
},getState:function(b){var a=this.getSelectedCell(b);
if(a&&this.getLayoutBuilderEngine(this.getParentTable(a),a).canMergeDown()){return Telerik.Web.UI.Editor.CommandStates.Off;
}return Telerik.Web.UI.Editor.CommandStates.Disabled;
},onExecute:function(){var a=this.configureLayoutBuilderEngine();
return a.executeCommand("mergeDown");
},getLowerCell:function(a){if(!a){return null;
}var f=this.getParentTable(a);
var e=a.parentNode;
var d=f.rows[e.rowIndex+a.rowSpan];
if(!d){return null;
}var c=d.cells[a.cellIndex];
if(!c){for(var b=d.cells.length-1;
b>=0;
b--){if(d.cells[b].offsetLeft==a.offsetLeft){return d.cells[b];
}}}return c;
}};
Telerik.Web.UI.Editor.TableMergeRows.registerClass("Telerik.Web.UI.Editor.TableMergeRows",Telerik.Web.UI.Editor.TableCommandBase);
Telerik.Web.UI.Editor.TableMergeColumns=function(c,b,a){Telerik.Web.UI.Editor.TableMergeColumns.initializeBase(this,[(c||"Merge columns"),b,a]);
};
Telerik.Web.UI.Editor.TableMergeColumns.prototype={clone:function(){return Telerik.Web.UI.Editor.TableMergeColumns.New(this._title,this._window);
},getState:function(b){var a=this.getSelectedCell(b);
if(a&&this.getLayoutBuilderEngine(this.getParentTable(a),a).canMergeRight()){return Telerik.Web.UI.Editor.CommandStates.Off;
}return Telerik.Web.UI.Editor.CommandStates.Disabled;
},getNextSiblingCell:function(a){if(!a){return null;
}var c=a.parentNode;
var b=c.cells[a.cellIndex+1];
if(null!=b&&a.rowSpan==b.rowSpan){return b;
}else{return null;
}},onExecute:function(){var a=this.configureLayoutBuilderEngine();
return a.executeCommand("mergeRight");
}};
Telerik.Web.UI.Editor.TableMergeColumns.registerClass("Telerik.Web.UI.Editor.TableMergeColumns",Telerik.Web.UI.Editor.TableCommandBase);
Telerik.Web.UI.Editor.TableSplitCell=function(d,c,a,b){Telerik.Web.UI.Editor.TableSplitCell.initializeBase(this,[(d||"Split cell"),c,b]);
this._direction=a||"vertical";
};
Telerik.Web.UI.Editor.TableSplitCell.prototype={clone:function(){return new Telerik.Web.UI.Editor.TableSplitCell(this._title,this._window);
},getState:function(a){var b=Telerik.Web.UI.Editor.CommandStates;
return(this.getSelectedCell(a)?b.Off:b.Disabled);
},onExecute:function(){var a=this.configureLayoutBuilderEngine();
return a.executeCommand(("vertical"==this._direction)?"splitCellVertically":"splitCellHorizontally");
},getRealCellIndex:function(a){if(!a){return 0;
}var e=a.parentNode;
var c=0;
var b=0;
while(e.cells.length>c&&e.cells[c]!=a){var d=e.cells[c];
if(d.colSpan>1){b+=d.colSpan;
}else{b++;
}c++;
}return b;
}};
Telerik.Web.UI.Editor.TableSplitCell.registerClass("Telerik.Web.UI.Editor.TableSplitCell",Telerik.Web.UI.Editor.TableCommandBase);
Telerik.Web.UI.Editor.TableDeleteCell=function(c,b,a){Telerik.Web.UI.Editor.TableDeleteCell.initializeBase(this,[(c||"Delete cell"),b,a]);
};
Telerik.Web.UI.Editor.TableDeleteCell.prototype={clone:function(){return new Telerik.Web.UI.Editor.TableDeleteCell(this._title,this._window);
},getState:function(b){var a=this.getSelectedCell(b);
if(a&&this.getLayoutBuilderEngine(this.getParentTable(a),a).canDeleteCell()){return Telerik.Web.UI.Editor.CommandStates.Off;
}return Telerik.Web.UI.Editor.CommandStates.Disabled;
},onExecute:function(){var a=this.configureLayoutBuilderEngine();
return a.executeCommand("deleteCell");
}};
Telerik.Web.UI.Editor.TableDeleteCell.registerClass("Telerik.Web.UI.Editor.TableDeleteCell",Telerik.Web.UI.Editor.TableCommandBase);
Type.registerNamespace("Telerik.Web.UI");
(function(){var a=$telerik.$;
var b=Telerik.Web.UI;
b.EditorButton=function(c){b.EditorButton.initializeBase(this,[c]);
this._enabled=true;
this._text="";
this._isOn=false;
this._contentAreaMode="";
this._enableAriaSupport=false;
this._rendermode="";
this._shortCut="";
};
b.EditorButton.getToolRootNode=function(c){while(c&&c.tagName!="A"){c=c.parentNode;
}return c;
};
b.EditorButton.prototype={initialize:function(){this._view=Telerik.Web.UI.Editor.UI.ToolsViewFactory.getView(this,"EditorButton");
if(this.get_addClickHandler()){var c=this.get_element();
$addHandlers(c,{click:this.click},this);
}},dispose:function(){var c=this.get_element();
if(c){$clearHandlers(c);
}b.EditorButton.callBaseMethod(this,"dispose");
},click:function(c){this.raiseEvent("valueSelected");
return $telerik.cancelRawEvent(c);
},add_valueSelected:function(c){this.get_events().addHandler("valueSelected",c);
},remove_valueSelected:function(c){this.get_events().removeHandler("valueSelected",c);
},raiseEvent:function(d,c){var e=this.get_events().getHandler(d);
if(e){if(!c){c=Sys.EventArgs.Empty;
}e(this,c);
}},set_width:function(c){this._width=c;
if(this._view){this._view.set_width(c);
}},get_width:function(){if(this._view){this._width=this._view.get_width();
}return this._width;
},set_height:function(c){this._height=c;
if(this._view){this._view.set_height(c);
}},get_height:function(){if(this._view){this._width=this._view.get_width();
}return this._width;
},get_tooltipIncrease:function(){if(this._view){this._tooltipIncrease=this._view.get_tooltipIncrease();
}return this._tooltipIncrease;
},set_tooltipIncrease:function(c){this._tooltipIncrease=c;
if(this._view){this._view.set_tooltipIncrease(c);
}},get_tooltipDecrease:function(){if(this._view){this._tooltipDecrease=this._view.get_tooltipDecrease();
}return this._tooltipDecrease;
},set_tooltipDecrease:function(c){this._tooltipDecrease=c;
if(this._view){this._view.set_tooltipDecrease(c);
}},get_shortCut:function(){return this._shortCut;
},set_shortCut:function(c){this._shortCut=this._parseShortCut(c);
this._updateAnchorTitle();
},_parseShortCut:function(g){var e=(g+"").replace(/\s/g,""),d=Telerik.Web.Platform;
if(e.indexOf("/")!=-1&&e.indexOf("CMD")!=-1&&e.match(/CTRL|F[\d]/)){var f=e.split("/"),c=f[0].indexOf("CMD")>-1;
if(d&&d.mac){e=c?f[0]:f[1];
}else{e=c?f[1]:f[0];
}}return e;
},_updateAnchorTitle:function(){var c=this.get_shortCut(),d=this.get_text();
if(c){d=d.replace(/\([^\)]*\)/,"("+c+")");
}a(this.getAnchorElement()).attr("title",d);
},isTarget:function(c){return $telerik.isDescendantOrSelf(this.get_element(),c.target);
},setState:function(c){this.set_enabled(c!=b.Editor.CommandStates.Disabled);
this.setOn(c==b.Editor.CommandStates.On);
},setFocus:function(){var c=this.getAnchorElement();
if(c&&c.focus){c.focus();
}},get_enabled:function(){return this._enabled;
},set_enabled:function(c){if(this._enabled!=c){this._enabled=c;
if(this._view){if(c){this._view.enable();
}else{this._view.disable();
}}}},get_enableAriaSupport:function(){return this._enableAriaSupport;
},set_enableAriaSupport:function(e,d){if(this.get_enableAriaSupport()!=e){this._enableAriaSupport=e;
var c=this.getAnchorElement();
if(!c){return;
}if(this.get_enableAriaSupport()){d=d?d:"button";
c.setAttribute("role",d);
}}},isOn:function(){return this._isOn;
},setOn:function(d,c){if(this._isOn!=d){this._isOn=d;
if(this._view){if(this._isOn){this._view.select(c);
}else{this._view.deselect(c);
}}}},get_text:function(){if(this._text){return this._text;
}var c=this.getAnchorElement();
if(c&&c.getAttribute("title")){return c.getAttribute("title");
}return this.get_name();
},set_text:function(c){if(this._text!=c){this._text=c;
if(this.get_showText()&&this._view){this._view.set_text(c);
}}},get_contentAreaMode:function(){if(this._contentAreaMode!=""){return this._contentAreaMode;
}else{return b.EditorContentAreaMode.Iframe;
}},set_contentAreaMode:function(c){this._contentAreaMode=c;
},getAnchorElement:function(){return this.get_element();
},getSpanElement:function(){if(this.rendermode=="Lightweight"||(this._attributes&&this._attributes.rendermode==="Lightweight")){return null;
}else{var c=this.getAnchorElement();
var d=c.firstChild;
while(d!=null&&(d.tagName==null||d.tagName.toLowerCase()!="span")){d=d.nextSibling;
}return d;
}}};
a.registerControlProperties(b.EditorButton,{clientStateFieldID:null,attributes:{},addClickHandler:false,autoPostBack:false,name:"",showIcon:true,showText:false,skin:"",type:null,rendermode:"Classic",clientTypeName:"Telerik.Web.UI.EditorButton"});
a.registerControlEvents(b.EditorButton,["valueSelected"]);
b.EditorButton.registerClass("Telerik.Web.UI.EditorButton",Sys.UI.Control);
Telerik.Web.UI.EditorSpinBoxEventArgs=function(c,d){Telerik.Web.UI.EditorSpinBoxEventArgs.initializeBase(this);
this._newValue=c;
this._oldValue=d;
};
Telerik.Web.UI.EditorSpinBoxEventArgs.prototype={get_oldValue:function(){return this._oldValue;
},get_newValue:function(){return this._newValue;
}};
Telerik.Web.UI.EditorSpinBoxEventArgs.registerClass("Telerik.Web.UI.EditorSpinBoxEventArgs",Sys.CancelEventArgs);
Telerik.Web.UI.EditorSpinBox=function(c){Telerik.Web.UI.EditorSpinBox.initializeBase(this,[c]);
this._width="50px";
this._className="reSpinBox";
this._selectedItem="";
this._initialValue="";
this._visibleInput=true;
this._enabledIncrease=true;
this._enabledDecrease=true;
};
Telerik.Web.UI.EditorSpinBox.prototype={dispose:function(){this._inputElement.onchange=null;
this._inputElement.onkeypress=null;
this._inputElement.onclick=null;
this._inputElement=null;
this._increaseButton.onclick=null;
this._increaseButton=null;
this._decreaseButton.onclick=null;
this._decreaseButton=null;
Telerik.Web.UI.EditorSpinBox.callBaseMethod(this,"dispose");
},initialize:function(){this._view=Telerik.Web.UI.Editor.UI.ToolsViewFactory.getView(this,"EditorSpinBox");
},_executeFunction:function(c,d,g){if(g){if(d.Executed){d.Executed=false;
return $telerik.cancelRawEvent(c);
}}d.Executed=true;
var h=(this._selectedItem!="")?this._selectedItem:this._initialValue;
this._selectedItem=d.value;
var f=new Telerik.Web.UI.EditorSpinBoxEventArgs(d.value,h);
this.raiseEvent("valueSelected",f);
},_onPlusMinusClickHandler:function(c){var f=this._view.getSpinBoxArrowFormEvent(c);
if(!f){return;
}var g=this.get_value();
g=g.replace(/^0+(\d)/ig,"$1");
if(""==g){g="0";
}var h=parseInt(g,10);
var d=h+"";
if(isNaN(h)){return;
}else{d=g.substring(d.length);
}if(f==this._increaseButton){if(this._enabledIncrease){h++;
}else{return;
}}else{if(f==this._decreaseButton){if(this._enabledDecrease){h--;
}else{return;
}}else{f=null;
}}if(f&&h>=0){this.set_value(h+d);
this._executeFunction(c,this._inputElement);
}return false;
},_onChangeHandler:function(c){if(!c){c=window.event;
}this._executeFunction(c,this._inputElement);
},_onKeyPressHandler:function(c){if(!c){c=window.event;
}if(c.keyCode==13){this._executeFunction(c,this._inputElement);
return $telerik.cancelRawEvent(c);
}},_onKeyDownHandler:function(c){if(!c){c=window.event;
}c.returnValue=this._isKeyValid(c);
},_onKeyUpHandler:function(c){if(!c){c=window.event;
}if(this._isKeyValid(c,true)){var g=this._selectedItem;
var f=this.get_value();
var d=new Telerik.Web.UI.EditorSpinBoxEventArgs(f,g);
this.raiseEvent("valueSelected",d);
}},_isKeyValid:function(d,h){try{if(!d){d=window.event;
}var g=d.keyCode;
var c=((48<=g&&g<=57)||(96<=g&&g<=105)||(13==g)||(8==g)||(46==g)||(9==g)||(!h&&35<=g&&g<=40));
return c;
}catch(f){return true;
}},get_selectedItem:function(){return this._selectedItem;
},get_value:function(){return this._inputElement.value;
},set_value:function(c){if(null==c){c="";
}this._inputElement.value=c;
if(this._initialValue==""){this._initialValue=c;
}},get_width:function(){return this._width;
},set_width:function(d){this._width=d;
var c=this.get_element();
c.style.width=this._width;
},get_enabledIncrease:function(){return this._enabledIncrease;
},set_enabledIncrease:function(c){this._enabledIncrease=c;
this._setButtonState(this._increaseButton,c);
},get_enabledDecrease:function(){return this._enabledDecrease;
},set_enabledDecrease:function(c){this._enabledDecrease=c;
this._setButtonState(this._decreaseButton,c);
},_setButtonState:function(c,d){if(!d){Sys.UI.DomElement.addCssClass(c,"disabled-button");
}else{Sys.UI.DomElement.removeCssClass(c,"disabled-button");
}},get_visibleInput:function(){return this._visibleInput;
},set_visibleInput:function(c){this._visibleInput=c;
if(this._inputElement){if(!this._visibleInput){this._inputElement.style.display="none";
}else{this._inputElement.style.display="";
}}}};
Telerik.Web.UI.EditorSpinBox.registerClass("Telerik.Web.UI.EditorSpinBox",Telerik.Web.UI.EditorButton);
Telerik.Web.UI.EditorCheckBox=function(c){Telerik.Web.UI.EditorCheckBox.initializeBase(this,[c]);
this._selectedItem=false;
};
Telerik.Web.UI.EditorCheckBox.prototype={dispose:function(){this._inputElement.onclick=null;
this._inputElement.Parent=null;
this._inputElement=null;
Telerik.Web.UI.EditorCheckBox.callBaseMethod(this,"dispose");
},get_selectedItem:function(){return this._selectedItem;
},set_value:function(c){if(this._inputElement.checked!=c){this._inputElement.checked=c;
}},initialize:function(){this._view=Telerik.Web.UI.Editor.UI.ToolsViewFactory.getView(this,"EditorCheckBox");
var c=document.createElement("input");
c.setAttribute("type","CHECKBOX");
c.Parent=this;
c.onclick=function(d){var f=this.Parent;
f._selectedItem=!f._selectedItem;
this.checked=f._selectedItem;
f._selectedItem=this.checked;
f.raiseEvent("valueSelected");
};
this._inputElement=c;
this.get_element().appendChild(c);
}};
Telerik.Web.UI.EditorCheckBox.registerClass("Telerik.Web.UI.EditorCheckBox",Telerik.Web.UI.EditorButton);
Telerik.Web.UI.EditorTextBox=function(c){Telerik.Web.UI.EditorTextBox.initializeBase(this,[c]);
this._width="100px";
this._selectedItem="";
};
Telerik.Web.UI.EditorTextBox.prototype={dispose:function(){this._inputElement.onchange=null;
this._inputElement.onkeypress=null;
this._inputElement.onclick=null;
this._inputElement.Parent=null;
this._inputElement=null;
Telerik.Web.UI.EditorTextBox.callBaseMethod(this,"dispose");
},get_width:function(){return this._width;
},set_width:function(c){this._width=c;
},initialize:function(){this._view=Telerik.Web.UI.Editor.UI.ToolsViewFactory.getView(this,"EditorTextBox");
var d=document.createElement("input");
d.setAttribute("type","text");
d.style.width=this.get_width();
d.Parent=this;
var c=function(f,g,h){if(h){if(g.Executed){g.Executed=false;
return $telerik.cancelRawEvent(f);
}}g.Executed=true;
g.Parent._selectedItem=g.value;
g.Parent.raiseEvent("valueSelected");
return $telerik.cancelRawEvent(f);
};
d.onchange=function(f){if(!f){f=window.event;
}return c(f,this,true);
};
d.onclick=function(f){this.focus();
};
d.onkeypress=function(f){if(!f){f=window.event;
}if(f.keyCode==13){return c(f,this);
}};
this._inputElement=d;
this.get_element().appendChild(d);
},get_selectedItem:function(){return this._selectedItem;
},get_value:function(){return this._inputElement.value;
},set_value:function(c){if(null==c){c="";
}this._inputElement.value=c;
}};
Telerik.Web.UI.EditorTextBox.registerClass("Telerik.Web.UI.EditorTextBox",Telerik.Web.UI.EditorButton);
b.ImageDialogCaller=function(c){b.ImageDialogCaller.initializeBase(this,[c]);
this._hidePropertiesTab=false;
};
b.ImageDialogCaller.prototype={dispose:function(){this._inputElement=null;
var c=this.get_pushButton();
if(c){c.onclick=null;
}this.set_pushButton(null);
this.set_editor(null);
b.ImageDialogCaller.callBaseMethod(this,"dispose");
},initialize:function(){this._view=Telerik.Web.UI.Editor.UI.ToolsViewFactory.getView(this,"ImageDialogCaller");
var c=this.get_element();
this._inputElement=c.getElementsByTagName("INPUT")[0];
var d=c.getElementsByTagName("A")[0];
this.set_pushButton(d);
if(d){d.onclick=Function.createDelegate(this,this._onButtonClickHandler);
}},_onButtonClickHandler:function(c){this.callImageDialog();
},_dialogCallbackFunction:function(f,c){var e=c&&c.get_value?c.get_value():null;
var d=e[e.length-1];
var g="";
if(d&&d.getAttribute){g=d.getAttribute("src",2);
}if(g){this._inputElement.value=g;
this.raiseEvent("valueSelected");
}},callImageDialog:function(){var d=Function.createDelegate(this,this._dialogCallbackFunction);
var g=this.get_editor();
var e=null;
if(g){e=g.get_dialogOpener();
}else{if(b.Dialogs&&b.Dialogs.CommonDialogScript&&b.Dialogs.CommonDialogScript.get_windowReference()){e=b.Dialogs.CommonDialogScript.get_windowReference().get_dialogOpener();
}}var j=null;
var i;
if(e){i=e.get_additionalQueryString();
var k=this._inputElement.value;
if(k){var h=k;
e.set_additionalQueryString(i+"&rndnum="+(new Date()-100)+"&PreselectedItemUrl="+encodeURIComponent(h));
var f=g?g.get_document():document;
j=f.createElement("img");
j.setAttribute("src",h);
}}var c=new b.EditorCommandEventArgs("ImageManager",null,j);
b.Editor.CommandList._getDialogArguments(c,"IMG",g,"ImageManager");
if(this._hidePropertiesTab){c._hidePropertiesTab=true;
}if(g){g.showDialog("ImageManager",c,d);
}else{if(e){e.open("ImageManager",c,d);
}}if(e){e.set_additionalQueryString(i);
}},get_value:function(){return this._inputElement.value;
},set_value:function(c){if(null==c){c="";
}this._inputElement.value=c;
}};
a.registerControlProperties(b.ImageDialogCaller,{pushButton:null,editor:null,width:""});
b.ImageDialogCaller.registerClass("Telerik.Web.UI.ImageDialogCaller",b.EditorButton);
})();
Type.registerNamespace("Telerik.Web.UI");
(function(){var a=$telerik.$;
var b=Telerik.Web.UI;
b.EditorDropDown=function(c){b.EditorDropDown.initializeBase(this,[c]);
this.isIE=$telerik.isIE;
this._popupVisible=false;
this._rendered=false;
this._childrenRendered=false;
this._popupElement=null;
this._itemRootElement=null;
this._onPopupClickDelegate=null;
this._onPopupMouseDownDelegate=null;
this._onPopupMouseOverDelegate=null;
this._items=[];
this._isArrayCollection=false;
this._selectedIndex=-1;
this._activeIndex=-1;
};
b.EditorDropDown.prototype={initialize:function(){b.EditorDropDown.callBaseMethod(this,"initialize");
this._view=Telerik.Web.UI.Editor.UI.ToolsViewFactory.getView(this,"EditorDropDown");
},click:function(c){this.show();
return $telerik.cancelRawEvent(c);
},dispose:function(){b.EditorDropDown.callBaseMethod(this,"dispose");
this.disposeChildren();
this.detachEventHandlers();
},isExpanded:function(){return this._popupVisible;
},show:function(){if(this._popupVisible){return;
}if(this.get_clearSelectedOnShow()){this.set_selectedIndex(-1);
}var c=false;
if(!this._rendered){this.render();
c=true;
}this.raiseEvent("show");
if(this._childrenRendered&&!this._allChildrenRendered()){this.disposeChildren();
}if(!this._childrenRendered){this.renderChildren();
this._childrenRendered=true;
c=true;
}if(c){this._makeAllItemsUnselectable();
}this._show();
if(this.get_enableAriaSupport()){this._popupElement.removeAttribute("aria-hidden");
}},configurePopupPropertiesBeforeShow:function(){this._popupBehavior.set_positioningMode(Telerik.Web.PositioningMode.BottomLeft);
},hide:function(){if(this._popupBehavior){this._popupBehavior.hide(true);
}this._popupVisible=false;
this._getPopupVisibilityController().notifyPopupClosed(this);
this.raiseEvent("hide");
if(this.get_enableAriaSupport()){this._popupElement.setAttribute("aria-hidden","true");
}},onPopupMouseOver:function(d){var c=this.resolveActiveIndex(d);
if(c>-1){this.set_activeIndex(c,d);
}$telerik.cancelRawEvent(d);
},_onPopupClick:function(c){var d=this.resolveActiveIndex(c);
$telerik.cancelRawEvent(c);
if(d>-1){this._selectedIndex=d;
if(this.get_enableAriaSupport()){this.selectUIItem(null,null,true);
}this.hide();
this.raiseEvent("valueSelected");
}},get_activeIndex:function(){return this._activeIndex;
},set_activeIndex:function(d,c){this._activeIndex=d;
this.selectUIItem(c);
},selectPreviousItem:function(){var c=this.get_activeIndex();
if(c-1>=0){this.set_activeIndex(c-1);
}},selectNextItem:function(){var c=this.get_activeIndex();
if(c+1<this._items.length){this.set_activeIndex(c+1);
}},selectUIItem:function(d,l,g){if(!this._popupElement||!this._view){return;
}var k=this.get_popupElement();
var c=this._view.getItemElements(k);
var h=c.length;
var n=this.get_activeIndex();
var m=null;
var o=this.get_enableAriaSupport()&&g;
for(var f=0;
f<h;
f++){var j=c[f];
if(!this._headerClassName||j.className!=this._headerClassName){if(o){j.removeAttribute("aria-selected");
}if(j.item_index==n){a(j).addClass("reItemOver");
m=j;
if(o){m.setAttribute("aria-selected","true");
k.setAttribute("aria-activedescendant",m.getAttribute("id"));
k.childNodes[0].setAttribute("aria-activedescendant",m.getAttribute("id"));
}}else{if(l&&j.item_index<=n){a(j).addClass("reItemOver");
}else{a(j).removeClass("reItemOver");
}}}}if(m&&!d){this._scrollIntoView(m);
}return m;
},_scrollIntoView:function(c){$telerik.scrollIntoView(c);
},attachEventHandlers:function(){if(!this._popupElement){return;
}this.detachEventHandlers();
this._onPopupMouseOverDelegate=Function.createDelegate(this,this.onPopupMouseOver);
$addHandler(this._popupElement,"mouseover",this._onPopupMouseOverDelegate);
this._onPopupClickDelegate=Function.createDelegate(this,this._onPopupClick);
$telerik.addHandler(this._popupElement,this._getPopupClickEventName(),this._onPopupClickDelegate);
},detachEventHandlers:function(){if(null!=this._onPopupMouseOverDelegate){$removeHandler(this._popupElement,"mouseover",this._onPopupMouseOverDelegate);
this._onPopupMouseOverDelegate=null;
}if(null!=this._onPopupClickDelegate){$telerik.removeHandler(this._popupElement,this._getPopupClickEventName(),this._onPopupClickDelegate);
this._onPopupClickDelegate=null;
}},_getPopupClickEventName:function(){return this._shouldPreferMousedown()?"mousedown":"click";
},_shouldPreferMousedown:function(){return $telerik.isIE||this.get_contentAreaMode()==b.EditorContentAreaMode.Div;
},disposeChildren:function(){this._childrenRendered=false;
if(this._itemRootElement&&this._itemRootElement.parentNode){var c=this._itemRootElement;
this.renderItemRoot();
c.parentNode.replaceChild(this._itemRootElement,c);
}},render:function(){this._createUI();
this.renderHeader();
this.renderChildren();
this.renderFooter();
this._rendered=true;
this._childrenRendered=true;
},renderHeader:function(){if(this._view){this._view.renderHeader();
}},renderFooter:function(){if(this._view){this._view.renderFooter();
}},renderItemRoot:function(){this._itemRootElement=this._view?this._view.renderItemRoot():null;
return this._itemRootElement;
},renderNewRow:function(){return this._view?this._view.renderNewRow(this._itemRootElement):null;
},renderItemContainer:function(){return this._view?this._view.renderItemContainer(this._itemRootElement):null;
},renderChildren:function(){for(var c=0;
c<this._items.length;
c++){var e=false;
if(this._rendermode=="Lightweight"||(this._attributes&&this._attributes.rendermode=="Lightweight")){e=this.get_itemsperrow()==1||(c>1&&0==(c%this.get_itemsperrow()));
}else{e=0==(c%this.get_itemsperrow());
}if(e){this.renderNewRow();
}var d=this.renderItemContainer();
this.markItemContainer(d,c);
this.renderChild(d,this._items[c],c);
}if(this._rendermode=="Lightweight"||(this._attributes&&this._attributes.rendermode=="Lightweight")){this.renderNewRow();
}},renderChild:function(c,d,f){if(this._view){this._view.renderChild(c,d,f);
}if(this.get_enableAriaSupport()){var e=this._popupBehavior.get_id()+"_"+f;
c.setAttribute("id",e);
c.setAttribute("role","option");
}},resolveActiveIndex:function(c){var d=c.target;
var f=-1;
while(d&&d!=this._itemRootElement){if(null!=d.item_index){f=d.item_index;
break;
}d=d.parentNode;
}return f;
},markItemContainer:function(d,c){d.item_index=c;
},_makeAllItemsUnselectable:function(){if(!this._popupElement){return;
}this._popupElement.setAttribute("unselectable","on");
var c=this._popupElement.getElementsByTagName("*");
var e=c.length;
for(var d=0;
d<e;
d++){c[d].unselectable="on";
}},_show:function(){this.configurePopupPropertiesBeforeShow();
var g=this._popupElement;
var h=this.get_sizetofit();
var f=g.style.overflow;
if(h){g.style.overflowY="hidden";
}g.style.width=this.get_popupwidth();
g.style.height=this.get_popupheight();
this._itemRootElement.style.width="100%";
this._popupBehavior.show();
var e=this._getPopupChildrenHeight();
if(e!="0px"){e=this._getQuirksModeHeight(g,e);
}if(h){g.style.width=this._getPopupChildrenWidth();
g.style.height=e;
}else{var c=parseInt(e,10);
var d=parseInt(g.style.height,10);
if(c<d&&c>(d/2)){g.style.height=e;
}}this._popupBehavior.show();
this._getPopupVisibilityController().set_activePopup(this);
g.style.zIndex="100000";
if(h){g.style.overflowY=f;
}this._popupVisible=true;
},_getQuirksModeHeight:function(i,f){try{if($telerik.quirksMode){var c=$telerik.getBorderBox(i);
var g=$telerik.getPaddingBox(i);
var e=parseInt(f,10)+(c.top*2);
e+=g.top+g.bottom;
f=e+"px";
}}catch(d){}return f;
},_getPopupChildrenWidth:function(){var c=this.get_popupElement().childNodes;
var f=0;
for(var d=0;
d<c.length;
d++){var e=c[d].offsetWidth;
if(e&&e>f){f=e;
}}return f+"px";
},_getPopupChildrenHeight:function(){var c=this.get_popupElement().childNodes;
var d=0;
for(var e=0;
e<c.length;
e++){if(c[e].offsetHeight){d+=c[e].offsetHeight;
}}return d+"px";
},_getPopupVisibilityController:function(){return b.Editor.PopupController;
},getUniqueID:function(){if(!window.RadEditor_uniqueSeed){window.RadEditor_uniqueSeed=new Date()-101;
}if(!window.RadEditor_uniqueIdCounter){window.RadEditor_uniqueIdCounter=1;
}else{window.RadEditor_uniqueIdCounter++;
}var c=window.RadEditor_uniqueSeed-window.RadEditor_uniqueIdCounter;
return"UniqueID"+c;
},_createUI:function(){if(this._popupBehavior){return;
}var c=this.get_element();
if(!this._popupElement){var e=document.createElement("div");
var f="";
if(this._rendermode=="Lightweight"||(this._attributes&&this._attributes.rendermode=="Lightweight")){f="RadEditor_"+this.get_skin();
}else{f=this.get_skin();
}$telerik.addCssClasses(e,[f,this.get_rootpopupclassname(),this.get_popupclassname()]);
this._popupElement=e;
this._popupElement.style.display="none";
this._popupElement.style.position="absolute";
document.body.appendChild(this._popupElement);
}this.renderItemRoot();
this._popupElement.appendChild(this._itemRootElement);
this._popupBehavior=$create(Telerik.Web.PopupBehavior,{id:this.getUniqueID(),parentElement:c},null,null,this._popupElement);
if(this.get_enableAriaSupport()){var d=this.get_popupElement();
d.setAttribute("role","listbox");
d.setAttribute("aria-hidden","true");
d.setAttribute("aria-label",this.get_element().title);
}this.attachEventHandlers();
},_allChildrenRendered:function(){return true;
},get_popupElement:function(){return this._popupElement;
},get_selectedItem:function(){if(this._items&&this._selectedIndex>-1){var c=this._items[this._selectedIndex];
var d=((true==this._isArrayCollection)||(c instanceof Array))?c[0]:c;
return d;
}return null;
},get_selectedIndex:function(){return this._selectedIndex;
},set_selectedIndex:function(c){this._selectedIndex=c;
this.set_activeIndex(c);
},get_items:function(){return this._items;
},set_items:function(c){this.disposeChildren();
this._items=c;
},set_enableAriaSupport:function(d){b.EditorDropDown.callBaseMethod(this,"set_enableAriaSupport",[d]);
var c=this.getAnchorElement();
if(c&&this.get_enableAriaSupport()){c.setAttribute("aria-haspopup","true");
}}};
a.registerControlProperties(b.EditorDropDown,{popupheight:"200px",popupwidth:"200px",rootpopupclassname:"reDropDownBody",popupclassname:"",sizetofit:false,itemsperrow:1,clearSelectedOnShow:true});
a.registerControlEvents(b.EditorDropDown,["show","hide"]);
b.EditorDropDown.registerClass("Telerik.Web.UI.EditorDropDown",b.EditorButton);
Telerik.Web.UI.EditorUpdateableDropDown=function(c){Telerik.Web.UI.EditorUpdateableDropDown.initializeBase(this,[c]);
};
Telerik.Web.UI.EditorUpdateableDropDown.prototype={initialize:function(){b.EditorUpdateableDropDown.callBaseMethod(this,"initialize");
this._view=Telerik.Web.UI.Editor.UI.ToolsViewFactory.getView(this,"EditorUpdateableDropDown");
},updateValue:function(d){if(null==d){return;
}try{if(!d){d=this.get_text();
}if(this._view){this._view.set_text((""+d));
}this._value=d;
}catch(c){}},get_value:function(){if(!this._value||this._value==this.get_text()){return"";
}return this._value;
},set_value:function(c){this.updateValue(c);
},dispose:function(){Telerik.Web.UI.EditorUpdateableDropDown.callBaseMethod(this,"dispose");
}};
Telerik.Web.UI.EditorUpdateableDropDown.registerClass("Telerik.Web.UI.EditorUpdateableDropDown",Telerik.Web.UI.EditorDropDown);
Telerik.Web.UI.EditorSelfUpdateableDropDown=function(c){Telerik.Web.UI.EditorSelfUpdateableDropDown.initializeBase(this,[c]);
this._clientStateFieldID=null;
};
Telerik.Web.UI.EditorSelfUpdateableDropDown.prototype={initialize:function(){b.EditorSelfUpdateableDropDown.callBaseMethod(this,"initialize");
this._view=Telerik.Web.UI.Editor.UI.ToolsViewFactory.getView(this,"EditorSelfUpdateableDropDown");
},_onPopupClick:function(c){var f=this.resolveActiveIndex(c);
$telerik.cancelRawEvent(c);
if(f>-1){this._selectedIndex=f;
this.hide();
var d=this.get_selectedItem();
if(d){this.updateValue(d);
}this.raiseEvent("valueSelected");
}}};
Telerik.Web.UI.EditorSelfUpdateableDropDown.registerClass("Telerik.Web.UI.EditorSelfUpdateableDropDown",Telerik.Web.UI.EditorUpdateableDropDown);
Telerik.Web.UI.EditorSplitButton=function(c){Telerik.Web.UI.EditorSplitButton.initializeBase(this,[c]);
this._updateHeader=true;
};
Telerik.Web.UI.EditorSplitButton.prototype={click:function(c){var d=this.isArrowClicked(c.target);
if(d||!this._updateHeader){this.show();
}else{var f=this.get_selectedItem();
if(null==f){this.show();
}else{this.raiseEvent("valueSelected");
}}return $telerik.cancelRawEvent(c);
},initialize:function(){Telerik.Web.UI.EditorSplitButton.callBaseMethod(this,"initialize");
this._view=Telerik.Web.UI.Editor.UI.ToolsViewFactory.getView(this,"EditorSplitButton");
this.set_clearSelectedOnShow(false);
},isArrowClicked:function(d){var c=this._getArrowElement();
if(d==c){return true;
}return false;
},_getArrowElement:function(){if(this._view){return this._view.getSplitArrow();
}return null;
},get_updateHeader:function(){return this._updateHeader;
},set_updateHeader:function(c){this._updateHeader=c;
}};
Telerik.Web.UI.EditorSplitButton.registerClass("Telerik.Web.UI.EditorSplitButton",Telerik.Web.UI.EditorUpdateableDropDown);
Telerik.Web.UI.EditorToolStrip=function(c){Telerik.Web.UI.EditorToolStrip.initializeBase(this,[c]);
this._tools=[];
};
Telerik.Web.UI.EditorToolStrip.prototype={initialize:function(){b.EditorToolStrip.callBaseMethod(this,"initialize");
this._view=Telerik.Web.UI.Editor.UI.ToolsViewFactory.getView(this,"EditorToolStrip");
},selectUIItem:function(d){for(var f=0;
f<this._items.length;
f++){var g=this._items[f];
if(f==this._activeIndex&&g.get_enabled()){g.setOn(true,"aria-selected");
var c=g.getAnchorElement();
if(c&&this.get_enableAriaSupport()){this.get_popupElement().setAttribute("aria-activedescendant",c.getAttribute("id"));
}}else{g.setOn(false,"aria-selected");
}}},set_selectedIndex:function(c){var e=this._view,d=this.get_updateHeader();
if(d&&e._clearHeader){e._clearHeader();
}Telerik.Web.UI.EditorToolStrip.callBaseMethod(this,"set_selectedIndex",[c]);
if(d){e._updateHeader();
}},hide:function(){Telerik.Web.UI.EditorToolStrip.callBaseMethod(this,"hide");
if(this.isIE){var e=this.get_selectedItem();
if(!e||!e.get_element){return;
}var c=e.get_element();
if(c){var d=c.cloneNode(true);
c.replaceNode(d);
e._element=d;
}}},show:function(){var d=this._items;
for(var c=0,e=d.length;
c<e;
c++){var f=d[c];
f.setOn(false,"aria-selected");
}Telerik.Web.UI.EditorToolStrip.callBaseMethod(this,"show");
},_onPopupClick:function(c){var f=this._resolveSelectedTool(c);
$telerik.cancelRawEvent(c);
if(f){var d=Array.indexOf(this._items,f);
if($telerik.isSafari){this._selectedIndex=d;
this.set_activeIndex(d);
}else{this.set_selectedIndex(d);
}this.hide();
this.raiseEvent("valueSelected");
}},renderChildren:function(){if(this._view){this._view.renderChildren();
}},_resolveSelectedTool:function(c){for(var d=0;
d<this._items.length;
d++){var f=this._items[d];
if(f.isTarget(c)){if(f.get_enabled()){return f;
}else{return null;
}}}},get_tools:function(){return this._tools;
},set_tools:function(c){this._tools=Array.clone(c);
}};
Telerik.Web.UI.EditorToolStrip.registerClass("Telerik.Web.UI.EditorToolStrip",Telerik.Web.UI.EditorSplitButton);
Telerik.Web.UI.EditorContextMenu=function(c){Telerik.Web.UI.EditorContextMenu.initializeBase(this,[c]);
this._parentElement=null;
this._eventObject=null;
};
Telerik.Web.UI.EditorContextMenu.prototype={initialize:function(){this.set_updateHeader(false);
this.set_clearSelectedOnShow(true);
this._view=Telerik.Web.UI.Editor.UI.ToolsViewFactory.getView(this,"EditorContextMenu");
},show:function(){this.set_activeIndex(-1);
Telerik.Web.UI.EditorContextMenu.callBaseMethod(this,"show");
},configurePopupPropertiesBeforeShow:function(){var f=this._popupBehavior;
f.set_positioningMode(Telerik.Web.PositioningMode.Absolute);
var d=this.get_parentElement();
if(d){if(Telerik.Web.UI.Editor.Utils.isEditorContentArea(d)&&d.tagName=="DIV"){d=document.body;
}f.set_parentElement(d);
}var c=this._eventObject;
if(c){f.set_x(c.clientX+10);
f.set_y(c.clientY+10);
}},set_eventObject:function(c){this._eventObject=c;
},get_tagName:function(){return this._tagName;
},set_tagName:function(c){this._tagName=c;
},get_parentElement:function(){return this._parentElement;
},set_parentElement:function(c){this._parentElement=c;
}};
Telerik.Web.UI.EditorContextMenu.registerClass("Telerik.Web.UI.EditorContextMenu",Telerik.Web.UI.EditorToolStrip);
})();
Type.registerNamespace("Telerik.Web.UI.Editor");
(function(){var a=$telerik.$,b=Telerik.Web.UI;
Telerik.Web.UI.Editor.AlignmentSelector=function(c){Telerik.Web.UI.Editor.AlignmentSelector.initializeBase(this,[c]);
this._tagName="TD";
this._selectedTuple=null;
this._noAlignmentIndex=0;
this._onValueSelectedDelegate=null;
this._clientStateFieldID=null;
};
Telerik.Web.UI.Editor.AlignmentSelector.prototype={initialize:function(){Telerik.Web.UI.Editor.AlignmentSelector.callBaseMethod(this,"initialize");
this._view=Telerik.Web.UI.Editor.UI.ToolsViewFactory.getView(this,"AlignmentSelector");
this.set_popupwidth("78px");
this.set_popupheight("100px");
this.set_popupclassname("reAlignmentSelector");
this.set_itemsperrow(3);
this._onValueSelectedDelegate=Function.createDelegate(this,this._onDropDownValueSelected);
this.add_valueSelected(this._onValueSelectedDelegate);
this.setTagName(this._tagName);
},dispose:function(){this.remove_valueSelected(this._onValueSelectedDelegate);
Telerik.Web.UI.Editor.AlignmentSelector.callBaseMethod(this,"dispose");
},_imgAlignment:[["",""],["none",""],["",""],["",""],["top",""],["",""],["left",""],["absmiddle",""],["right",""],["",""],["bottom",""],["",""]],_cellAlignment:[["",""],["none",""],["",""],["left","top"],["center","top"],["right","top"],["left","middle"],["center","middle"],["right","middle"],["left","bottom"],["center","bottom"],["right","bottom"]],_tableAlignment:[["",""],["none",""],["",""],["left",""],["center",""],["right",""],["",""],["",""],["",""],["",""],["",""],["",""]],_captionAlignment:[["",""],["none",""],["",""],["left","top"],["center","top"],["right","top"],["",""],["",""],["",""],["left","bottom"],["center","bottom"],["right","bottom"]],_alignmentClassName:["reNoAlignment","reNoAlignment","reNoAlignment","reTopLeft","reTopCenter","reTopRight","reMiddleLeft","reMiddleCenter","reMiddleRight","reBottomLeft","reBottomCenter","reBottomRight"],_getLookupTableByTagName:function(c){switch(c.toUpperCase()){case"IMG":return this._imgAlignment;
case"TABLE":return this._tableAlignment;
case"TD":return this._cellAlignment;
case"TH":return this._cellAlignment;
case"CAPTION":return this._captionAlignment;
default:return null;
}},_configureAlignmentTable:function(l){if(!this._rendered){this.render();
}var k=this._itemRootElement;
var d=0;
for(var e=0;
e<k.rows.length;
e++){var g=false;
for(var h=0;
h<k.rows[e].cells.length;
h++){var c=k.rows[e].cells[h];
var f=this._isAvailable(d++);
c.style.visibility=f?"visible":"hidden";
g|=f;
}if(null!=document.all){k.rows[e].style.display=g?"":"none";
}}},_isAvailable:function(d){var e=false;
if(this._items){var c=this._items[d];
e=((null!=c)&&(""!=c[0]||""!=c[1]));
}return e;
},_onDropDownValueSelected:function(){this.set_selectedIndex(this.get_selectedIndex());
},_selectAlignment:function(c,h){c=(""==c||!c)?"none":c.toUpperCase();
h=!h?"":h.toUpperCase();
if(this._items){var f=-1;
for(var e=0;
e<this._items.length;
e++){if(this._isAvailable(e)){var d=this._items[e][0].toUpperCase();
var g=this._items[e][1].toUpperCase();
if(-1==f){f=e;
}if((c==d||c==g)&&(h==d||h==g)){this.set_selectedIndex(e);
return;
}}}this.set_selectedIndex(f);
}},set_selectedIndex:function(c){Telerik.Web.UI.Editor.AlignmentSelector.callBaseMethod(this,"set_selectedIndex",[c]);
if(this._view){this._view.decorate(this._alignmentClassName[c]);
}},setTagName:function(c){this._tagName=c;
this._items=this._getLookupTableByTagName(this._tagName);
this.set_selectedIndex(this._noAlignmentIndex);
},updateValue:function(c,d){this._selectAlignment(c,d);
},getAlign:function(){var c=this._items[this._selectedIndex];
var d=(c?c[0]:"");
if("none"==d){d="";
}return d;
},getVAlign:function(){var c=this._items[this._selectedIndex];
var d=(c?c[1]:"");
if("none"==d){d="";
}return d;
},show:function(){Telerik.Web.UI.Editor.AlignmentSelector.callBaseMethod(this,"show");
this._itemRootElement.cellSpacing=0;
this._configureAlignmentTable(this._tagName);
},get_clientStateFieldID:function(){return this._clientStateFieldID;
},set_clientStateFieldID:function(c){this._clientStateFieldID=c;
}};
Telerik.Web.UI.Editor.AlignmentSelector.registerClass("Telerik.Web.UI.Editor.AlignmentSelector",Telerik.Web.UI.EditorSplitButton);
Telerik.Web.UI.Editor.InsertTableHelper=function(c){Telerik.Web.UI.Editor.InsertTableHelper.initializeBase(this,[c]);
};
Telerik.Web.UI.Editor.InsertTableHelper.prototype={initialize:function(){Telerik.Web.UI.Editor.InsertTableHelper.callBaseMethod(this,"initialize");
var c=new Array(this.get_itemsperrow()*this.get_itemsperrow());
for(var d=0;
d<c.length;
d++){c[d]=d;
}this._items=c;
},hide:function(){},renderChild:function(c,d,f){var g=document.createElement("div");
g.innerHTML="&nbsp;";
c.appendChild(g);
var e=this._getDimensionByIndex(f);
c.setAttribute("title"," "+e.rows+" x "+e.cols+" ");
},_getDimensionByIndex:function(g){var h=0;
var f=0;
var d=this.get_itemsperrow();
for(var c=0;
c<this._items.length;
c++){if(c%d==0){h++;
f=0;
}f++;
if(g==c){break;
}}var e={rows:h,cols:f};
return e;
},get_selectedItem:function(){var c=this.get_selectedIndex();
return this._getDimensionByIndex(c);
},selectUIItem:function(h,m){var c=this._popupElement.getElementsByTagName("TD");
var k=c.length;
var n=this.get_activeIndex();
var g=this._getDimensionByIndex(n);
var d=g.cols;
for(var j=0;
j<k;
j++){var l=c[j];
var f=l.item_index;
if(f<=n&&l.cellIndex<d){l.className="reItemOver";
}else{l.className="";
}}}};
Telerik.Web.UI.Editor.InsertTableHelper.registerClass("Telerik.Web.UI.Editor.InsertTableHelper",Telerik.Web.UI.EditorDropDown);
Telerik.Web.UI.Editor.InsertTable=function(c){Telerik.Web.UI.Editor.InsertTable.initializeBase(this,[c]);
};
Telerik.Web.UI.Editor.InsertTable.prototype={initialize:function(){Telerik.Web.UI.Editor.InsertTable.callBaseMethod(this,"initialize");
this._onTableHelperValueSelectedDelegate=Function.createDelegate(this,this._onTableHelperValueSelected);
this._tableHelper=null;
this._tableHelperItemsPerRow=this.get_itemsperrow();
this.set_itemsperrow(6);
this.set_popupwidth("144px");
this.set_updateHeader(false);
var d=this.get_tools();
this._longTool=d[0];
Array.removeAt(d,0);
for(var c=0;
c<d.length;
c++){d[c].showText=false;
}},show:function(){Telerik.Web.UI.Editor.InsertTable.callBaseMethod(this,"show");
this._tableHelper.set_selectedIndex(-1);
},_onPopupClick:function(c){this._tableHelperClicked=false;
Telerik.Web.UI.Editor.InsertTable.callBaseMethod(this,"_onPopupClick",[c]);
},_onTableHelperValueSelected:function(){this._tableHelperClicked=true;
this.set_selectedIndex(-1);
var c=this.getSpanElement();
if(c){c.className="InsertTable";
}this.hide();
this.raiseEvent("valueSelected");
},get_selectedItem:function(){if(this._tableHelperClicked){return this._tableHelper.get_selectedItem();
}else{return Telerik.Web.UI.Editor.InsertTable.callBaseMethod(this,"get_selectedItem");
}},renderHeader:function(){var c={skin:this.get_skin(),itemsperrow:this._tableHelperItemsPerRow,sizetofit:true};
var d={valueSelected:this._onTableHelperValueSelectedDelegate};
var g=$create(Telerik.Web.UI.Editor.InsertTableHelper,c,d,null,document.createElement("div"));
g.set_rootpopupclassname("");
this._tableHelper=g;
g.render();
var f=g.get_popupElement();
f.style.display="";
f.style.visibility="visible";
f.style.position="";
f.style.cssFloat="left";
var e=this.get_popupElement();
e.insertBefore(f,e.firstChild);
},renderChildren:function(){Telerik.Web.UI.Editor.InsertTable.callBaseMethod(this,"renderChildren");
var d=this._itemRootElement;
if(this._longTool){var f=document.createElement("ul");
d.insertBefore(f,d.firstChild);
this._longTool.showText=true;
var c=document.createElement("li");
f.appendChild(c);
var e=Telerik.Web.UI.Editor.UI.StaticToolsUI.createTool(this._rendermode,this._longTool,null,null,null,c);
e.get_element().style.width="auto";
this._items[this._items.length]=e;
}}};
Telerik.Web.UI.Editor.InsertTable.registerClass("Telerik.Web.UI.Editor.InsertTable",Telerik.Web.UI.EditorToolStrip);
Telerik.Web.UI.Editor.FormatPainterStrip=function(c){Telerik.Web.UI.Editor.FormatPainterStrip.initializeBase(this,[c]);
};
Telerik.Web.UI.Editor.FormatPainterStrip.prototype={initialize:function(){Telerik.Web.UI.Editor.FormatPainterStrip.callBaseMethod(this,"initialize");
this.renderItemRoot();
this.renderChildren();
this.set_selectedIndex(0);
}};
Telerik.Web.UI.Editor.FormatPainterStrip.registerClass("Telerik.Web.UI.Editor.FormatPainterStrip",Telerik.Web.UI.EditorToolStrip);
Telerik.Web.UI.Editor.ColorPicker=function(c){Telerik.Web.UI.Editor.ColorPicker.initializeBase(this,[c]);
this._clientStateFieldID=null;
this._addCustomColorText="Add Custom Color";
this._renderedChildrenCount=0;
};
Telerik.Web.UI.Editor.ColorPicker.prototype={initialize:function(){Telerik.Web.UI.Editor.ColorPicker.callBaseMethod(this,"initialize");
this._view=Telerik.Web.UI.Editor.UI.ToolsViewFactory.getView(this,"ColorPicker");
this.set_popupclassname("reColorPicker");
this.set_sizetofit(true);
this.set_itemsperrow(10);
this._onValueSelectedDelegate=Function.createDelegate(this,this._onDropDownValueSelected);
this.add_valueSelected(this._onValueSelectedDelegate);
},dispose:function(){this.remove_valueSelected(this._onValueSelectedDelegate);
Telerik.Web.UI.Editor.ColorPicker.callBaseMethod(this,"dispose");
},disposeChildren:function(){var c=this;
c._renderedChildrenCount=0;
Telerik.Web.UI.Editor.ColorPicker.callBaseMethod(c,"disposeChildren");
},_onDropDownValueSelected:function(){var c=this.get_selectedItem();
this.set_color(c);
},get_value:function(){return this.get_color();
},set_value:function(c){this.set_color(c);
},set_color:function(c){if(!c){c="";
}if(this._view){this._view.decorate(c);
}this._color=c;
},get_color:function(){return this._color;
},onPopupMouseOver:function(c){Telerik.Web.UI.Editor.ColorPicker.callBaseMethod(this,"onPopupMouseOver",[c]);
var d=this.get_activeIndex();
var f=this._items[d];
if(null==f){return;
}if(this._infoSpan1){this._infoSpan1.innerHTML=f;
this._infoSpan1.style.backgroundColor=f;
}if(this._infoSpan2){this._infoSpan2.innerHTML=f;
this._infoSpan2.style.color=f;
}},_customColorClicked:function(d){var c=window.prompt(this.get_addCustomColorText(),"#");
if(c){var j=document.createElement("a");
try{j.style.borderBottom="3px solid "+c;
}catch(f){c="";
}finally{j=null;
}}if(c){this._items[this._items.length]=c;
var g=(this._items.length-1);
if(0==(g%this.get_itemsperrow())){this.renderNewRow();
}var h=this.renderItemContainer();
this.markItemContainer(h,g);
this.renderChild(h,this._items[g],g);
this.set_selectedIndex(g);
this.hide();
this.raiseEvent("valueSelected");
}$telerik.cancelRawEvent(d);
},_allChildrenRendered:function(){var c=this;
return c._renderedChildrenCount==c._items.length;
},renderFooter:function(){var c=document.createElement("div");
c.style.textAlign="center";
var d=document.createElement("a");
d.className="reCustomColor";
d.setAttribute("href","#");
d.innerHTML=this.get_addCustomColorText();
$addHandlers(d,{click:this._customColorClicked},this);
c.appendChild(d);
this.get_popupElement().appendChild(c);
var e=document.createElement("div");
e.className="reColorPickerFooter";
var f=document.createElement("span");
f.className="reDarkColor";
var g=document.createElement("span");
g.className="reLightColor";
f.innerHTML=g.innerHTML="&nbsp";
e.appendChild(f);
e.appendChild(g);
this.get_popupElement().appendChild(e);
this._infoSpan1=f;
this._infoSpan2=g;
},renderChild:function(c,d,e){var f=document.createElement("div");
if(null!=d){f.style.backgroundColor=d;
f.setAttribute("title",d);
f.innerHTML="&nbsp;";
}c.appendChild(f);
this._renderedChildrenCount++;
},get_clientStateFieldID:function(){return this._clientStateFieldID;
},set_clientStateFieldID:function(c){this._clientStateFieldID=c;
},get_addCustomColorText:function(){return this._addCustomColorText;
},set_addCustomColorText:function(c){this._addCustomColorText=c;
}};
Telerik.Web.UI.Editor.ColorPicker.registerClass("Telerik.Web.UI.Editor.ColorPicker",Telerik.Web.UI.EditorSplitButton);
Telerik.Web.UI.Editor.UndoRedoDropDown=function(c){Telerik.Web.UI.Editor.UndoRedoDropDown.initializeBase(this,[c]);
};
Telerik.Web.UI.Editor.UndoRedoDropDown.prototype={renderFooter:function(){},get_selectedItem:function(){var c=Telerik.Web.UI.Editor.UndoRedoDropDown.callBaseMethod(this,"get_selectedItem");
if(!c){c=1;
}return c;
},selectUIItem:function(c,d){return Telerik.Web.UI.Editor.UndoRedoDropDown.callBaseMethod(this,"selectUIItem",[c,true]);
}};
Telerik.Web.UI.Editor.UndoRedoDropDown.registerClass("Telerik.Web.UI.Editor.UndoRedoDropDown",Telerik.Web.UI.EditorSplitButton);
Telerik.Web.UI.Editor.ApplyClassDropDown=function(c){Telerik.Web.UI.Editor.ApplyClassDropDown.initializeBase(this,[c]);
this._onValueSelectedDelegate=null;
this._clientStateFieldID=null;
this._clearclasstext="Clear Class";
this._isArrayCollection=true;
};
Telerik.Web.UI.Editor.ApplyClassDropDown.prototype={initialize:function(){Telerik.Web.UI.Editor.ApplyClassDropDown.callBaseMethod(this,"initialize");
this._view=Telerik.Web.UI.Editor.UI.ToolsViewFactory.getView(this,"ApplyClassDropDown");
this.set_popupclassname("reApplyClass");
this._onValueSelectedDelegate=Function.createDelegate(this,this._onDropDownValueSelected);
this.add_valueSelected(this._onValueSelectedDelegate);
this._cssClassRegex=/[^\{]*\{([^\}]+)\}/gi;
},dispose:function(){this.remove_valueSelected(this._onValueSelectedDelegate);
Telerik.Web.UI.Editor.ApplyClassDropDown.callBaseMethod(this,"dispose");
},_onDropDownValueSelected:function(){this.updateValue(this.get_selectedItem());
},_getClassIcon:function(d){if(!d){d="";
}else{d=d.toLowerCase();
}var c=document.createElement("span");
c.innerHTML="&nbsp;"+d;
c.className="reClass_"+d;
return c;
},_getClassTag:function(e){var f=e&&e.selectorText?e.selectorText:"";
var d=f.lastIndexOf(".");
if(d==0){return"All";
}var c=f.lastIndexOf(" ",d);
return f.substring((c+1),d);
},_getClassCss:function(d){var e=this._cssClassRegex;
var c="";
if(null!=d.cssText){c=d.cssText;
c=c.replace(e,"$1");
}else{c=d.style.cssText;
}return c;
},_getDisplayName:function(d){if(!d||!d.selectorText){return"";
}var e=d.selectorText;
var f=e.indexOf(".");
if(-1==f){f=0;
}else{f+=1;
}var c=e.indexOf(":");
if(-1==c){c=e.length;
}return e.substring(f,c);
},_getClassName:function(e){var f=e&&e.selectorText?e.selectorText:"";
var d=f.lastIndexOf(".");
if(d==-1){return"";
}var c=f.indexOf(" ",d);
if(-1==c){c=f.indexOf(":",d);
}if(-1==c){c=f.length;
}return f.substring((d+1),c);
},set_items:function(c){Telerik.Web.UI.Editor.ApplyClassDropDown.callBaseMethod(this,"set_items",[c]);
if(this._items.length==0||this._items[0][0]!=""){this._items.splice(0,0,["",{cssText:"",selectorText:this.get_clearclasstext()}]);
}},renderChild:function(c,d,e){this._view.renderChild(c,d);
},get_clientStateFieldID:function(){return this._clientStateFieldID;
},set_clientStateFieldID:function(c){this._clientStateFieldID=c;
},get_clearclasstext:function(){return this._clearclasstext;
},set_clearclasstext:function(c){this._clearclasstext=c;
}};
Telerik.Web.UI.Editor.ApplyClassDropDown.registerClass("Telerik.Web.UI.Editor.ApplyClassDropDown",Telerik.Web.UI.EditorUpdateableDropDown);
Telerik.Web.UI.Editor.FontNameDropDown=function(c){Telerik.Web.UI.Editor.FontNameDropDown.initializeBase(this,[c]);
};
Telerik.Web.UI.Editor.FontNameDropDown.prototype={updateValue:function(d){try{if(!d){d=this.get_text();
}if(null==d||"AZBY"==d){return;
}Telerik.Web.UI.Editor.FontNameDropDown.callBaseMethod(this,"updateValue",[d]);
}catch(c){}},renderChildren:function(){var f=this._items;
if(f&&f[0]&&!(f[0] instanceof Array)){for(var c=0;
c<f.length;
c++){var d=f[c];
var e=d=="Wingdings"||d=="Webdings"?"Arial":d;
f[c]=[d,String.format("<span style='font:normal 13px {0};'>",e)+d+"</span>"];
}}return Telerik.Web.UI.Editor.FontNameDropDown.callBaseMethod(this,"renderChildren");
}};
Telerik.Web.UI.Editor.FontNameDropDown.registerClass("Telerik.Web.UI.Editor.FontNameDropDown",Telerik.Web.UI.EditorUpdateableDropDown);
Telerik.Web.UI.Editor.FontSizeDropDown=function(c){Telerik.Web.UI.Editor.FontSizeDropDown.initializeBase(this,[c]);
};
Telerik.Web.UI.Editor.FontSizeDropDown.prototype={renderChildren:function(){var e=this._items;
if(e&&e[0]&&!(e[0] instanceof Array)){for(var c=0;
c<e.length;
c++){var d=e[c];
e[c]=[d,String.format("<font size={0}>",d)+d+"</font>"];
}}return Telerik.Web.UI.Editor.FontSizeDropDown.callBaseMethod(this,"renderChildren");
}};
Telerik.Web.UI.Editor.FontSizeDropDown.registerClass("Telerik.Web.UI.Editor.FontSizeDropDown",Telerik.Web.UI.EditorUpdateableDropDown);
Telerik.Web.UI.Editor.InsertCustomLinkDropDown=function(c){Telerik.Web.UI.Editor.InsertCustomLinkDropDown.initializeBase(this,[c]);
};
Telerik.Web.UI.Editor.InsertCustomLinkDropDown.prototype={initialize:function(){Telerik.Web.UI.Editor.InsertCustomLinkDropDown.callBaseMethod(this,"initialize");
this._view=Telerik.Web.UI.Editor.UI.ToolsViewFactory.getView(this,"InsertCustomLinkDropDown");
},selectUIItem:function(c,f,d){},show:function(){return Telerik.Web.UI.Editor.InsertCustomLinkDropDown.callBaseMethod(this,"show");
},renderChildren:function(){this.FlatLinksArray=[];
Telerik.Web.UI.Editor.InsertCustomLinkDropDown.callBaseMethod(this,"renderChildren");
},get_selectedItem:function(){var c=this.FlatLinksArray[this.get_selectedIndex()];
return{innerHTML:c.name,href:c.href,target:c.target,title:c.toolTip};
}};
Telerik.Web.UI.Editor.InsertCustomLinkDropDown.registerClass("Telerik.Web.UI.Editor.InsertCustomLinkDropDown",Telerik.Web.UI.EditorDropDown);
Telerik.Web.UI.Editor.FormatSetsDropDown=function(c){Telerik.Web.UI.Editor.FormatSetsDropDown.initializeBase(this,[c]);
this._blockElements=b.Editor.formatSetBlockElements;
this._defaultBlockSets=[["p","Normal",[]],["h1","<h1 style='margin: 0px;'>Heading 1</h1>",[]],["h2","<h2 style='margin: 0px;'>Heading 2</h2>",[]],["h3","<h3 style='margin: 0px;'>Heading 3</h3>",[]],["h4","<h4 style='margin: 0px;'>Heading 4</h4>",[]],["h5","<h5 style='margin: 0px;'>Heading 5</h5>",[]],["menu","<menu style='margin: 0px;'>Menu list</menu>",[]],["pre","<pre style='margin: 0px;'>Formatted</pre>",[]],["address","<address style='margin: 0px;'>Address</address>",[]]];
this._headerClassName="reFormatSetsHeader";
this._indexItemDictionary=[];
};
Telerik.Web.UI.Editor.FormatSetsDropDown.prototype={initialize:function(){Telerik.Web.UI.Editor.FormatSetsDropDown.callBaseMethod(this,"initialize");
this._onValueSelectedDelegate=Function.createDelegate(this,this._onDropDownValueSelected);
this.add_valueSelected(this._onValueSelectedDelegate);
},set_items:function(c){this._updateLocalSets(c);
Telerik.Web.UI.Editor.FormatSetsDropDown.callBaseMethod(this,"set_items",[c]);
},_updateLocalSets:function(c){this._blockSets=[];
this._elementSets=[];
this._inlineSets=[];
for(var d=0,e=c.length;
d<e;
d++){this._sortFormatSet(c[d]);
}if(this._blockSets.length==0){this._blockSets=this._defaultBlockSets;
}},_sortFormatSet:function(c){if(this.isInlineSet(c)){this._inlineSets.push(c);
}else{if(this.isBlockSet(c)){this._blockSets.push(c);
}else{this._elementSets.push(c);
}}},isInlineSet:function(c){return !c[0];
},isBlockSet:function(c){return a.inArray((c[0]||"").toLowerCase(),this._blockElements)!=-1;
},get_elementSetsByTagName:function(g){var h=[],d=this.get_elementSets(),c;
for(var e=0,f=d.length;
e<f;
e++){c=d[e];
if(c[0].toLowerCase()==g.toLowerCase()){h.push(c);
}}return h;
},renderChildren:function(){this.disposeChildren();
this._indexItemDictionary=[];
this._renderElementChildren();
this._renderInlineChildren();
this._renderBlockChildren();
},_renderElementChildren:function(){var c=[],f=this.get_selectedElement(),g=this._getContextTagNames(f);
for(var d=0,e=g.length;
d<e;
d++){a.merge(c,this.get_elementSetsByTagName(g[d]));
}this._renderSectionChildren(c,this.get_elementSetsText());
},_renderInlineChildren:function(){this._renderSectionChildren(this.get_inlineSets(),this.get_inlineSetsText());
},_renderBlockChildren:function(){this._renderSectionChildren(this.get_blockSets(),this.get_blockSetsText());
},_renderSectionChildren:function(c,d){if(c.length>0){this._renderHeaderItem(d);
this._renderFormatSetItems(c);
}},_getContextTagNames:function(c){var e=[];
while(c&&!Telerik.Web.UI.Editor.Utils.isEditorContentArea(c)){var d=c.tagName;
if(d){d=d.toLowerCase();
if(a.inArray(d,e)==-1){e.push(d);
}}c=c.parentNode;
}return e;
},_renderHeaderItem:function(d){var c=this._createItemContainer();
c.className=this._headerClassName;
this.renderChild(c,["",d],c.item_index);
},_createItemContainer:function(){this.renderNewRow();
var d=this.renderItemContainer(),c=this._getLastItemIndex();
this.markItemContainer(d,c);
return d;
},_renderFormatSetItems:function(d){var g=d.length;
for(var e=0;
e<g;
e++){var c=this._createItemContainer(),f=c.item_index;
this.renderChild(c,d[e],f);
}},_getLastItemIndex:function(){return this._view.getItemElements(this._itemRootElement).length-1;
},renderChild:function(c,d,e){Telerik.Web.UI.Editor.FormatSetsDropDown.callBaseMethod(this,"renderChild",[c,d,e]);
this._indexItemDictionary[e]=d;
},get_selectedItem:function(){var c=this._indexItemDictionary[this._selectedIndex];
if(c){return c;
}else{return null;
}},updateValue:function(d){var e=(d&&!Telerik.Web.UI.Editor.Utils.isEditorContentArea(d.selectedElement))?d.selectedElement:null,c=(d&&d.commandText)?Telerik.Web.UI.Editor.Utils.stripFormatting(d.commandText,"ALL"):"";
this.set_selectedElement(e);
Telerik.Web.UI.Editor.FormatSetsDropDown.callBaseMethod(this,"updateValue",[c]);
},_onDropDownValueSelected:function(){var c=this.get_selectedItem();
if(c){c.commandText=c[1];
}this.updateValue(c);
},hide:function(){Telerik.Web.UI.Editor.FormatSetsDropDown.callBaseMethod(this,"hide");
this._childrenRendered=false;
}};
a.registerControlProperties(b.Editor.FormatSetsDropDown,{clientStateFieldID:null,blockSetsText:"Block Format Sets",inlineSetsText:"Inline Format Sets",elementSetsText:"Element Format Sets",blockSets:[],inlineSets:[],elementSets:[],selectedElement:null,clientTypeName:"Telerik.Web.UI.Editor.FormatSetsDropDown"});
Telerik.Web.UI.Editor.FormatSetsDropDown.registerClass("Telerik.Web.UI.Editor.FormatSetsDropDown",Telerik.Web.UI.EditorUpdateableDropDown);
})();
Type.registerNamespace("Telerik.Web.UI");
Type.registerNamespace("Telerik.Web.UI.Editor");
Telerik.Web.UI.Editor._PopupController=function(){this._activePopup=null;
this._registerGlobalBodyEventHandlers();
};
Telerik.Web.UI.Editor._PopupController.prototype={_registerGlobalBodyEventHandlers:function(){var a=function(g,f){var j=window.frames;
for(var d=0;
d<j.length;
d++){var h=null;
try{h=j[d].document;
}catch(c){}if(!h){continue;
}try{if(g!==false){f.attachToDocument(h);
}else{f.detachFromDocument(h);
}}catch(c){}}};
var b=Function.createDelegate(null,function(c){if(c.keyCode==27){Telerik.Web.UI.Editor.PopupController.hideActivePopup();
}});
$telerik.addExternalHandler(document.body,"keydown",b);
$telerik.addExternalHandler(document.body,"mousedown",this._hideHandler);
Sys.Application.add_unload(function(){$telerik.removeExternalHandler(document.body,"mousedown",Telerik.Web.UI.Editor.PopupController._hideHandler);
$telerik.removeExternalHandler(document.body,"keydown",b);
a(false,Telerik.Web.UI.Editor.PopupController);
});
a(true,this);
},attachToDocument:function(a){$telerik.addExternalHandler(a,"mousedown",this._hideHandler);
},detachFromDocument:function(b){try{$telerik.removeExternalHandler(b,"mousedown",this._hideHandler);
}catch(a){}},_hideHandler:function(a){Telerik.Web.UI.Editor.PopupController._hideIfOutsidePopup(a);
},hideActivePopup:function(){if(this._activePopup!=null){this._activePopup.hide();
this._activePopup=null;
}},_hideIfOutsidePopup:function(a){if(this._activePopup!=null){if(!this._activePopup.get_popupElement){return;
}var b=this._activePopup.get_popupElement();
if(!this._isMouseOverElement(a,b)){this.hideActivePopup();
}}},_isMouseOverElement:function(a,b){var f=null;
try{f=$telerik.getBounds(b);
}catch(c){return false;
}if(a&&a.target&&a.target.tagName=="SELECT"&&a.clientX<0){return true;
}var d=$telerik.getDocumentRelativeCursorPosition(a);
return $telerik.containsPoint(f,d.left,d.top);
},notifyPopupClosed:function(a){if(this._activePopup==a){this._activePopup=null;
}},set_activePopup:function(a){if(this._activePopup&&(a!=this._activePopup)){this._activePopup.hide();
}this._activePopup=a;
},get_activePopup:function(){return this._activePopup;
}};
Telerik.Web.UI.Editor._PopupController.registerClass("Telerik.Web.UI.Editor._PopupController",null);
(function(){if(!Telerik.Web.UI.Editor.PopupController){var a=function(){window.setTimeout(function(){Telerik.Web.UI.Editor.PopupController=new Telerik.Web.UI.Editor._PopupController();
},100);
};
a();
}})();
Type.registerNamespace("Telerik.Web.UI.Editor.UI");
(function(a,b,c){Telerik.Web.UI.Editor.UI.ToolsViewFactory=function(){};
Telerik.Web.UI.Editor.UI.ToolsViewFactory.getView=function(e,f){var d=e._rendermode=="Lightweight"||e._rendermode==b.RenderMode.Lite||(e._attributes&&e._attributes.rendermode=="Lightweight");
var g=(d?"Lightweight":"Classic")+f+"View";
return new b.Editor.UI[g](e);
};
Telerik.Web.UI.Editor.UI.StaticToolsUI=function(){};
Telerik.Web.UI.Editor.UI.StaticToolsUI.createToolWrapper=function(e,d,f){return Telerik.Web.UI.Editor.UI.StaticToolsUI["createToolWrapper"+e](d,f);
};
Telerik.Web.UI.Editor.UI.StaticToolsUI.createToolWrapperClassic=function(g,h){var e=g.get_enableAriaSupport();
var i=document.createElement("ul");
var f=document.createElement("li");
f.innerHTML="&nbsp;";
f.className="reGrip grip_first";
i.appendChild(f);
i.className="reToolbar "+h;
if(e){f.setAttribute("role","presentation");
}f=document.createElement("li");
i.appendChild(f);
var d=g.get_element();
f.appendChild(d);
f=document.createElement("li");
f.innerHTML="&nbsp;";
f.className="reGrip grip_last";
i.appendChild(f);
if(e){f.setAttribute("role","presentation");
i.setAttribute("role","presentation");
}return i;
};
Telerik.Web.UI.Editor.UI.StaticToolsUI.createToolWrapperLightweight=function(g,h){var e=g.get_enableAriaSupport();
var i=document.createElement("ul");
i.className="reToolBar RadEditor_"+h;
if(e){i.setAttribute("role","presentation");
}var f=document.createElement("li");
i.appendChild(f);
var d=g.get_element();
f.appendChild(d);
return i;
};
Telerik.Web.UI.Editor.UI.StaticToolsUI.createButton=function(d,e){Telerik.Web.UI.Editor.UI.StaticToolsUI["createButton"+d](e);
};
Telerik.Web.UI.Editor.UI.StaticToolsUI.createButtonClassic=function(g){var d=document.createElement("a");
d.className=g.showText==true?"reTool_text":"reTool";
var f=g.text;
d.title=f?f:g.name;
d.href="#";
d.setAttribute("unselectable","on");
var e;
if(g.showIcon!=false){e=document.createElement("span");
e.className=g.name;
e.innerHTML="&nbsp;";
e.setAttribute("unselectable","on");
d.appendChild(e);
}if(g.showText==true){e=document.createElement("span");
e.className="reButton_text";
e.innerHTML=g.text?g.text:g.name;
e.setAttribute("unselectable","on");
d.appendChild(e);
}return d;
};
Telerik.Web.UI.Editor.UI.StaticToolsUI.createButtonLightweight=function(d){var f=d.text||d.name,e=a("<a href='#'></a>").attr({title:f,unselectable:"on"}).addClass("reTool re"+d.name);
if(d.showText==true){e.text(f).addClass("reToolText");
}if(d.showIcon!=false){e.addClass("reToolIcon");
}return e.get(0);
};
Telerik.Web.UI.Editor.UI.StaticToolsUI.createTool=function(g,i,e,j,d,f){if(!j){j=b.EditorButton;
}i.rendermode=g;
if(!d){d=Telerik.Web.UI.Editor.UI.StaticToolsUI["createToolUI"+g](i,j);
}var h=$create(j,i,e,null,d);
if(f&&f.appendChild){f.appendChild(d);
}return h;
};
Telerik.Web.UI.Editor.UI.StaticToolsUI.createToolUIClassic=function(g,h){var e=Telerik.Web.UI.Editor.UI.StaticToolsUI.createButtonClassic(g);
if(e.tagName=="A"){var d=e,f;
if(h==b.EditorSplitButton||h.inheritsFrom(b.EditorSplitButton)){Sys.UI.DomElement.addCssClass(d,"reSplitButton");
f=document.createElement("span");
f.className="split_arrow";
f.innerHTML="&nbsp;";
d.appendChild(f);
}else{if(h==b.EditorDropDown||h.inheritsFrom(b.EditorDropDown)){Sys.UI.DomElement.removeCssClass(d,"reTool");
Sys.UI.DomElement.addCssClass(d,"reDropdown");
d.innerHTML="";
f=document.createElement("span");
f.innerHTML="&nbsp;";
var i=g.width?g.width:"50px";
f.style.width=i;
d.appendChild(f);
}}}return e;
};
Telerik.Web.UI.Editor.UI.StaticToolsUI.createToolUILightweight=function(f,g){var e=Telerik.Web.UI.Editor.UI.StaticToolsUI.createButtonLightweight(f);
if(g==b.EditorSplitButton||g.inheritsFrom(b.EditorSplitButton)){var d=a("<span></span>").addClass("reSplitArrow").attr("unselectable","on");
a(e).append(d).addClass("reSplitButton");
}else{if(g==b.EditorDropDown||g.inheritsFrom(b.EditorDropDown)){a(e).removeClass("reTool").addClass("reDropdown").width(f.width||"50px");
}}return e;
};
Telerik.Web.UI.Editor.UI.BaseEditorButtonView=function(d){var e=this;
e.owner=d;
e.initialize();
};
Telerik.Web.UI.Editor.UI.BaseEditorButtonView.prototype={initialize:function(){var g=this,e=g.owner;
var d=e.getAnchorElement();
if(d){d.setAttribute("unselectable","on");
}var f=e.getSpanElement();
if(f){f.setAttribute("unselectable","on");
}},dispose:function(){delete this.owner;
},set_width:function(d){},get_width:function(){},set_height:function(d){},get_height:function(){},set_tooltipIncrease:function(d){},get_tooltipIncrease:function(){},set_tooltipDecrease:function(d){},get_tooltipDecrease:function(){},enable:function(){},disable:function(){},select:function(d){},deselect:function(d){},set_text:function(d){}};
Telerik.Web.UI.Editor.UI.BaseEditorButtonView.registerClass("Telerik.Web.UI.Editor.UI.BaseEditorButtonView");
Telerik.Web.UI.Editor.UI.ClassicEditorButtonView=function(d){Telerik.Web.UI.Editor.UI.ClassicEditorButtonView.initializeBase(this,[d]);
};
Telerik.Web.UI.Editor.UI.ClassicEditorButtonView.prototype={set_width:function(e){var d=this.owner.getSpanElement();
if(d){d.style.width=e;
}},get_width:function(){return this.owner.get_element().offsetWidth;
},set_height:function(e){var d=this.owner.getSpanElement();
if(d){d.style.height=e;
}},get_height:function(){return this.owner.get_element().offsetHeight;
},set_tooltipIncrease:function(e){var d=this.owner.getAnchorElement();
if(d&&e){d.getElementsByTagName("A")[0].title=e;
}},get_tooltipIncrease:function(){var d=this.owner.getAnchorElement();
if(d){return d.getElementsByTagName("A")[0].title;
}},set_tooltipDecrease:function(e){var d=this.owner.getAnchorElement();
if(d&&e){d.getElementsByTagName("A")[1].title=e;
}},get_tooltipDecrease:function(){var d=this.owner.getAnchorElement();
if(d){return d.getElementsByTagName("A")[1].title;
}},enable:function(){var d=this.owner.getAnchorElement();
var e=this.owner.get_enableAriaSupport();
this._removeAnchorCssClass("reTool_disabled");
d.removeAttribute("disabled");
if(e){d.removeAttribute("aria-disabled");
}},disable:function(){var d=this.owner.getAnchorElement();
var e=this.owner.get_enableAriaSupport();
this._addAnchorCssClass("reTool_disabled");
d.setAttribute("disabled","disabled");
if(e){d.setAttribute("aria-disabled","true");
}},select:function(f){var g=this.owner.get_enableAriaSupport();
var d=this.owner.getAnchorElement();
var e=f?f:"aria-pressed";
this._addAnchorCssClass("reTool_selected");
if(d&&g){d.setAttribute(e,"true");
}},deselect:function(f){var g=this.owner.get_enableAriaSupport();
var d=this.owner.getAnchorElement();
var e=f?f:"aria-pressed";
this._removeAnchorCssClass("reTool_selected");
if(d&&g){d.removeAttribute(e);
}},set_text:function(d){this.owner.getSpanElement().innerHTML=d.replace(/\s+/ig,"&nbsp;");
},_addAnchorCssClass:function(d){Sys.UI.DomElement.addCssClass(this.owner.getAnchorElement(),d);
},_removeAnchorCssClass:function(d){Sys.UI.DomElement.removeCssClass(this.owner.getAnchorElement(),d);
}};
Telerik.Web.UI.Editor.UI.ClassicEditorButtonView.registerClass("Telerik.Web.UI.Editor.UI.ClassicEditorButtonView",Telerik.Web.UI.Editor.UI.BaseEditorButtonView);
Telerik.Web.UI.Editor.UI.LightweightEditorButtonView=function(d){Telerik.Web.UI.Editor.UI.LightweightEditorButtonView.initializeBase(this,[d]);
};
Telerik.Web.UI.Editor.UI.LightweightEditorButtonView.prototype={set_width:function(d){$telerik.$(this.owner.get_element()).width(d);
},get_width:function(){return $telerik.$(this.owner.get_element()).width();
},set_height:function(d){$telerik.$(this.owner.get_element()).height(d);
},get_height:function(){return $telerik.$(this.owner.get_element()).width();
},set_tooltipIncrease:function(d){},get_tooltipIncrease:function(){},set_tooltipDecrease:function(d){},get_tooltipDecrease:function(){},enable:function(){$telerik.$(this.owner.get_element()).removeClass("reToolDisabled").removeAttr("disabled");
if(this.owner.get_enableAriaSupport()){$telerik.$(this.owner.get_element()).removeAttr("aria-disabled");
}},disable:function(){$telerik.$(this.owner.get_element()).addClass("reToolDisabled").attr("disabled","disabled");
if(this.owner.get_enableAriaSupport()){$telerik.$(this.owner.get_element()).attr("aria-disabled",true);
}},select:function(d){$telerik.$(this.owner.get_element()).addClass("reToolSelected").attr(d||"aria-pressed","true");
},deselect:function(d){$telerik.$(this.owner.get_element()).removeClass("reToolSelected").removeAttr(d||"aria-pressed");
},set_text:function(h){var g,f,e=this.owner.get_element(),d=e.childNodes;
if(d.length>0){for(f in d){g=d[f];
if(g.nodeType===3){g.nodeValue=h;
}}}else{e.innerHTML=h;
}}};
Telerik.Web.UI.Editor.UI.LightweightEditorButtonView.registerClass("Telerik.Web.UI.Editor.UI.LightweightEditorButtonView",Telerik.Web.UI.Editor.UI.BaseEditorButtonView);
Telerik.Web.UI.Editor.UI.ClassicEditorSpinBoxView=function(d){Telerik.Web.UI.Editor.UI.ClassicEditorSpinBoxView.initializeBase(this,[d]);
};
Telerik.Web.UI.Editor.UI.ClassicEditorSpinBoxView.prototype={initialize:function(){Telerik.Web.UI.Editor.UI.ClassicEditorSpinBoxView.callBaseMethod(this,"initialize");
this._createUI();
},getSpinBoxArrowFormEvent:function(d){var f=null;
if(!d){f=window.event.srcElement;
}else{f=d.target;
}while(f&&f.tagName.toLowerCase()!="a"){f=f.parentNode;
}return f;
},_createUI:function(){var k=this.owner;
var j=document.createElement("table");
j.cellSpacing=0;
j.cellPadding=0;
j.className=k.get_visibleInput()?k._className:"reTableWizardSpinBox";
j.insertRow(-1);
var g=j.rows[0].insertCell(-1);
var f=document.createElement("input");
f.className="radfd_skipme";
f.type="text";
f.onclick=function(l){f.focus();
};
f.onkeypress=Function.createDelegate(k,k._onKeyPressHandler);
f.onchange=Function.createDelegate(k,k._onChangeHandler);
k._inputElement=f;
g.appendChild(f);
if(!k.get_visibleInput()){k.set_visibleInput(false);
}var d;
if(k.get_visibleInput()){g=j.rows[0].insertCell(-1);
var i=document.createElement("table");
i.cellSpacing=0;
i.cellPadding=0;
i.insertRow(-1);
var h=i.rows[0].insertCell(-1);
d=this._createAnchorElement("Increase");
k._increaseButton=d;
h.appendChild(d);
i.insertRow(-1);
h=i.rows[1].insertCell(-1);
d=this._createAnchorElement("Decrease");
k._decreaseButton=d;
h.appendChild(d);
g.appendChild(i);
}else{g=j.rows[0].insertCell(-1);
d=this._createAnchorElement_noinput("Increase");
k._increaseButton=d;
g.appendChild(d);
g=j.rows[0].insertCell(-1);
d=this._createAnchorElement_noinput("Decrease");
k._decreaseButton=d;
g.appendChild(d);
}var e=k.get_element();
e.appendChild(j);
e.style.width=k.get_width();
},_createAnchorElement:function(g){var d=document.createElement("a");
var e=window.localization;
var f=typeof(e)!="undefined"&&e[g]?e[g]:g;
d.title=f;
d.href="javascript:void(0);";
d.innerHTML=f;
d.className="reSpinBox"+g;
d.onclick=Function.createDelegate(this.owner,this.owner._onPlusMinusClickHandler);
return d;
},_createAnchorElement_noinput:function(g){var d=document.createElement("a");
var e=window.localization;
var f=typeof(e)!="undefined"&&e[g]?e[g]:g;
d.title=f;
d.href="javascript:void(0);";
d.innerHTML="<span class='reTableWizardSpinBox_"+g+"'>"+f+"</span>";
d.onclick=Function.createDelegate(this.owner,this.owner._onPlusMinusClickHandler);
return d;
}};
Telerik.Web.UI.Editor.UI.ClassicEditorSpinBoxView.registerClass("Telerik.Web.UI.Editor.UI.ClassicEditorSpinBoxView",Telerik.Web.UI.Editor.UI.ClassicEditorButtonView);
Telerik.Web.UI.Editor.UI.LightweightEditorSpinBoxView=function(d){Telerik.Web.UI.Editor.UI.LightweightEditorSpinBoxView.initializeBase(this,[d]);
};
Telerik.Web.UI.Editor.UI.LightweightEditorSpinBoxView.prototype={initialize:function(){Telerik.Web.UI.Editor.UI.LightweightEditorSpinBoxView.callBaseMethod(this,"initialize");
this._createUI();
},getSpinBoxArrowFormEvent:function(d){var f=d.target||window.event.target;
if(a(f).hasClass("reSpinBoxIncrease")||a(f).hasClass("reSpinBoxDecrease")){return f;
}return null;
},_createUI:function(){var f=this.owner,d=f.get_element();
var h=document.createElement("div");
a(h).addClass("reSpinBox");
var e=document.createElement("input");
f._inputElement=e;
e.className="radfd_skipme";
e.type="text";
e.onclick=function(i){e.focus();
};
e.onkeypress=Function.createDelegate(f,f._onKeyPressHandler);
e.onchange=Function.createDelegate(f,f._onChangeHandler);
h.appendChild(e);
var g=document.createElement("div");
a(g).addClass("reSpinBoxButtons");
h.appendChild(g);
f._increaseButton=document.createElement("span");
a(f._increaseButton).addClass("reSpinBoxIncrease");
f._increaseButton.onclick=Function.createDelegate(f,f._onPlusMinusClickHandler);
g.appendChild(f._increaseButton);
f._decreaseButton=document.createElement("span");
a(f._decreaseButton).addClass("reSpinBoxDecrease");
f._decreaseButton.onclick=Function.createDelegate(f,f._onPlusMinusClickHandler);
g.appendChild(f._decreaseButton);
d.appendChild(h);
}};
Telerik.Web.UI.Editor.UI.LightweightEditorSpinBoxView.registerClass("Telerik.Web.UI.Editor.UI.LightweightEditorSpinBoxView",Telerik.Web.UI.Editor.UI.LightweightEditorButtonView);
Telerik.Web.UI.Editor.UI.ClassicEditorCheckBoxView=function(d){Telerik.Web.UI.Editor.UI.ClassicEditorCheckBoxView.initializeBase(this,[d]);
};
Telerik.Web.UI.Editor.UI.ClassicEditorCheckBoxView.prototype={};
Telerik.Web.UI.Editor.UI.ClassicEditorCheckBoxView.registerClass("Telerik.Web.UI.Editor.UI.ClassicEditorCheckBoxView",Telerik.Web.UI.Editor.UI.ClassicEditorButtonView);
Telerik.Web.UI.Editor.UI.LightweightEditorCheckBoxView=function(d){Telerik.Web.UI.Editor.UI.LightweightEditorCheckBoxView.initializeBase(this,[d]);
};
Telerik.Web.UI.Editor.UI.LightweightEditorCheckBoxView.prototype={};
Telerik.Web.UI.Editor.UI.LightweightEditorCheckBoxView.registerClass("Telerik.Web.UI.Editor.UI.LightweightEditorCheckBoxView",Telerik.Web.UI.Editor.UI.LightweightEditorButtonView);
Telerik.Web.UI.Editor.UI.ClassicEditorTextBoxView=function(d){Telerik.Web.UI.Editor.UI.ClassicEditorTextBoxView.initializeBase(this,[d]);
};
Telerik.Web.UI.Editor.UI.ClassicEditorTextBoxView.prototype={};
Telerik.Web.UI.Editor.UI.ClassicEditorTextBoxView.registerClass("Telerik.Web.UI.Editor.UI.ClassicEditorTextBoxView",Telerik.Web.UI.Editor.UI.ClassicEditorButtonView);
Telerik.Web.UI.Editor.UI.LightweightEditorTextBoxView=function(d){Telerik.Web.UI.Editor.UI.LightweightEditorTextBoxView.initializeBase(this,[d]);
};
Telerik.Web.UI.Editor.UI.LightweightEditorTextBoxView.prototype={};
Telerik.Web.UI.Editor.UI.LightweightEditorTextBoxView.registerClass("Telerik.Web.UI.Editor.UI.LightweightEditorTextBoxView",Telerik.Web.UI.Editor.UI.LightweightEditorButtonView);
Telerik.Web.UI.Editor.UI.ClassicImageDialogCallerView=function(d){Telerik.Web.UI.Editor.UI.ClassicImageDialogCallerView.initializeBase(this,[d]);
};
Telerik.Web.UI.Editor.UI.ClassicImageDialogCallerView.prototype={};
Telerik.Web.UI.Editor.UI.ClassicImageDialogCallerView.registerClass("Telerik.Web.UI.Editor.UI.ClassicImageDialogCallerView",Telerik.Web.UI.Editor.UI.ClassicEditorButtonView);
Telerik.Web.UI.Editor.UI.LightweightImageDialogCallerView=function(d){Telerik.Web.UI.Editor.UI.LightweightImageDialogCallerView.initializeBase(this,[d]);
};
Telerik.Web.UI.Editor.UI.LightweightImageDialogCallerView.prototype={};
Telerik.Web.UI.Editor.UI.LightweightImageDialogCallerView.registerClass("Telerik.Web.UI.Editor.UI.LightweightImageDialogCallerView",Telerik.Web.UI.Editor.UI.LightweightEditorButtonView);
})($telerik.$,Telerik.Web.UI);
Type.registerNamespace("Telerik.Web.UI.Editor.UI");
(function(a,b,c,d){c.BaseEditorDropDownView=function(e){c.BaseEditorDropDownView.initializeBase(this,[e]);
};
c.BaseEditorDropDownView.prototype={renderItemRoot:function(){},renderHeader:function(){},renderFooter:function(){},renderNewRow:function(e){},renderItemContainer:function(e){},renderChild:function(e,f,g){},getItemElements:function(e){}};
c.BaseEditorDropDownView.registerClass("Telerik.Web.UI.Editor.UI.BaseEditorDropDownView",c.BaseEditorButtonView);
c.ClassicEditorDropDownView=function(e){c.ClassicEditorDropDownView.initializeBase(this,[e]);
};
c.ClassicEditorDropDownView.prototype={renderItemRoot:function(){var e=document.createElement("table");
e.border=0;
e.cellPadding=0;
e.setAttribute("unselectable","on");
e.style.cursor="default";
if(this.owner.get_enableAriaSupport()){e.setAttribute("role","presentation");
}return e;
},renderHeader:function(){},renderFooter:function(){},renderNewRow:function(e){return e.insertRow(-1);
},renderItemContainer:function(g){var f=g.rows[g.rows.length-1];
var e=f.insertCell(-1);
return e;
},renderChild:function(e,f,g){var h=document.createElement("span");
if(f){var k=null;
var i=null;
if(f instanceof Array){k=f[1];
i=f[2];
}else{k=f;
}if(i){var j=document.createElement("span");
j.innerHTML="&nbsp;";
j.className=i;
h.appendChild(j);
}if(k){h.innerHTML+=k;
h.noWrap=true;
}}e.innerHTML=h.innerHTML;
},getItemElements:function(e){return e.getElementsByTagName("TD");
}};
c.ClassicEditorDropDownView.registerClass("Telerik.Web.UI.Editor.UI.ClassicEditorDropDownView",c.ClassicEditorButtonView);
c.LightweightEditorDropDownView=function(e){c.LightweightEditorDropDownView.initializeBase(this,[e]);
};
c.LightweightEditorDropDownView.prototype={renderItemRoot:function(){var e=a("<ul></ul>").css("cursor","default").attr("unselectable","on");
if(this.owner.get_enableAriaSupport()){e.attr("role","presentation");
}return e.get(0);
},renderHeader:function(){},renderFooter:function(){},renderNewRow:function(e){var f=a("<li class='reClear'></li>");
a(e).append(f);
return f.get(0);
},renderItemContainer:function(f){var e=a("<li></li>");
a(f).append(e);
return e.get(0);
},renderChild:function(e,f,h){var i,g;
if(f instanceof Array){i=f[1];
g=f[2];
}else{i=f;
}if(g){a(e).addClass("reToolIcon re"+g);
}a(e).html(i);
},getItemElements:function(e){return e.getElementsByTagName("LI");
}};
c.LightweightEditorDropDownView.registerClass("Telerik.Web.UI.Editor.UI.LightweightEditorDropDownView",c.LightweightEditorButtonView);
c.ClassicEditorUpdateableDropDownView=function(e){c.ClassicEditorUpdateableDropDownView.initializeBase(this,[e]);
};
c.ClassicEditorUpdateableDropDownView.prototype={};
c.ClassicEditorUpdateableDropDownView.registerClass("Telerik.Web.UI.Editor.UI.ClassicEditorUpdateableDropDownView",c.ClassicEditorDropDownView);
c.LightweightEditorUpdateableDropDownView=function(e){c.LightweightEditorUpdateableDropDownView.initializeBase(this,[e]);
};
c.LightweightEditorUpdateableDropDownView.prototype={};
c.LightweightEditorUpdateableDropDownView.registerClass("Telerik.Web.UI.Editor.UI.LightweightEditorUpdateableDropDownView",c.LightweightEditorDropDownView);
c.ClassicEditorSelfUpdateableDropDownView=function(e){c.ClassicEditorSelfUpdateableDropDownView.initializeBase(this,[e]);
};
c.ClassicEditorSelfUpdateableDropDownView.prototype={};
c.ClassicEditorSelfUpdateableDropDownView.registerClass("Telerik.Web.UI.Editor.UI.ClassicEditorSelfUpdateableDropDownView",c.ClassicEditorUpdateableDropDownView);
c.LightweightEditorSelfUpdateableDropDownView=function(e){c.LightweightEditorSelfUpdateableDropDownView.initializeBase(this,[e]);
};
c.LightweightEditorSelfUpdateableDropDownView.prototype={};
c.LightweightEditorSelfUpdateableDropDownView.registerClass("Telerik.Web.UI.Editor.UI.LightweightEditorSelfUpdateableDropDownView",c.LightweightEditorUpdateableDropDownView);
c.ClassicEditorSplitButtonView=function(e){c.ClassicEditorSplitButtonView.initializeBase(this,[e]);
};
c.ClassicEditorSplitButtonView.prototype={getSplitArrow:function(){var f=this.owner.getAnchorElement().getElementsByTagName("SPAN");
var e=f[f.length-1];
return e;
}};
c.ClassicEditorSplitButtonView.registerClass("Telerik.Web.UI.Editor.UI.ClassicEditorSplitButtonView",c.ClassicEditorUpdateableDropDownView);
c.LightweightEditorSplitButtonView=function(e){c.LightweightEditorSplitButtonView.initializeBase(this,[e]);
};
c.LightweightEditorSplitButtonView.prototype={getSplitArrow:function(){return a(this.owner.getAnchorElement()).find(".reSplitArrow").get(0);
}};
c.LightweightEditorSplitButtonView.registerClass("Telerik.Web.UI.Editor.UI.LightweightEditorSplitButtonView",c.LightweightEditorUpdateableDropDownView);
c.ClassicApplyClassDropDownView=function(e){c.ClassicApplyClassDropDownView.initializeBase(this,[e]);
};
c.ClassicApplyClassDropDownView.prototype={renderChild:function(e,g){var m=this.owner;
var j=g[1];
if(j){var k=m._getClassTag(j);
var i=m._getClassCss(j);
var l=g[2]?g[2]:m._getDisplayName(j);
e.setAttribute("title",j.selectorText);
var f=m._getClassIcon(k);
e.appendChild(f);
var h=this._getChild(i,k,l);
e.appendChild(h);
}},_getChild:function(g,f,e){var h=document.createElement("div");
if(f.toLowerCase()=="a"){h=document.createElement("a");
h.href="#";
h.onmouseover="window.status = ''; return false;";
h.onclick=function(){return false;
};
h.style.cursor="default";
}if(null!=h.style.cssText){h.style.cssText=g;
}h.setAttribute("style",g);
h.innerHTML=e;
var i=h.style;
i.visibility="visible";
i.marginLeft="0px";
i.overflowX="hidden";
i.clear="none";
i.position="";
i.cssFloat="";
i.styleFloat="";
i.width="";
return h;
}};
c.ClassicApplyClassDropDownView.registerClass("Telerik.Web.UI.Editor.UI.ClassicApplyClassDropDownView",c.ClassicEditorUpdateableDropDownView);
c.LightweightApplyClassDropDownView=function(e){c.LightweightApplyClassDropDownView.initializeBase(this,[e]);
};
c.LightweightApplyClassDropDownView.prototype={renderChild:function(k,f){var g=this.owner;
var h=f[1];
var i;
if(h){if(f[0]){i=g._getClassTag(h);
i=i?i.charAt(0).toUpperCase()+i.substring(1):"All";
}else{i="Clear";
}var e=g._getClassCss(h);
var j=f[2]?f[2]:g._getDisplayName(h);
k.appendChild(this._getChild(e,i,j));
k.setAttribute("title",h.selectorText);
}},_getChild:function(f,j,g){var e="reRulePreview";
var i=(j.toLowerCase()=="a")?'<a class="'+e+'" href="#" unselectable="on" title="'+g+'">':'<span class="'+e+'">';
var h=a(i).html(g).css("cssText",f).css({visibility:"visible",marginLeft:"0px",overflowX:"hidden",clear:"none",position:"",cssFloat:"",styleFloat:"",width:"",cursor:"default"});
return a('<span class="reRuleIcon reIcon'+j+'">').append(h).get(0);
}};
c.LightweightApplyClassDropDownView.registerClass("Telerik.Web.UI.Editor.UI.LightweightApplyClassDropDownView",c.LightweightEditorUpdateableDropDownView);
c.ClassicEditorToolStripView=function(e){c.ClassicEditorToolStripView.initializeBase(this,[e]);
};
c.ClassicEditorToolStripView.prototype={renderItemRoot:function(){var e=document.createElement("div");
e.className="reTlbVertical";
e.style.cssFloat="left";
e.style.width="100%";
return e;
},renderChildren:function(){var n=this.owner.get_tools();
var o=document.createElement("ul");
o.setAttribute("onmousedown","return false;");
o.className=this._getChildrenWrapperClass();
this.owner._itemRootElement.appendChild(o);
for(var g=0;
g<n.length;
g++){if(this._shouldRenderNewRow(g)){o=this.renderNewRow(o);
}var m=n[g];
if(null==m.showText){m.showText=true;
}var j=document.createElement("li");
o.appendChild(j);
var l=c.StaticToolsUI.createTool(this._renderMode,m,null,null,null,j);
var f=this.owner.get_enableAriaSupport();
if(f){var e=l.getAnchorElement();
if(e){l.set_enableAriaSupport(f,"option");
e.setAttribute("aria-posinset",g+1);
var h=this.owner._popupBehavior.get_id()+"_"+m.name;
j.setAttribute("role","presentation");
e.setAttribute("id",h);
var k=$telerik.getChildByClassName(e,"reButton_text");
if(k){k.setAttribute("id",h+"_text");
e.setAttribute("aria-describedby",k.id);
}}o.setAttribute("role","presentation");
}this.owner._items[this.owner._items.length]=l;
}},_getChildrenWrapperClass:function(){return"reToolbar "+this.owner.get_skin();
},_shouldRenderNewRow:function(e){var f=this.owner.get_itemsperrow();
return f>1&&e>1&&(e%f==0);
},renderNewRow:function(e){var f=document.createElement("ul");
f.className=this._getChildrenWrapperClass();
this.owner._itemRootElement.appendChild(f);
return f;
},_updateHeader:function(){var h=this.owner,k=h.get_selectedItem();
if(!k||!k.getSpanElement){return;
}var j=k.getSpanElement();
if(j){var g=j.cloneNode(true);
var f=h.getSpanElement();
var i=f.parentNode;
i.replaceChild(g,f);
var e=k.getAnchorElement();
if(e){i.setAttribute("title",e.getAttribute("title"));
}}},_renderMode:"Classic"};
c.ClassicEditorToolStripView.registerClass("Telerik.Web.UI.Editor.UI.ClassicEditorToolStripView",c.ClassicEditorSplitButtonView);
c.LightweightEditorToolStripView=function(e){c.LightweightEditorToolStripView.initializeBase(this,[e]);
};
c.LightweightEditorToolStripView.prototype={renderItemRoot:function(){var e=document.createElement("div");
e.className="reTlbVertical";
e.style.cssFloat="left";
e.style.width="100%";
return e;
},renderChildren:function(){var n=this.owner.get_tools();
var o=document.createElement("ul");
o.setAttribute("onmousedown","return false;");
o.className=this._getChildrenWrapperClass();
this.owner._itemRootElement.appendChild(o);
for(var g=0;
g<n.length;
g++){if(this._shouldRenderNewRow(g)){o=this.renderNewRow(o);
}var m=n[g];
if(null==m.showText){m.showText=true;
}var j=document.createElement("li");
o.appendChild(j);
var l=c.StaticToolsUI.createTool(this._renderMode,m,null,null,null,j);
var f=this.owner.get_enableAriaSupport();
if(f){var e=l.getAnchorElement();
if(e){l.set_enableAriaSupport(f,"option");
e.setAttribute("aria-posinset",g+1);
var h=this.owner._popupBehavior.get_id()+"_"+m.name;
j.setAttribute("role","presentation");
e.setAttribute("id",h);
var k=$telerik.getChildByClassName(e,"reButton_text");
if(k){k.setAttribute("id",h+"_text");
e.setAttribute("aria-describedby",k.id);
}}o.setAttribute("role","presentation");
}this.owner._items[this.owner._items.length]=l;
}},_getChildrenWrapperClass:function(){return"reToolBar RadEditor_"+this.owner.get_skin();
},_shouldRenderNewRow:function(e){var f=this.owner.get_itemsperrow();
return f==0||(e>0&&0==(e%f));
},renderNewRow:function(e){c.LightweightEditorToolStripView.callBaseMethod(this,"renderNewRow",[e]);
return e;
},_clearHeader:function(){var f=this.owner,e=f.get_element(),g=f.get_selectedItem();
if(g){a(e).removeClass("re"+g.get_name());
}else{a(e).removeClass("re"+f.get_name());
}},_updateHeader:function(){var e=this.owner,f=e.get_selectedItem();
if(f){a(e.get_element()).addClass("re"+f.get_name());
}},_renderMode:"Lightweight"};
c.LightweightEditorToolStripView.registerClass("Telerik.Web.UI.Editor.UI.LightweightEditorToolStripView",c.LightweightEditorSplitButtonView);
c.ClassicEditorContextMenuView=function(e){c.ClassicEditorContextMenuView.initializeBase(this,[e]);
};
c.ClassicEditorContextMenuView.prototype={};
c.ClassicEditorContextMenuView.registerClass("Telerik.Web.UI.Editor.UI.ClassicEditorContextMenuView",c.ClassicEditorToolStripView);
c.LightweightEditorContextMenuView=function(e){c.LightweightEditorContextMenuView.initializeBase(this,[e]);
};
c.LightweightEditorContextMenuView.prototype={};
c.LightweightEditorContextMenuView.registerClass("Telerik.Web.UI.Editor.UI.LightweightEditorContextMenuView",c.LightweightEditorToolStripView);
c.ClassicEditorSpellSuggestionBoxView=function(e){c.ClassicEditorSpellSuggestionBoxView.initializeBase(this,[e]);
};
c.ClassicEditorSpellSuggestionBoxView.prototype={};
c.ClassicEditorSpellSuggestionBoxView.registerClass("Telerik.Web.UI.Editor.UI.ClassicEditorSpellSuggestionBoxView",c.ClassicEditorSplitButtonView);
c.LightweightEditorSpellSuggestionBoxView=function(e){c.LightweightEditorSpellSuggestionBoxView.initializeBase(this,[e]);
};
c.LightweightEditorSpellSuggestionBoxView.prototype={renderChildren:function(){}};
c.LightweightEditorSpellSuggestionBoxView.registerClass("Telerik.Web.UI.Editor.UI.LightweightEditorSpellSuggestionBoxView",c.LightweightEditorSplitButtonView);
c.ClassicColorPickerView=function(e){c.ClassicColorPickerView.initializeBase(this,[e]);
};
c.ClassicColorPickerView.prototype={decorate:function(g){var f=this.owner.getSpanElement();
f.style.borderBottom="0px";
f.style.height="";
if(g){var i=f.offsetHeight;
if(i){f.style.height=(i-3)+"px";
}try{f.style.borderBottom="3px solid "+g;
}catch(h){}}}};
c.ClassicColorPickerView.registerClass("Telerik.Web.UI.Editor.UI.ClassicColorPickerView",c.ClassicEditorSplitButtonView);
c.LightweightColorPickerView=function(e){c.LightweightColorPickerView.initializeBase(this,[e]);
};
c.LightweightColorPickerView.prototype={decorate:function(f){var i=a("head").find("style#re"+this.owner.get_name()+"StyleHolder");
if(!i.get(0)){i=a("<style></style>").attr("id","re"+this.owner.get_name()+"StyleHolder");
a("head").append(i);
}var g="";
if(f){g="a.reToolIcon.reTool.re"+this.owner.get_name()+":before{color:"+f+";}";
}try{i.text(g);
}catch(h){i.prop("styleSheet").cssText=g;
}}};
c.LightweightColorPickerView.registerClass("Telerik.Web.UI.Editor.UI.LightweightColorPickerView",c.LightweightEditorSplitButtonView);
c.ClassicAlignmentSelectorView=function(e){c.ClassicAlignmentSelectorView.initializeBase(this,[e]);
this._alignmentClassName=["reNoAlignment","reNoAlignment","reNoAlignment","reTopLeft","reTopCenter","reTopRight","reMiddleLeft","reMiddleCenter","reMiddleRight","reBottomLeft","reBottomCenter","reBottomRight"];
};
c.ClassicAlignmentSelectorView.prototype={renderItemRoot:function(){var e=document.createElement("table");
e.border=0;
e.cellPadding=0;
e.setAttribute("unselectable","on");
e.style.cursor="default";
if(this.owner.get_enableAriaSupport()){e.setAttribute("role","presentation");
}return e;
},renderNewRow:function(e){return e.insertRow(-1);
},renderItemContainer:function(g){var f=g.rows[g.rows.length-1];
if(!f){f=this.renderNewRow(g);
}var e=f.insertCell(-1);
return e;
},renderChild:function(e,f,g){var h=document.createElement("div");
if(f){h.innerHTML="&nbsp;";
h.className=this._alignmentClassName[g];
}e.appendChild(h);
},getItemElements:function(e){return e.getElementsByTagName("TD");
},getSplitArrow:function(){var f=this.owner.getAnchorElement().getElementsByTagName("SPAN");
var e=f[f.length-1];
return e;
},decorate:function(e){var f=this.owner.getSpanElement();
f.className=e;
}};
c.ClassicAlignmentSelectorView.registerClass("Telerik.Web.UI.Editor.UI.ClassicAlignmentSelectorView",c.ClassicEditorSplitButtonView);
c.LightweightAlignmentSelectorView=function(e){c.LightweightAlignmentSelectorView.initializeBase(this,[e]);
this._alignmentClassName=["reNoAlignment","reNoAlignment","reNoAlignment","reTopLeft","reTopCenter","reTopRight","reMiddleLeft","reMiddleCenter","reMiddleRight","reBottomLeft","reBottomCenter","reBottomRight"];
};
c.LightweightAlignmentSelectorView.prototype={renderItemRoot:function(){var e=document.createElement("table");
e.border=0;
e.cellPadding=0;
e.setAttribute("unselectable","on");
e.style.cursor="default";
if(this.owner.get_enableAriaSupport()){e.setAttribute("role","presentation");
}return e;
},renderNewRow:function(e){return e.insertRow(-1);
},renderItemContainer:function(g){var f=g.rows[g.rows.length-1];
if(!f){f=this.renderNewRow(g);
}var e=f.insertCell(-1);
return e;
},renderChild:function(e,f,g){var h=document.createElement("div");
if(f){h.innerHTML="&nbsp;";
h.className=this._alignmentClassName[g];
}e.appendChild(h);
},getItemElements:function(e){return e.getElementsByTagName("TD");
},getSplitArrow:function(){return a(this.owner.getAnchorElement()).find(".reSplitArrow").get(0);
},decorate:function(e){a(this.owner.get_element()).removeClass("reNoAlignment reTopLeft reTopCenter reTopRight reMiddleLeft reMiddleCenter reMiddleRight reBottomLeft reBottomCenter reBottomRight").addClass(e);
}};
c.LightweightAlignmentSelectorView.registerClass("Telerik.Web.UI.Editor.UI.LightweightAlignmentSelectorView",c.LightweightEditorSplitButtonView);
c.ClassicInsertCustomLinkDropDownView=function(e){var f=this;
c.ClassicInsertCustomLinkDropDownView.initializeBase(f,[e]);
f._emptyIcon="reIcon_empty";
f._expandIcon="reIcon_plus";
f._collapseIcon="reIcon_minus";
f._linkCounter=0;
};
c.ClassicInsertCustomLinkDropDownView.prototype={renderItemRoot:function(){var e=document.createElement("ul");
e.className="reCustomLinks";
this._itemRootElement=e;
return this._itemRootElement;
},renderNewRow:function(e){},renderHeader:function(){},renderFooter:function(){},renderItemContainer:function(f){var e=document.createElement("li");
f.appendChild(e);
return e;
},renderChild:function(f,g,k){f.item_index=d;
var q=this;
var l=q._linkCounter;
q._linkCounter++;
q.owner.FlatLinksArray[l]=g;
var h=g.childLinks&&g.childLinks.length;
var n=document.createElement("span");
n.innerHTML="&nbsp;";
n.className="reCustomLinksIcon ";
n.className+=h?q._expandIcon:q._emptyIcon;
if(h){$addHandler(n,"click",function(s){var t=Sys.UI.DomElement.containsCssClass(this,q._expandIcon);
var u=this.parentNode.getElementsByTagName("UL")[0];
if(u){u.style.display=t?"":"none";
var r=t?q._expandIcon:q._collapseIcon;
var i=t?q._collapseIcon:q._expandIcon;
Sys.UI.DomElement.removeCssClass(this,r);
Sys.UI.DomElement.addCssClass(this,i);
}return $telerik.cancelRawEvent(s);
});
}f.appendChild(n);
var m=null;
if(g.href){m=document.createElement("a");
m.href="#";
m.innerHTML=g.name;
f.appendChild(m);
this.owner.markItemContainer(m,l);
}else{m=document.createElement("span");
m.innerHTML=g.name;
f.appendChild(m);
}if(h){var p=document.createElement("ul");
f.appendChild(p);
var e=g.childLinks;
for(var j=0;
j<g.childLinks.length;
j++){var o=e[j];
this.renderChild(q.renderItemContainer(p),o);
}p.style.display="none";
}},getItemElements:function(e){return null;
}};
c.ClassicInsertCustomLinkDropDownView.registerClass("Telerik.Web.UI.Editor.UI.ClassicInsertCustomLinkDropDownView",c.ClassicEditorDropDownView);
c.LightweightInsertCustomLinkDropDownView=function(e){var f=this;
c.LightweightInsertCustomLinkDropDownView.initializeBase(f,[e]);
f._emptyIcon="reIconEmpty";
f._expandIcon="reIconAdd";
f._collapseIcon="reIconRemove";
f._linkCounter=0;
};
c.LightweightInsertCustomLinkDropDownView.prototype={renderItemRoot:function(){var e=document.createElement("ul");
e.className="reCustomLinks";
this._itemRootElement=e;
return this._itemRootElement;
},renderNewRow:function(e){},renderHeader:function(){},renderFooter:function(){},renderItemContainer:function(f){var e=document.createElement("li");
f.appendChild(e);
return e;
},renderChild:function(f,g,k){delete f.item_index;
var q=this;
var l=q._linkCounter;
q._linkCounter++;
q.owner.FlatLinksArray[l]=g;
var h=g.childLinks&&g.childLinks.length;
var n=document.createElement("span");
n.innerHTML="&nbsp;";
n.className="reCustomLinksIcon ";
n.className+=h?q._expandIcon:q._emptyIcon;
if(h){$addHandler(n,"click",function(s){var t=Sys.UI.DomElement.containsCssClass(this,q._expandIcon);
var u=this.parentNode.getElementsByTagName("UL")[0];
if(u){u.style.display=t?"":"none";
var r=t?q._expandIcon:q._collapseIcon;
var i=t?q._collapseIcon:q._expandIcon;
Sys.UI.DomElement.removeCssClass(this,r);
Sys.UI.DomElement.addCssClass(this,i);
}return $telerik.cancelRawEvent(s);
});
}f.appendChild(n);
var m=null;
if(g.href){m=document.createElement("a");
m.href="#";
m.innerHTML=g.name;
f.appendChild(m);
this.owner.markItemContainer(m,l);
}else{m=document.createElement("span");
m.innerHTML=g.name;
f.appendChild(m);
}if(h){var p=document.createElement("ul");
f.appendChild(p);
var e=g.childLinks;
for(var j=0;
j<g.childLinks.length;
j++){var o=e[j];
this.renderChild(q.renderItemContainer(p),o);
}p.style.display="none";
}},getItemElements:function(e){return null;
}};
c.LightweightInsertCustomLinkDropDownView.registerClass("Telerik.Web.UI.Editor.UI.LightweightInsertCustomLinkDropDownView",c.LightweightEditorDropDownView);
})($telerik.$,Telerik.Web.UI,Telerik.Web.UI.Editor.UI);
(function(a,v){Type.registerNamespace("Telerik.Web.UI");
var c=Telerik.Web.UI;
var j=window;
var d=j.$telerik;
var b=c.Editor;
var i=b.Utils;
var n=a.proxy;
var g=".";
var e=10;
var u="type";
var h="duration";
var m="none";
var t="toolBarAnimation";
var s="ToggleEditMode";
var o="RadEditor";
var r="reWrapper";
var q="reDropDownBody";
var p="reDropdown";
var f="div[id*='dialogOpener'].RadWindow";
var l="reInlineEditorSelected";
var k="inlineEditCompleted";
b.DefaultToolAdapter=function(w){var x=this;
b.DefaultToolAdapter.initializeBase(x,[w]);
x._editor=null;
x._toolJSON=[];
x._tools=[];
x._contextMenusEnabled=true;
x.isIE=d.isIE;
x._editorIEFirstShow=false;
x._contentAreaMode="";
x._animation={};
x._toolBarInitialShowExecuted=null;
x._inlineEditingStarted=false;
};
b.DefaultToolAdapter._visibleWrapper=null;
b.DefaultToolAdapter.prototype={initialize:function(){var y=this;
var w=y.get_editor();
var z=w.get_toolbarMode();
var x=c.EditorToolbarMode;
this._onEditorSelectionChangeDelegate=Function.createDelegate(this,this._onEditorSelectionChange);
this._onEditorModeChangeDelegate=Function.createDelegate(this,this._onEditorModeChange);
this._onToolBarClickDelegate=Function.createDelegate(this,this._onToolBarClick);
this._onToolBarKeyDownDelegate=Function.createDelegate(this,this._onToolBarKeyDown);
this._onDropDownValueSelectedDelegate=Function.createDelegate(this,this._onDropDownValueSelected);
this._onDropDownBeforeShowDelegate=Function.createDelegate(this,this._onDropDownBeforeShow);
this._onDropDownHideDelegate=Function.createDelegate(this,this._onDropDownHide);
this._onClientDragStartDelegate=Function.createDelegate(this,this._onClientDragStart);
y._changeToolBarVisibilityDelegate=n(y._changeToolBarVisibility,y);
y._initializeAnimation();
this._initContextMenus();
this._registerEditorHandlers();
switch(z){case x.Default:w.add_firstShow(Function.createDelegate(this,function(){this._attachToolbarJsonToHtml();
}));
break;
case x.Floating:this._createFloatingButton();
break;
case x.PageTop:case x.ShowOnFocus:this._attachToolBarEventHandlers();
break;
}if(w._isInInlineEditMode()){y._attachToolBarEventHandlers();
}this._registerToolBarHolderHandlers();
},repaint:function(){},_attachToolbarJsonToHtml:function(){var D=this;
var x=D.get_editor();
if(this._initializedToolbars){return;
}this._initializedToolbars=true;
var F=this.get_toolJSON(),E=this._getToolBarElements(),G=[],B,H;
for(B=0;
B<F.length;
B++){var C=F[B];
var A=E[B];
this._initializeToolbar(C,A);
var w=C.attributes;
H=w?w.dockingzone:null;
if(H){G[G.length]=[H,A];
}}if(d.isIE){var z=this.get_element();
if(!x._isInInlineEditMode()){z.style.height="";
}}var y=x.get_id();
for(B=0;
B<G.length;
B++){var J=G[B][0];
H=J.charAt(0).toUpperCase()+J.substring(1);
if(H=="Top"){continue;
}var I=$get(y+H);
if(x.get_renderMode()==c.RenderMode.Lite&&(H=="Left"||H=="Right")){d.$(I).addClass("reToolBarWrapper reToolBarWrapper"+H);
d.$(x.get_element()).addClass("reToolBar"+H);
}if(!I){I=$get(J);
}if(I){if(I.innerHTML=="&nbsp;"){I.innerHTML="";
}I.appendChild(G[B][1]);
}}},_setToolbarHolderProperties:function(){var w=this.get_editor();
var y=w.get_toolbarMode();
var A=this._toolbarHolder;
var z=c.WindowBehaviors;
var x=c.EditorToolbarMode;
if((y===x.ShowOnFocus)||(y===x.PageTop)||w._isInInlineEditMode()){A.set_behaviors(z.None);
A.set_visibleTitlebar(false);
}else{A.set_behaviors(z.Move+z.Close+z.Pin);
}this.get_element().style.visibility="visible";
},_showToolbarHolder:function(y){var z=this;
var w=z.get_editor();
var x=c.EditorToolbarMode;
if(!y){if(this._toolbarHolder){this._toolbarHolder.hide();
}return;
}if(w.isFullScreen()){return;
}var B=b.DefaultToolAdapter._visibleWrapper;
if(B==this&&B._toolbarHolder&&B._toolbarHolder.isVisible()){B.get_toolbarHolder().setActive(true);
return;
}if(B&&B._showToolbarHolder){B._showToolbarHolder(false);
}b.DefaultToolAdapter._visibleWrapper=this;
this.get_window();
this._setToolbarHolderProperties();
this._toolbarHolder.show();
if(w._isInInlineEditMode()&&!z._toolBarInitialShowExecuted){z._toolBarInitialShowExecuted=true;
z._hidePopup();
}if(d.isIE&&this._fakeToolbarParentCreated){var A=w.get_toolbarMode();
if(A===x.ShowOnFocus||A===x.PageTop||w._isInInlineEditMode()){this._fakeToolBarParent.style.display="none";
}}},_hidePopup:function(){var x=this;
var y=x.get_toolbarHolder();
var w=y?y.get_popupElement():null;
if(w){a(w).css({display:m});
}},_positionWindow:function(){var x=Telerik.Web.UI.EditorToolbarMode;
var w=this.get_editor();
var y=w.get_toolbarMode();
if(y==x.ShowOnFocus||w._isInInlineEditMode()){this._positionToolbarAboveEditor();
}else{if(y==x.PageTop){this._positionOnPageTop();
}else{if(y==x.Floating){if(!this._wasShown){this._positionToolbarAboveEditor();
this._wasShown=true;
}}}}},get_window:function(){if(!this._toolbarHolder){var z=this;
var x=z.get_editor();
var B=x.get_toolbarMode();
var A=Telerik.Web.UI.EditorToolbarMode;
var y=x.get_dialogOpener();
var w;
var C;
if((B==A.Default||B==A.RibbonBar)&&!x._isInInlineEditMode()){return null;
}if(!y){return;
}w=y.get_container();
if(!w){return;
}C=w.clone(x.get_id()+"_toolbarMode");
C.set_visibleStatusbar(false);
C.set_keepInScreenBounds(B==A.RibbonBarFloating||B==A.Floating);
C.setSize(this.get_element().offsetWidth+10,1);
C.add_show(Function.createDelegate(this,function(E,D){var G=x.get_toolbarMode(),F=Telerik.Web.UI.EditorToolbarMode;
if(C._renderMode==Telerik.Web.UI.RenderMode.Lite){this._onWindowShowLite(E,D);
}else{this._onWindowShow(E,D);
}this._positionWindow();
if(G==F.PageTop||G==F.RibbonBarPageTop){E.get_popupElement().style.height="";
E.get_contentElement().style.height="";
}}));
this._toolbarHolder=C;
if(x._isInInlineEditMode()){z._setToolBarAnimation();
}this._moveToolbarsToEditor(false);
}return this._toolbarHolder;
},_onWindowShowLite:function(E,x){var F=this;
var y=F.get_editor();
var z=y.get_element();
var A=E.get_contentElement();
var C=E.get_popupElement();
var w=a(C);
var H=y.get_toolbarMode();
var G=c.EditorToolbarMode;
var B=y._isInInlineEditMode();
if(!A||!C){return;
}C.style.zIndex="10000";
a(C).addClass("reToolbarWindow");
a(C).addClass(a(z).attr("class")+" reToolbarWindow");
if(B){w.removeClass(l);
}F._setToolBarWidth(E);
E.setActive(true);
a(".rwContent",C).css("padding","1px 0px 0px 0px");
this._attachToolbarJsonToHtml();
var D=function(){C.style.height="";
A.style.height="";
};
switch(H){case G.ShowOnFocus:D();
break;
case G.RibbonBarPageTop:case G.RibbonBarFloating:case G.RibbonBarShowOnFocus:case G.RibbonBar:D();
A.style.overflow="hidden";
a(".rwContent",C).css("padding","0px 0px 5px 0px");
break;
}if(B){D();
}},_onWindowShow:function(A,w){var B=this;
var x=B.get_editor();
var y=x._isInInlineEditMode();
var C=A.get_contentElement();
var z;
if(!C){return;
}z=A.get_popupElement();
z.style.zIndex="10000";
A.setActive(true);
Sys.UI.DomElement.addCssClass(z,"reToolbarWindow");
if(y){B._addInlineEditModeStyles(z);
}this._attachToolbarJsonToHtml();
C.style.overflow="";
B._setToolBarWidth(A);
C.style.width="100%";
},_setToolBarWidth:function(A){var z=this;
var w=z.get_editor();
var y=w.get_element();
var B=w.get_toolsWidth();
var x;
if(!B){x=d.getSize(y);
A.set_width(x.width);
}else{A.set_width(B);
}},_addInlineEditModeStyles:function(y){var A=this;
var x=A.get_editor();
var z=x.get_skin();
var w=a(y);
w.addClass(o);
w.addClass(z);
w.addClass(r);
},_initializeAnimation:function(){var y=this;
var x=y.get_editor();
var w=x._animationSettings;
if(w){y._animation=w[t];
}},get_animationType:function(){var y=this;
var w=y._getAnimation();
var x=w?w[u]:null;
return x;
},set_animationType:function(x){var w=this;
if(w._toolbarHolder){w._animation[u]=x;
w._toolbarHolder.set_animation(x);
}},get_animationDuration:function(){var y=this;
var w=y._getAnimation();
var x=w?w[h]:null;
return x;
},set_animationDuration:function(x){var w=this;
if(w._toolbarHolder){w._animation[h]=x;
w._toolbarHolder.set_animationDuration(x);
}},_setToolBarAnimation:function(z){var x=this;
var y=x.get_toolbarHolder();
var w=x._getAnimation();
if(w){y.set_animation(w[u]);
y.set_animationDuration(w[h]);
}},_getAnimation:function(){return this._animation;
},_moveToolbarsToEditor:function(y){var x=this.get_element();
if(!y){if(!this._fakeToolbarParentCreated){var w=this._fakeToolBarParent=x.ownerDocument.createElement("div");
w.control=x.control;
x.parentNode.appendChild(w);
this._fakeToolbarParentCreated=true;
x.control=null;
var z=w.style;
z.height=z.fontSize=z.lineHeight="1px";
z.border="1px solid red";
z.visibility="hidden";
if(!d.isIE){z.display="none";
}}var B=this.get_toolbarHolder();
B.set_contentElement(x);
x.style.width="100%";
}else{x.style.width="";
var A=this.get_editor().get_TopZone();
A.appendChild(x);
}},_positionToolbarAboveEditor:function(){var C=this._toolbarHolder;
var A=C.get_popupElement();
if(A){A.style.height="";
}var w=this.get_editor();
var z=d.getBounds(w.get_element());
var D=z.x;
var B=d.getBounds(C.get_popupElement()).height;
var E=z.y-B;
C.moveTo(D,E);
},_positionOnPageTop:function(){var A=this._toolbarHolder;
var w=A._getViewportBounds();
var B=w.scrollLeft;
var C=w.scrollTop;
A.moveTo(B,C);
var z=this.get_editor().get_toolsWidth();
if(z&&z.indexOf("%")==-1){A.set_width(z);
}else{A.get_popupElement().style.width="";
}if(!A.isPinned()){A.togglePin();
}},_createFloatingButton:function(){this._onToggleFloatingToolbarDelegate=Function.createDelegate(this,this._onToggleFloatingToolbar);
var x=this.get_editor();
var C=x.get_skin();
var A=x.getLocalizedString("ToggleFloatingToolbar");
var D={name:"ToggleFloatingToolbar",text:(null==A)?"ToggleFloatingToolbar":A,addClickHandler:true,skin:C};
var z={valueSelected:this._onToggleFloatingToolbarDelegate};
var B=x.get_renderMode()==Telerik.Web.UI.RenderMode.Lite?"Lightweight":Telerik.Web.UI.RenderMode.toString(x.get_renderMode());
var w=Telerik.Web.UI.Editor.UI.StaticToolsUI.createTool(B,D,z);
var y=Telerik.Web.UI.Editor.UI.StaticToolsUI.createToolWrapper(B,w,C);
var E=$get(x.get_id()+"Top");
if(E){E.appendChild(y);
}},_onToggleFloatingToolbar:function(){var w=!this._toolbarHolder||!this._toolbarHolder.isVisible();
this._showToolbarHolder(w);
},_attachToolBarEventHandlers:function(){var A=this;
var w=A.get_editor();
var y=function(){A._showToolbarHolder(true);
w._addInlineEditorSelectedStyles();
};
var z=function(){var C=A.get_editor();
if(!A._editorIEFirstShow){var B=C.get_toolbarMode();
var D=Telerik.Web.UI.EditorToolbarMode;
if(!C._emptyMessageContainer&&(B!=D.Floating||B!=D.RibbonBarFloating)){A._editorIEFirstShow=true;
return;
}}y();
};
var x=this.get_editor();
if(x.isIE){if(w._isInInlineEditMode()){x.add_selectionChange(y);
}else{this.get_editor().add_editReady(function(){x.attachInternalHandler("beforeeditfocus",z);
x.attachInternalHandler("focusin",y);
});
}}else{x.add_selectionChange(y);
}x.add_modeChange(A._changeToolBarVisibilityDelegate);
x.add_submit(function(){A._showToolbarHolder(false);
});
x.add_toggleScreenMode(function(){var B=A.get_editor();
var C=B.isFullScreen();
A._moveToolbarsToEditor(C);
var D=A.get_toolbarHolder();
if(C){D.hide();
}else{D.show();
}});
A._bodyClickDelegate=Function.createDelegate(A,A._onBodyClick);
d.addExternalHandler(document.body,"mouseup",A._bodyClickDelegate);
if(this.get_editor().get_contentAreaMode()==Telerik.Web.UI.EditorContentAreaMode.Div){this._divContentAreaMouseDownDelegate=Function.createDelegate(this,this._onBodyMouseDown);
d.addExternalHandler(document.body,"mousedown",this._divContentAreaMouseDownDelegate);
}},_changeToolBarVisibility:function(){var z=this;
var y=z.get_editor();
var w=y.get_mode();
var x=c.EditModes;
if(!y._isInInlineEditMode()){z._showToolbarHolder(w===x.Design);
}},_disposeToolbarModeHandlers:function(){var w=this;
if(this._bodyClickDelegate){d.removeExternalHandler(document.body,"mouseup",this._bodyClickDelegate);
this._bodyClickDelegate=null;
}if(this._divContentAreaMouseDownDelegate){d.removeExternalHandler(document.body,"mousedown",this._divContentAreaMouseDownDelegate);
this._divContentAreaMouseDownDelegate=null;
}w._changeToolBarVisibilityDelegate=null;
},onContextMenu:function(y){if(!this._contextMenusEnabled){return;
}var z=this.get_editor();
if(z.get_mode()!=Telerik.Web.UI.EditModes.Design){return;
}this.createContextMenus();
var A=y.srcElement?y.srcElement:y.target;
if(z.get_enableImmutableElements()&&Telerik.Web.UI.Editor.Utils.isImmutableNode(A)){return;
}var B=A.tagName;
var w=this._contextMenus[B];
if("TH"==B&&!w){w=this._contextMenus.TD;
}var x="";
if(!w){var D=Telerik.Web.UI.Editor.Utils.getElementParentByTag(A,"A");
if(!D){D=Telerik.Web.UI.Editor.Utils.getElementParentByTag(A,"TD");
}if(!D){D=Telerik.Web.UI.Editor.Utils.getElementParentByTag(A,"TABLE");
}if(D){x=D.tagName;
A=D;
}else{x="*";
}w=this._contextMenus[x];
}if(w&&B=="IMG"&&A&&"true"==A.getAttribute("isflash")){w=null;
}if(!this.isIE&&x=="*"){return;
}if(w){w.set_eventObject(y);
w.show();
if(d.isSafari){try{var E=A.tagName;
if(E=="IMG"||E=="TABLE"||E=="TD"||E=="TR"){z.selectElement(A);
}}catch(C){}}}return d.cancelRawEvent(y);
},enableContextMenus:function(w){this._contextMenusEnabled=w;
},_initContextMenus:function(){var w=Function.createDelegate(this,this.onContextMenu);
var x=this.get_editor();
x.add_editReady(function(){x.attachInternalHandler("contextmenu",w);
});
},createContextMenus:function(){if(this._contextMenus){return;
}this._contextMenus={};
var y=this.get_editor();
var B=y.get_skin();
var x=y.get_contextMenusJSON();
var z={valueSelected:this._onDropDownValueSelectedDelegate,show:this._onDropDownBeforeShowDelegate,hide:this._onDropDownHideDelegate};
for(var A=0;
A<x.length;
A++){var w=x[A];
w.sizetofit=true;
w.parentElement=y.get_contentAreaElement();
w.skin=B;
w._rendermode=Telerik.Web.UI.RenderMode.toString(y.get_renderMode())=="Lite"?"Lightweight":Telerik.Web.UI.RenderMode.toString(y.get_renderMode());
var D=$create(Telerik.Web.UI.EditorContextMenu,w,z,null,document.createElement("span"));
var C=w.tagName?w.tagName:"*";
this._contextMenus[C]=D;
}},dispose:function(){delete this._fakeToolbarParentCreated;
var x=this._getToolBarElements();
if(x){for(var w=0;
w<x.length;
w++){$clearHandlers(x[w]);
}}this._tools=[];
this._disposeToolbarModeHandlers();
var y=this._toolbarHolder;
if(y&&y.dispose){y.dispose();
}Telerik.Web.UI.Editor.DefaultToolAdapter.callBaseMethod(this,"dispose");
},setFocus:function(){var w=this._tools[0];
window.setTimeout(function(){if(w){w.setFocus();
}},100);
return false;
},getContextMenuByTagName:function(w){this.createContextMenus();
return this._contextMenus[w];
},getToolByName:function(x){for(var w=0;
w<this._tools.length;
w++){var y=this._tools[w];
if(y&&y.get_name()==x){return y;
}}return null;
},setToolState:function(D,y){if(!D){D=this._tools;
}var w=this.get_editor(),A=this._rangeState||c.Editor.DomRange.rangeFromWindow(w.get_contentWindow());
for(var x=0;
x<D.length;
x++){var z=D[x];
if(z.get_name){var C=z.get_name();
if(z.setState){var B=y;
if(null==B){B=w.getToolState(C,A);
}if(null!=B){z.setState(B);
}}if(z.updateValue){z.updateValue(w.getToolValue(C,A));
}}}this._rangeState=null;
},_convertCommandsArray:function(x){var B=[];
for(var A=0;
A<x.length;
A++){var y=x[A];
var z=(A+1)+". "+y.get_title();
if(y.get_argument){var w=y.get_argument();
if(w){z+=' ["'+w+'"]';
}}B[A]=[A+1,z];
}return B;
},_onDropDownHide:function(y,w){var x=this.get_editor();
x.enableContentArea(true);
},_onClientDragStart:function(x,w){Telerik.Web.UI.Editor.PopupController.hideActivePopup();
},_onDropDownBeforeShow:function(P,x){var A=this.get_editor();
var B;
var y;
if(d.isIE&&Telerik.Web.UI.EditorSplitButton.isInstanceOfType(P)&&P.isArrowClicked(event?event.srcElement:null)){A.setFocus();
}if(Telerik.Web.UI.EditorToolStrip.isInstanceOfType(P)){this.setToolState(P.get_items());
}if(!A.getSelection().isControl()&&!Telerik.Web.UI.EditorContextMenu.isInstanceOfType(P)){A.enableContentArea(false);
}var R=P.get_name();
if(R=="Undo"){var S=A.get_commandsManager().getCommandsToUndo();
S=this._convertCommandsArray(S);
P.set_items(S);
}else{if(R=="Redo"){var N=A.get_commandsManager().getCommandsToRedo();
N=this._convertCommandsArray(N);
P.set_items(N);
}else{if(R=="ModuleManager"){var C=A.get_renderMode()==c.RenderMode.Classic;
var H=A.get_modulesManager();
var F=C?"reModule_hidden_icon":"ModuleHiddenIcon";
var J=C?"reModule_visible_icon":"ModuleVisibleIcon";
if(!H){return;
}var I=H.get_modules();
var G=[];
for(B=0;
B<I.length;
B++){var E=I[B];
var K=E.get_name();
var Q=E.get_title();
if(!Q){Q=K;
}y=E.get_visible()?J:F;
G[B]=[K,Q,y];
}P.set_updateHeader(false);
P.set_items(G);
}}}var z=P.get_items();
if(A.get_enableComments()||A.get_enableTrackChanges()){var O=A.getSelectedElement();
if(O){var M=Telerik.Web.UI.Editor.TrackChangesSelection.locateElementInRange(A.getSelection().getRange(),"placeholder");
if(M.fullySelected){var w=-1;
for(var D=0;
D<z.length;
D++){if("AddComment"==z[D]._name){w=D;
break;
}}if(w>-1){z[w].set_enabled(false);
}}}}if(z&&z.length>0){return;
}var L=null;
switch(R){case"ApplyClass":L=A.getCssArray();
break;
case"FontName":L=Array.clone(A.get_fontNames());
break;
case"FontSize":L=A.get_fontSizes();
break;
case"InsertSymbol":L=A.get_symbols();
if((d.isIE||d.isSafari)&&L&&L.length){for(B=0;
B<L.length;
B++){if(L[B]=="&"){L[B]="&amp;";
}if(L[B]=="<"){L[B]="&lt;";
}}}break;
case"BackColor":case"ForeColor":L=A.get_colors();
break;
case"RealFontSize":L=A.get_realFontSizes();
break;
case"InsertSnippet":L=A.get_snippets();
break;
case"Zoom":L=["10%","20%","50%","100%","150%","200%","300%","500%"];
break;
case"FormatBlock":L=A.get_paragraphs();
break;
case"FormatSets":L=A.get_formatSets();
break;
case"InsertCustomLink":L=A.get_links();
break;
case"AjaxSpellCheck":case"SpellCheck":L=A.get_languages();
break;
}if(L){P.set_items(L);
}},_initializeToolbar:function(O,L){var M=this._getToolBarItemElements(L);
var N=O.tools;
var z=this.get_editor();
var J=z.get_skin();
var H=0;
if(N){var P=0;
var G=N.length;
for(var C=0;
C<G;
C++){var E=this._getItemElementByIndex(M,C);
if(typeof(E)=="undefined"){break;
}var Q=this._getToolElement(E);
P+=E.offsetWidth;
var w=N[C];
var T=w.type;
var S=w.name;
var R=Telerik.Web.UI.EditorToolType;
var x=Telerik.Web.UI.EditorButton;
var K=null;
var U=false;
var A=z.get_enableAriaSupport();
if(A){M[C].setAttribute("role","presentation");
var F=M[G+1];
if(F){F.setAttribute("role","presentation");
}if(T!=R.Separator){E.setAttribute("role","presentation");
}}if(T){switch(T){case R.Button:break;
case R.Separator:if(!H){H+=parseInt(d.getCurrentStyle(E,"marginLeft"),e);
H+=parseInt(d.getCurrentStyle(E,"marginRight"),e);
if(A){E.setAttribute("role","separator");
}}P+=H;
x=null;
break;
case R.DropDown:x=Telerik.Web.UI.EditorDropDown;
if(S=="FontName"){x=Telerik.Web.UI.Editor.FontNameDropDown;
}else{if(S=="FontSize"){x=Telerik.Web.UI.Editor.FontSizeDropDown;
}else{if(S=="FormatBlock"||S=="RealFontSize"||S=="Zoom"){x=Telerik.Web.UI.EditorUpdateableDropDown;
}else{if(S=="FormatSets"){x=Telerik.Web.UI.Editor.FormatSetsDropDown;
}else{if(S=="ApplyClass"){x=Telerik.Web.UI.Editor.ApplyClassDropDown;
}else{if(S=="InsertCustomLink"){x=Telerik.Web.UI.Editor.InsertCustomLinkDropDown;
}}}}}}U=true;
break;
case R.SplitButton:x=Telerik.Web.UI.EditorSplitButton;
if(S=="ForeColor"||S=="BackColor"){x=Telerik.Web.UI.Editor.ColorPicker;
w.addCustomColorText=z.getLocalizedString("AddCustomColor");
}else{if(S=="Undo"||S=="Redo"){x=Telerik.Web.UI.Editor.UndoRedoDropDown;
}}U=true;
break;
case R.ToolStrip:x=Telerik.Web.UI.EditorToolStrip;
if(S=="InsertTable"){x=Telerik.Web.UI.Editor.InsertTable;
}if(S=="FormatPainter"){x=Telerik.Web.UI.Editor.FormatPainterStrip;
}U=true;
break;
case R.Custom:break;
}}if(w.attributes){for(var D in w.attributes){w[D.toLowerCase()]=w.attributes[D];
}}if(x){var B=null;
if(U){B={valueSelected:this._onDropDownValueSelectedDelegate,show:this._onDropDownBeforeShowDelegate,hide:this._onDropDownHideDelegate};
w.skin=J;
}K=$create(x,w,B,null,Q);
if(this.get_contentAreaMode()==Telerik.Web.UI.EditorContentAreaMode.Div){K.set_contentAreaMode(Telerik.Web.UI.EditorContentAreaMode.Div);
}if(K.set_enableAriaSupport&&T!=R.Separator){K.set_enableAriaSupport(A);
}}if(K){Array.add(this._tools,K);
var I=K.get_shortCut();
if(I){var y=K.get_name();
if(Telerik.Web.UI.EditorDropDown.isInstanceOfType(K)&&y!="Undo"&&y!="Redo"){y="reToolAdapter_"+y;
Telerik.Web.UI.Editor.CommandList[y]=this._toolAdapterDropDownExpander;
}z.setShortCut(y,I);
}this._attachHandlerToToolElementParent(Q);
}}this._toolbarSizeFixIE(L);
this._attachHandlerToToolbarElement(L);
}},_getToolBarItemElements:function(w){return w.getElementsByTagName("li");
},_getItemElementByIndex:function(x,w){return this._editor._renderMode==c.RenderMode.Classic?x[w+1]:x[w];
},_getToolElement:function(w){return w.firstChild;
},_attachHandlerToToolbarElement:function(w){$addHandlers(w,{click:this._onToolBarClickDelegate,keydown:this._onToolBarKeyDownDelegate},this);
},_attachHandlerToToolElementParent:function(w){},_toolbarSizeFixIE:function(w){if(!d.isIE7){return;
}var x=0;
a(w).children().each(function(y,z){x+=z.offsetWidth;
});
w.style.width=x+"px";
},_toolAdapterDropDownExpander:function(w,x){var y=x.getToolByName(w.replace("reToolAdapter_",""));
y.setFocus();
y.show();
y.selectNextItem();
return false;
},_onEditorModeChange:function(C,w){var D=this;
var y=D.get_editor();
var x=Telerik.Web.UI.EditModes,B=C.get_mode(),A=d.isIE&&(d.isIE10Mode&&!d.isIE10);
this._setEnabled(B==x.Design);
if(!d.isFirefox&&!d.isOpera&&!A&&B==x.Html){var z=this.getToolByName("FindAndReplace");
if(z){this._setToolEnabled(z,true);
}}if(y._isInInlineEditMode()){D._enableToggleEditModeTool();
y._addInlineEditorSelectedStyles();
}},_enableToggleEditModeTool:function(){var x=this;
var w=x.getToolByName(s);
if(w){w.set_enabled(true);
}},_onEditorSelectionChange:function(x,w){this.setToolState();
},_setEnabled:function(x){var y=this;
var z=y._tools;
var A=z.length;
var w;
for(w=0;
w<A;
w++){z[w].set_enabled(x);
}},_setToolEnabled:function(x,w){x.set_enabled(w);
},_registerEditorHandlers:function(){var w=this.get_editor();
w.add_selectionChange(this._onEditorSelectionChangeDelegate);
w.add_modeChange(this._onEditorModeChangeDelegate);
},_registerToolBarHolderHandlers:function(){var w=this.get_editor();
if(w.get_toolbarMode()==Telerik.Web.UI.EditorToolbarMode.Floating){var x=this.get_toolbarHolder();
if(typeof(x)!="undefined"){x.add_dragStart(this._onClientDragStartDelegate);
}}},_onBodyMouseDown:function(w){var x=w.srcElement||w.target;
this._updateMouseIsDownOnContentAreaFlag(x);
},_updateMouseIsDownOnContentAreaFlag:function(x){var y=this;
var w=y.get_editor().get_contentArea();
y._mouseIsDownOnContentArea=d.isDescendantOrSelf(w,x)||i.isEditorEmptyMessage(x);
},_onBodyClick:function(w){var B=this;
var x=this.get_editor();
var C=this.get_toolbarHolder();
var A=C?C.get_popupElement():null;
var z=w.srcElement||w.target;
var y=this.get_element();
if((y&&!d.getVisible(y))||(x.get_mode()==c.EditModes.Html&&z===x.get_textArea())){return;
}if(A){this._mouseIsDownOnToolbarHolder=d.isDescendantOrSelf(A,z);
}if(x&&x.get_contentAreaMode()==c.EditorContentAreaMode.Div){if(!w){w=window.event;
}if(d.isDescendantOrSelf(this.get_editor().get_contentArea(),z)){this._preventToolbarFromHiding=true;
}}if(x._isInInlineEditMode()){B._onInlineEditModeBodyClick(z);
}if(this._preventToolbarFromHiding){this._preventToolbarFromHiding=false;
return;
}if(this._mouseIsDownOnContentArea!==true&&this._mouseIsDownOnToolbarHolder!==true){this._showToolbarHolder(false);
}if(this._mouseIsDownOnContentArea!==v){this._mouseIsDownOnContentArea=false;
}},_onInlineEditModeBodyClick:function(w){var x=this;
x._updateEditMode();
x._updateMouseIsDownOnContentAreaFlag(w);
x._updateInlineEditorSelectedStyle(w);
x._updateToolbarVisibilityFlag(w);
x._handleInlineEditCompletedEvent(w);
},_updateEditMode:function(){var z=this;
var y=z.get_editor();
var x=c.EditModes;
var w=y.get_mode();
if(z._mouseIsDownOnToolbarHolder===false&&w===x.Html){y.fire(s,{});
}},_updateInlineEditorSelectedStyle:function(x){var y=this;
var w=y.get_editor();
if(y._isElementOutsideOfEditor(x)){w._removeInlineEditorSelectedStyles();
}},_isElementOutsideOfEditor:function(w){var z=this;
var x=null;
var y=z._mouseIsDownOnToolbarHolder;
x=!y&&z._mouseIsDownOnContentArea===false&&z._isElementInDialog(w)===false&&z._isElementInDropDown(w)===false;
return x;
},_updateToolbarVisibilityFlag:function(w){var x=this;
if(x._isElementInDialog(w)||x._isElementInDropDown(w)){x._preventToolbarFromHiding=true;
}},_isElementInDialog:function(w){var x=a(w).parents(f);
return(x.length>0);
},_isElementInDropDown:function(x){var w=a(x);
var z=w.parents(g+q);
var A=w.parents(g+p);
var y=(z.length>0)||(A.length>0)||w.hasClass(p)||w.hasClass(q);
return y;
},_handleInlineEditCompletedEvent:function(x){var y=this;
var w=y.get_editor();
if(y._isElementOutsideOfEditor(x)){if(y._inlineEditingStarted){a.raiseControlEvent(w,k,{});
y._inlineEditingStarted=false;
}}else{if(y._inlineEditingStarted===false){y._inlineEditingStarted=true;
}}},_onDropDownValueSelected:function(x,w){this._preventToolbarFromHiding=true;
var y=x.get_selectedItem();
if(Telerik.Web.UI.EditorButton.isInstanceOfType(y)){this._raiseEditorEvent(y,null);
}else{this._raiseEditorEvent(x,y);
}},_onToolBarKeyDown:function(x){var z=x.keyCode;
if(9==z||37==z||39==z||121==z){if(Telerik.Web.UI.Editor.PopupController){Telerik.Web.UI.Editor.PopupController.hideActivePopup();
}}if(121==z){var y=this.get_editor();
window.setTimeout(function(){if(y){y.setFocus();
}},100);
if(x.rawEvent){d.cancelRawEvent(x.rawEvent);
}return d.cancelRawEvent(x);
}if(9==z){return;
}var w=this._getSelectedTool(x);
if(!Telerik.Web.UI.EditorButton.isInstanceOfType(w)){return;
}if(37==z||39==z){var B=w;
while(true){B=(37==z)?this._getPreviousTool(B):this._getNextTool(B);
if(null==B){break;
}if(B.get_enabled()){break;
}}if(B&&B.get_enabled()){B.setFocus();
}}if(13==z&&w&&!w.get_selectedItem){this._raiseEditorEvent(w,null);
return;
}if(!Telerik.Web.UI.EditorDropDown.isInstanceOfType(w)){return;
}if(38==z||40==z){var A=false;
if(!w.isExpanded()){w.show();
A=true;
}if(A||40==z){w.selectNextItem();
}else{w.selectPreviousItem();
}}else{if(13==z){w.hide();
if(w.get_activeIndex){w.set_selectedIndex(w.get_activeIndex());
}this._onDropDownValueSelected(w);
}else{if(27==z){w.hide();
}}}},_onToolBarClick:function(x){var w=this._getSelectedTool(x);
if(w){if(Telerik.Web.UI.EditorDropDown.isInstanceOfType(w)){w.click(x);
}else{this._raiseEditorEvent(w);
}}d.cancelRawEvent(x);
},_raiseEditorEvent:function(z,A){var y=this.get_events().getHandler("ToolClick");
if(y){var w=z.get_name?z.get_name():"";
var x=new Telerik.Web.UI.EditorCommandEventArgs(w,z,A);
y(z,x);
}},_getPreviousTool:function(x){var w=Array.indexOf(this._tools,x);
return this._tools[w-1];
},_getNextTool:function(x){var w=Array.indexOf(this._tools,x);
return this._tools[w+1];
},_getSelectedTool:function(x){var y=Telerik.Web.UI.EditorButton.getToolRootNode(x.target);
if(null==y){return;
}var w=y.control;
if(null==w){return;
}if(w.get_enabled&&w.get_enabled()==false){return;
}if(x&&w){x.preventDefault();
x.stopPropagation();
}return w;
},_getToolBarElements:function(){var w=this.get_element();
if(!w){return null;
}var x=w.getElementsByTagName("ul");
return x;
},get_tools:function(){return this._tools;
},get_toolbarHolder:function(){return this.get_window();
},get_editor:function(){return this._editor;
},set_editor:function(w){if(this._editor!=w){this._editor=w;
}},get_contentAreaMode:function(){return(this._contentAreaMode!="")?this._contentAreaMode:Telerik.Web.UI.EditorContentAreaMode.Iframe;
},set_contentAreaMode:function(w){if(this._contentAreaMode!=w){this._contentAreaMode=w;
}},get_toolJSON:function(){return this._toolJSON;
},set_toolJSON:function(w){this._toolJSON=w;
},add_toolClick:function(w){this.get_events().addHandler("ToolClick",w);
},remove_toolClick:function(w){this.get_events().removeHandler("ToolClick",w);
}};
b.DefaultToolAdapter.registerClass("Telerik.Web.UI.Editor.DefaultToolAdapter",Sys.UI.Control);
})($telerik.$);
Type.registerNamespace("Telerik.Web.UI.Editor");
(function(a,e){var c=Telerik.Web.UI;
var b=c.Editor;
var d="RadEditor";
b.RibbonBarToolAdapter=function(f){b.RibbonBarToolAdapter.initializeBase(this,[f]);
this._ribbonBar=null;
this._toolsWrapper=null;
this._ribbonBarButtons=[];
this._ribbonBarSplitButtons=[];
this._ribbonBarItems=[];
this._toolbarEnum=Telerik.Web.UI.EditorToolbarMode;
this._toolBarMode=null;
};
b.RibbonBarToolAdapter.prototype={initialize:function(){var h=this;
var i=this.get_toolbarMode();
var g=c.EditorToolbarMode;
var f=h.get_editor();
b.RibbonBarToolAdapter.callBaseMethod(this,"initialize");
this._moveRibbonBarInToolsWrapper();
this._initializeRibbonBarButtons();
this._onRibbonBarButtonClickedDelegate=Function.createDelegate(this,this._onRibbonBarButtonClick);
this._registerribbonBarHandlers();
this._filterToolbarJson();
this._attachToolbarJsonToHtml();
if((i!==g.RibbonBar)||f._isInInlineEditMode()){this.get_window();
switch(i){case g.RibbonBarFloating:this._createFloatingButton();
break;
case g.RibbonBarPageTop:case g.RibbonBarShowOnFocus:this._attachToolBarEventHandlers();
break;
}}this._initializeToolsWrapper();
this._addToggleScreenHandler();
},repaint:function(f){var g=this.get_ribbonBar();
if(f===true){g._setRibbonSize({width:1});
}g.repaint();
},_moveRibbonBarInToolsWrapper:function(){var g=this.get_ribbonBar(),f=g.get_element().parentNode;
this.get_toolsWrapper().appendChild(g.get_element());
this._clearRibbonBarElementWidth();
g.repaint();
$telerik.$(f).remove();
this._clearRibbonBarElementWidth();
},_clearRibbonBarElementWidth:function(){this.get_ribbonBar().get_element().style.width="";
},_initializeToolsWrapper:function(){var f=this.get_editor();
var h=f._isInInlineEditMode();
var k=this.get_toolsWrapper(),l=k.style,j=this.get_toolbarMode(),i="1px",g=($telerik.isOpera)?"124px":"128px";
if(!h){l.height=g;
l.visibility="visible";
l.overflow="visible";
l.paddingTop=i;
if($telerik.isFirefox){l.paddingLeft=i;
l.paddingRight=i;
}}if((j!==this._toolbarEnum.RibbonBar)||h){a(k).addClass(d);
k.parentNode.style.overflow="hidden";
}},_addToggleScreenHandler:function(){this._toggleScreenModeDelegate=Function.createDelegate(this,this._clearRibbonBarElementWidth);
this.get_editor().add_toggleScreenMode(this._toggleScreenModeDelegate);
},_positionWindow:function(){var g=this;
var h=g.get_toolbarMode();
var f=g.get_editor();
switch(h){case this._toolbarEnum.RibbonBarShowOnFocus:this._positionToolbarAboveEditor();
break;
case this._toolbarEnum.RibbonBarPageTop:this._positionOnPageTop();
break;
case this._toolbarEnum.RibbonBarFloating:if(!this._wasShown){this._positionToolbarAboveEditor();
this._wasShown=true;
}break;
}if(f._isInInlineEditMode()){g._positionToolbarAboveEditor();
}this._clearRibbonBarElementWidth();
},_positionOnPageTop:function(){var g=this._toolbarHolder;
var f=g._getViewportBounds();
var h=f.scrollLeft;
var i=f.scrollTop;
g.moveTo(h,i);
g.get_popupElement().style.width="100%";
if(!g.isPinned()){g.togglePin();
}},_setToolbarHolderProperties:function(){var h=this;
var i=this.get_toolbarMode();
var k=this._toolbarHolder;
var j=c.WindowBehaviors;
var g=c.EditorToolbarMode;
var f=h.get_editor();
if(i===g.RibbonBarShowOnFocus||i===g.RibbonBarPageTop||f._isInInlineEditMode()){k.set_behaviors(j.None);
k.set_visibleTitlebar(false);
}else{k.set_behaviors(j.Move+j.Close+j.Pin);
}this.get_element().style.visibility="visible";
},_showToolbarHolder:function(g){var f=this.get_editor(),h=this.get_toolbarMode();
if(!g){if(this._toolbarHolder){this._toolbarHolder.hide();
}return;
}if(f.isFullScreen()){return;
}var j=Telerik.Web.UI.Editor.DefaultToolAdapter._visibleWrapper;
if(j==this&&j._toolbarHolder&&j._toolbarHolder.isVisible()){j.get_toolbarHolder().setActive(true);
return;
}if(j&&j._showToolbarHolder){j._showToolbarHolder(false);
}Telerik.Web.UI.Editor.DefaultToolAdapter._visibleWrapper=this;
var i=this.get_window();
this._setToolbarHolderProperties();
this._toolbarHolder.show();
if($telerik.isIE){switch(h){case this._toolbarEnum.RibbonBarShowOnFocus:case this._toolbarEnum.RibbonBarPageTop:f.get_TopZone().firstChild.style.display="none";
break;
}if(f._isInInlineEditMode()){f.get_TopZone().firstChild.style.display="none";
}}i.get_contentElement().parentNode.style.overflow="visible";
this.repaint();
},_filterToolbarJson:function(){var n=this.get_toolJSON(),f,k,g,h,o,m;
for(f=0,k=n.length;
f<k;
f++){h=n[f];
o=h.tools;
for(g=o.length-1;
g>-1;
g--){m=o[g];
if(typeof(m.name)=="undefined"||!m.type||(m.type==Telerik.Web.UI.EditorToolType.ToolStrip&&m.name!="InsertTable")){o.splice(g,1);
}}}},_initializeRibbonBarButtons:function(){var t=this.get_ribbonBar();
var v=t.get_tabs();
for(var m=0,s=v.get_count();
m<s;
m++){var u=v.getTab(m);
var h=u.get_groups(m);
for(var q=0,f=h.get_count();
q<f;
q++){var g=h.getGroup(q);
var p=g.get_items();
for(var r=0,n=p.get_count();
r<n;
r++){var o=p.getItem(r);
if(o.get_value){this._ribbonBarButtons.push(o);
this._ribbonBarItems.push(o);
this._addSetOnMethodToButton(o);
this._addIsOnMethodToButton(o);
}else{if(o instanceof Telerik.Web.UI.RibbonBarSplitButton){this._ribbonBarSplitButtons.push(o);
this._ribbonBarItems.push(o);
}}}}}},_addSetOnMethodToButton:function(f){f.setOn=function(g){if(this.set_toggled){this.set_toggled(g);
}};
},_addIsOnMethodToButton:function(f){f.isOn=function(){return(this.get_toggled)?this.get_toggled():false;
};
},_registerribbonBarHandlers:function(){var f=this.get_ribbonBar();
f.add_buttonToggled(this._onRibbonBarButtonClickedDelegate);
f.add_splitButtonClicked(this._onRibbonBarButtonClickedDelegate);
},_onRibbonBarButtonClick:function(j,f){var g=f.get_button();
if(g.set_toggled){g.set_toggled(false);
}var h=g.get_value();
var i=new Telerik.Web.UI.EditorCommandEventArgs(h,null,null);
this.get_editor().fire(h,i);
},get_ribbonBar:function(){if(!this._ribbonBar){this._ribbonBar=this.get_editor().get_ribbonBar();
}return this._ribbonBar;
},get_toolsWrapper:function(){if(!this._toolsWrapper){this._toolsWrapper=this.get_editor().get_TopZone().children[0];
}return this._toolsWrapper;
},getToolByName:function(f){return this.getRibbonBarButtonByName(f)||Telerik.Web.UI.Editor.RibbonBarToolAdapter.callBaseMethod(this,"getToolByName",[f]);
},getRibbonBarButtonByName:function(f){var g=this.get_ribbonBar();
return g.findButtonByValue(f)||g.findToggleButtonByValue(f)||g.findItemByAttribute("rel",f);
},_setEnabled:function(f){this._setRibbonBarItemsEnabled(f);
this._setEditorToolsEnabled(f);
},_setRibbonBarItemsEnabled:function(g){var j=this._ribbonBarItems;
for(var f=0,k=j.length;
f<k;
f++){var h=j[f];
this._setToolEnabled(h,g);
}},_setEditorToolsEnabled:function(g){var h=this._tools;
for(var f=0;
f<h.length;
f++){this._setToolEnabled(h[f],g);
}},_setToolEnabled:function(h,g){h.set_enabled(g);
var f=h.get_element();
if(!g){Sys.UI.DomElement.addCssClass(f,"rrbImagePlaceholderDisabled");
}else{Sys.UI.DomElement.removeCssClass(f,"rrbImagePlaceholderDisabled");
}},_getToolBarElements:function(){var f=this.get_ribbonBar().get_element();
if(!f){return null;
}var g=$telerik.$(f).find("div.rrbButtonGroup").get();
return g;
},_getToolBarItemElements:function(f){return $telerik.$(f).find("div.rrbTemplateItem").get();
},_getItemElementByIndex:function(g,f){return g[f];
},_getToolElement:function(f){return f.getElementsByTagName("A")[0];
},_attachHandlerToToolElementParent:function(f){var g=f.parentNode;
if($telerik.isSafari){g.setAttribute("onmousedown","return false;");
}$addHandlers(g,{click:this._onToolBarClickDelegate,keydown:this._onToolBarKeyDownDelegate},this);
},_attachHandlerToToolbarElement:function(f){},_toolbarSizeFixIE:function(f){},_onEditorSelectionChange:function(g,f){this.get_ribbonBar()._hideMenus();
this.setRibbonBarToolState();
this.setToolState();
this._rangeState=null;
},setRibbonBarToolState:function(n,h){if(!n){n=this._ribbonBarButtons;
}var f=this.get_editor(),k=Telerik.Web.UI.Editor.DomRange.rangeFromWindow(f.get_contentWindow());
this._rangeState=k;
for(var g=0;
g<n.length;
g++){var j=n[g];
var m=j.get_value();
var l=h;
if(null==l){l=f.getToolState(m,k);
}if(null!=l){this._setRibbonBarButtonState(j,l);
}}},_setRibbonBarButtonState:function(f,g){if(g==Telerik.Web.UI.Editor.CommandStates.Disabled){this._setToolEnabled(f,false);
}else{this._setToolEnabled(f,true);
if(g==Telerik.Web.UI.Editor.CommandStates.Off){f.set_toggled(false);
}else{f.set_toggled(true);
}}},get_toolbarMode:function(){if(!this._toolbarMode){this._toolbarMode=this.get_editor().get_toolbarMode();
}return this._toolbarMode;
},set_toolbarMode:function(f){this._toolbarMode=f;
}};
Telerik.Web.UI.Editor.RibbonBarToolAdapter.registerClass("Telerik.Web.UI.Editor.RibbonBarToolAdapter",Telerik.Web.UI.Editor.DefaultToolAdapter);
})($telerik.$);
Type.registerNamespace("Telerik.Web.UI.Editor");
(function(a,b,e){var c=function(){};
c.prototype={getImages:function(f){var k=f.items;
var j=[];
for(var g=0;
g<k.length;
g++){var h=this._getImage(k[g]);
if(h){j.push(h);
}}return j;
},getName:function(){return"ClipboardDataObject";
},_getImage:function(h){if(h.type.indexOf("image")!==-1){var f=h.getAsFile();
var j=window.URL||window.webkitURL;
var i=j.createObjectURL(f);
var g=new Image();
g.src=i;
g.onload=function(k){var l=new FileReader();
l.onload=function(m){if(g.src!=m.target.result){g.src=m.target.result;
}};
l.readAsDataURL(f);
};
return g;
}return null;
}};
var d=function(){};
d.prototype={getImages:function(){return[];
},getName:function(){return"NoFiles";
}};
b.ClipboardImagesProvider=function(){this.clipboardObject=null;
};
b.ClipboardImagesProvider.prototype={chooseProvider:function(f){if(this.supportsClipboardData(f)&&this.containsFiles(f.clipboardData)){return new c();
}else{return new d();
}},supportsClipboardData:function(f){return !!f.clipboardData;
},containsFiles:function(f){var g=!!(f.types&&f.types.length&&f.types.length>0&&e.containsElement(/files/i,f.types));
return g;
},getImages:function(f){var g=this.chooseProvider(f);
return g.getImages(f.clipboardData);
}};
b.ClipboardImagesProvider.registerClass("Telerik.Web.UI.Editor.ClipboardImagesProvider",null);
})($telerik.$,Telerik.Web.UI.Editor,Telerik.Web.UI.Editor.Utils);
Type.registerNamespace("Telerik.Web.UI.Editor");
(function(a,c,d){var b=c.Editor;
var e=b.Utils;
b.DomBlockCommandBase=function(f,h){var g=this.options=a.extend({window:f?f.get_contentWindow():d,title:"Indent",canUnexecute:d,blockTag:f&&f.get_newLineMode()==c.EditorNewLineModes.Div?"div":"p",noDuplicateNodeEdges:true},h||{});
b.DomBlockCommandBase.initializeBase(this,[g.title,g.window,g.canUnexecute,f]);
};
b.DomBlockCommandBase.prototype={onExecute:function(){this.storeRange();
var g=this.collectElements(this.getEditorRange());
var h=this._splitNodes(g);
for(var f=0;
f<h.length;
f++){this.nodes=h[f];
this.executeDomCommand(this.nodes);
this.fireFormattingChanged();
this.cleanUp();
}this.restoreRange();
return true;
},executeDomCommand:function(i){var j=this;
if(e.isTag(i[0],"li")&&b.OutdentCommand.isInstanceOfType(j)){var g=i[0].parentNode;
var f=function(k){return g==k.parentNode;
};
if(!e.isTag(e.getBlockParent(g),"li")&&e.every(i,f)){j._executeInsertListCommand(i);
}}while(i.length){var h=i.shift();
if(j.isSuitableNode(h)){j.executeOnNode(h);
}else{j.executeInlineNode(h);
}}},isSuitableNode:function(f){return e.isBlockElement(f);
},topLimitCondition:function(f){return e.isEditorContentArea(f);
},inlineWrapper:null,executeOnNode:Function.emptyFunction,executeInlineNode:function(g,h){var f=this.collectFragment(g);
if(h||!this.isEmptyFragment(f)){this.executeOnFragment(f);
}},executeOnFragment:function(f){var g=this.createWrappingBlock();
this.wrapFragmentInBlock(f,g);
this.executeOnNode(g,true);
return g;
},getCssState:function(j,f,g){var h=this.nodes=this.collectElements(j);
var i=this.getNodesState(h,f,g);
this.cleanUp();
return i?Telerik.Web.UI.Editor.CommandStates.On:Telerik.Web.UI.Editor.CommandStates.Off;
},getNodesState:function(k,f,g){var l=k.length>0;
var m=0;
for(var h=0;
h<k.length;
h++){var j=k[h];
if(this.isSuitableNode(j)){l=l&&this.getNodeState(j,f,g);
m++;
}}if(m==0){l=this.getEmptySuitableListState();
}return l;
},getNodeState:function(h,f,g){var i=h.style;
return(!g&&!i)||(i&&i[f]==g);
},getEmptySuitableListState:function(){return false;
},collectFragment:function(g){this.blockFragmentTraverser=new b.BlockFragmentsTraverser();
var f=this.blockFragmentTraverser.traverseFragment(g);
var h=this.nodes;
while(h.length>0&&f.contains(h[0])){h.shift();
}return f;
},createWrappingBlock:function(){var f=this.get_editor().get_document();
return f.createElement(this.options.blockTag);
},wrapFragmentInBlock:function(f,g){f.insertBeforeFirst(g);
f.appendTo(g);
return g;
},isEmptyFragment:function(f){var j=f.nodes;
for(var g=0;
g<j.length;
g++){var h=j[g];
if(e.isTag(h,"img")||!e.isWhitespaceNode(j[g])){return false;
}}return true;
},cleanUp:function(){this.traverser=this.nodes=null;
this.clearTrackedNodes();
},collectElements:function(h){if(!h){return[];
}var i=Function.createDelegate(this,this.topLimitCondition);
var j=this.traverser=new b.RangeBlockTraverser(h);
var f=j.traverse(i);
this.removeDuplicateEdges(f);
if(f.length==1&&e.isTag(f[0],"br")){var g=f[0];
f=[g.previousSibling||g.nextSibling];
}return f;
},findFirstInlineChild:function(g){var f=g.firstChild;
while(e.isBlockElement(f)){f=f.nextSibling;
}return f;
},removeDuplicateEdges:function(h){if(!this.options.noDuplicateNodeEdges||h.length==0){return;
}var f=h[0],g=h[h.length-1];
if(h.length>1&&f==g){h.pop();
}},storeRange:function(){var f=this.getEditorRange();
this.rangeMemento=new b.DomRangeMemento(f);
},restoreRange:function(){try{if(this.rangeMemento){this.rangeMemento.restoreToRange(this.getEditorRange());
}}catch(f){}},getEditorRange:function(){return b.DomRange.toDomRange(this.get_editor().getSelection().getRange(true));
},rememberNewSelectedNode:function(g,f){var h=this.rangeMemento;
if(!h){return;
}if(h.startContainer==g){h.startContainer=f;
}if(h.endContainer==g){h.endContainer=f;
}},isRTL:function(){if(!this._editor){return;
}var f=this.get_editorContentArea();
return(f.style.direction||$telerik.getComputedStyle(this.get_editorContentArea(),"direction"))=="rtl";
},_splitNodes:function(f){if(!this.get_editor().get_enableImmutableElements()){return[f];
}return e.splitElementsByCondition(f,Function.createDelegate(e,e.isImmutableNode));
},_executeInsertListCommand:function(h){var i=this;
var g=h[0].parentNode.nodeName;
var f=new b.InsertListCmd(i.get_editor(),{listType:g,title:g=="UL"?"InsertUnorderedList":"InsertOrderedList"});
f.nodes=h;
f.rangeMemento=i.rangeMemento;
f.executeDomCommand(h);
if("elements" in f){var j=f.elements;
j.reverse();
i._innerCommand=f.get_title();
while(j.length){i.trackChangedNode(j.pop());
}}}};
b.DomBlockCommandBase.registerClass("Telerik.Web.UI.Editor.DomBlockCommandBase",b.CommandBase);
})($telerik.$,Telerik.Web.UI);
(function(a,b,h,f){var e="__telerik_marker",g=8203;
function c(i){return d(i)||(h.isTextNode(i)&&h.isTextNodeEmpty(i)&&(/\n|\r/.test(i.nodeValue)||(i.previousSibling&&!d(i.previousSibling))||(i.nextSibling&&!d(i.nextSibling))));
}function d(i){return i&&i.className==e;
}b.InlineCommand=function(j,i,l){this.settings=i||{};
var k=this.options=a.extend({window:j?j.get_contentWindow():f,title:"Inline command",canUnexecute:f},l||{});
b.InlineCommand.initializeBase(this,[k.title,k.window,k.canUnexecute,j]);
};
b.InlineCommand.prototype={onExecute:function(){try{return this.executeInlineCommand();
}catch(i){a("."+e,this.get_editor().get_contentArea()).remove();
}},executeInlineCommand:function(){var j=this,p=j.range=j.getEditorRange(),n=j.get_editor(),q=j.getState(n.get_contentWindow(),n),k=j.collapsedRange=p?p.isCollapsed():true;
if(k&&!j.settings.isNotGreedy){var i=j.getWordBoundaries(p.startContainer,p.startOffset);
p.setStart(p.startContainer,i.left);
p.setEnd(p.startContainer,i.right);
p.select();
}var o=j.traverseFragments(p);
j.emptyRange=p?p.toString()=="":true;
j.storeRangeByFragments(o);
j.rangeChanged=false;
j.removeFormatting=j.shouldRemoveFormatting(q);
if(j.removeFormatting){j.removeFormat(o);
}else{j.formatFragments(o);
}j.fireFormattingChanged();
var l=new b.Consolidator(),m=j.getContentElement();
l.consolidateMarkedEdges(m);
l.normalize(p?p.commonAncestorContainer:m);
if(!j.rangeChanged){j.restoreRange();
}return true;
},shouldRemoveFormatting:function(i){return i==b.CommandStates.On;
},getState:function(l,i,k){var j=k||b.DomRange.rangeFromWindow(l);
return this.getStateByRange(j,i);
},getStateByRange:function(j,i){if(!j||j.commonAncestorContainer.nodeType==9){return b.CommandStates.Off;
}if(!j.isCollapsed()){j.normalizeEdges();
}var k=j.startContainer;
if(!h.isTextNode(k)&&k.childNodes[j.startOffset]){k=k.childNodes[j.startOffset];
}if(!h.isTextNode(k)&&h.canHaveChildren(k)){k=this.getFirstTextNodeOrSame(k);
}if(h.isTextNode(k)&&h.isTextNodeEmpty(k)&&!k.previousSibling&&i&&k.parentNode===i.get_contentArea()){k=this.getNextTextNode(k);
}k=this.findFormattedAncestor(k);
return this.isSameFormatNode(k)?b.CommandStates.On:b.CommandStates.Off;
},getWordBoundaries:function(k,l){var i={left:-1,right:1},n=k.nodeValue,j,m;
if(!n||(this.isCharEmptyOrWhiteSpace(n.charAt(l))||this.isCharEmptyOrWhiteSpace(n.charAt(l-1)))){return{right:l,left:l};
}j=this.getBoundary(l,n,i.left),m=this.getBoundary(l,n,i.right);
return{right:m,left:j};
},getBoundary:function(k,m,i){var l=k<=0||k>=m.length;
if(m.charAt(k)===" "){var j=i<0?1:0;
return k+j;
}if(l){return k;
}k+=i;
return this.getBoundary(k,m,i);
},getNextTextNode:function(j){if(!j){return null;
}var i=j.nextSibling;
while(i&&!h.isTextNode(i)&&(i.firstChild||i.nextSibling)){if(i.firstChild){i=i.firstChild;
}else{if(i.nextSibling){i=i.nextSibling;
}}}return i?i:j;
},getFirstTextNodeOrSame:function(j){var i=j.firstChild;
while(i&&i.firstChild&&!h.isTextNode(i)){i=i.firstChild;
}return h.isTextNode(i)?i:j;
},removeFormat:function(m){var i=this,j=i.get_editor();
if(i.emptyRange){var n=b.DomRange.rangeFromWindow(j.get_contentWindow()),l=i.findFormattedAncestor(n.startContainer);
if(!l||!i.isSameFormatNode(l)){return;
}if(i.isRangeAtEnd(n,l)){var o=h.isTextNode(n.startContainer)?n.startContainer.parentNode:n.startContainer,p=i.createMarker(),k=p.cloneNode(true);
o.appendChild(p);
o.appendChild(k);
i.removeFormat_extract(l,p,k);
}else{i.persistRangeThroughParent(l);
i.removeNodeFormatting(l);
}}else{i.removeFormat_fragments(m);
}},removeFormat_fragments:function(k){var i=this;
while(k.length){var j=k.shift();
if(!j.isEmpty()){i.removeFormat_fragment(j);
}}},isRangeAtEnd:function(k,j){var l=k.startContainer,m=k.startOffset,i=h.isTextNode(l)?m==l.length:m==l.childNodes.length;
while(i&&h.isAncestorOf(j,l)){while(i&&l.nextSibling){l=l.nextSibling;
i=h.isEmptyDom(l);
}l=l.parentNode;
if(h.isBlockElement(l)){break;
}}return i;
},removeFormat_fragment:function(l){var i=this;
i.cleanUpFormat(l);
var m=l.getParent();
var k=i.findFormattedAncestor(m);
if(k&&i.isSameFormatNode(k)&&!h.isEditorContentArea(k)){var j=i.getFragmentEdges(l);
i.removeFormat_extract(k,j.first,j.last);
}},getFragmentEdges:function(j){var l=j.nodes,i=l[0],k=l[l.length-1];
if(this.isMarker(i.previousSibling)){i=i.previousSibling;
}if(this.isMarker(k.nextSibling)){k=k.nextSibling;
}return{first:i,last:k};
},removeFormat_extract:function(k,j,l){var i=this;
if(h.isBlockElement(k)){i.removeBlockElementFormat(k,j,l);
}else{i.extractFormatting(k,j,l);
i.removeNodeFormatting(k);
i.removeEmptyNode(k);
}},removeBlockElementFormat:function(k,j,m){var i=this;
i._setEnabledChangeFormatTracking(false);
i.removeNodeFormatting(k);
i.removeSameFormatChildren(k);
i._setEnabledChangeFormatTracking(true);
i.formatInlineChildren(k);
var l=i.findFormattedAncestor(j);
i.removeFormat_extract(l,j,m);
},formatInlineChildren:function(l){var i=l.firstChild;
var j=this;
while(i){if(h.isBlockElement(i)){j.formatInlineChildren(i);
}else{var m=j._getNextInlineSiblings(i);
var k=j._formatNodes(m);
i=k||i;
}i=i.nextSibling;
}},_getNextInlineSiblings:function(j){var i=[j];
var k=j.nextSibling;
while(k&&!h.isBlockElement(k)){i.push(k);
k=k.nextSibling;
}return i;
},_formatNodes:function(n){var k=false;
var j;
for(var l=0;
l<n.length;
l++){var m=n[l];
k=!(h.isTextNode(m)&&h.isTextNodeEmpty(m));
if(k){break;
}}if(k){j=this.createInlineNode();
a(j).insertAfter(n[n.length-1]);
while(n.length){j.appendChild(n.shift());
}}return j;
},extractFormatting:function(k,j,m){var l=k.parentNode;
var i=new b.DomTreeExtractor(k);
var n=i.extractBefore(j);
var p=i.extractAfter(m);
var o=h.cloneNodeClean(k);
var q=h.cloneNodeClean(k);
q.appendChild(p);
o.appendChild(n);
if(!h.isNodeEmptyRecursive(o,true)){l.insertBefore(o,k);
}if(!h.isNodeEmptyRecursive(q,true)){l.insertBefore(q,k.nextSibling);
}},removeNodeFormatting:function(k){var l=this;
l.removeNodeCssFormatting(k);
if(l.isSameTagFormat(k)){k=h.replaceNode(k,"span");
}if(!l.isNodeStyled(k)&&!h.hasAttributes(k)&&h.isTag(k,"span")){for(var j=0;
j<k.childNodes.length;
j++){if(!l.isMarker(k.childNodes[j])){l.trackChangedNode({node:k.childNodes[j]});
}}h.removeNode(k);
}else{l.trackChangedNode({node:k});
}},removeNodeCssFormatting:function(j){var i=this;
if(!i.isSameCssFormat(j)){return;
}i.removeCommandFormattingValue(j);
i._removeEmptyStyles(j);
i.trackChangedNode({node:j});
},removeCommandFormattingValue:function(j){var i=this.settings;
j.style[i.cssName]=j.style[i.cssName].replace(i.cssValue,"").trim();
},_removeEmptyStyles:function(j){var k=j.style;
if($telerik.isIE7||$telerik.isIE8){var i=k.cssText+";";
k.cssText=i.replace(/((font-family)|(color)|(text-decoration)):\s*;/gi,"");
}if(/^\s*$/.test(k.cssText)){j.removeAttribute("style");
}},formatFragments:function(l){var i=this;
var n=i.getEditorRange();
if(l.length==0){var j=i.getSingleFormatNode(n);
var m;
if(j){m=i.createInlineNode();
if(m.nodeName==j.nodeName){i.formatNode(j);
i.trackChangedNode({node:j});
i.setCursorInInlineNode(j,n);
}else{m=i.insertSingleFormatNode(n);
i.setCursorInInlineNode(m,n);
}}else{if(!i.hasSameFormatting()){m=i.insertSingleFormatNode(n);
i.setCursorInInlineNode(m,n);
}}}while(l.length){var k=l.shift();
i.cleanUpFormat(k);
if(!i.isEmptyInlineFragment(k)){i.formatFragment(k);
}}},isCharEmptyOrWhiteSpace:function(i){if(!i){return true;
}return/\s/g.test(i)||i.charCodeAt(0)==g;
},isEmptyInlineFragment:function(i){return i.all(c);
},hasSameFormatting:function(){return false;
},getSingleFormatNode:function(j){var i=!h.isTextNode(j.commonAncestorContainer)&&j.commonAncestorContainer.childNodes[j.startOffset-1]?j.commonAncestorContainer.childNodes[j.startOffset-1]:j.commonAncestorContainer;
if(i.parentNode.childNodes.length==1&&h.isTextNode(i)&&i.nodeValue=="\u200b"){return i.parentNode;
}if(h.isTextNode(i)&&i.length==j.startOffset&&i.nextSibling&&/^[\u200b]?$/.test(i.nextSibling.innerHTML)){return i.nextSibling;
}},insertSingleFormatNode:function(k){var i=this,j=i.createInlineNode();
k.insertNode(j);
i.trackChangedNode({node:j});
return j;
},formatFragment:function(k){var i;
if(this.isSameFormat(k)){if(this.formattedNode&&this.isParentCommon(k.getParent(),this.formattedNode)){var j=k.getParent();
k.clear();
k.addAll(j.childNodes);
k.appendTo(this.formattedNode);
j.parentNode.removeChild(j);
}}else{if(!this.isEmptyInlineFragment(k)){i=this.formattedNode=this.createInlineNode();
k.insertBeforeFirst(i);
k.appendTo(i);
this.trackChangedNode({node:i});
}}},formatNode:function(i){if(i.style&&this.settings.cssName){i.style[this.settings.cssName]=this.settings.cssValue;
}},createInlineNode:function(){var i=this.get_window().document,j=this.settings,l=!j.tag,k=i.createElement(j.tag||"span");
if(l){k.style[j.cssName]=j.cssValue;
}return k;
},traverseFragments:function(j){var i=this;
if(!j){j=i.getEditorRange();
}var k=new b.RangeFragmentsTraverser(j);
k.traverseFragments(a.proxy(i.traverseCondition,i));
return k.traversedFragments;
},traverseCondition:function(k){var i=this;
var j=i.get_editor().get_enableImmutableElements()&&h.isImmutableNode(k);
return !j&&i.shouldCollectNode(k);
},shouldCollectNode:function(i){return b.FragmentsCondition.isInlineNode(i);
},storeRangeByFragments:function(k){var i=this;
if(k.length){var j=k[0];
var l=k[k.length-1];
i.startMarker=i.createMarker();
i.endMarker=i.startMarker.cloneNode(true);
j.insertBeforeFirst(i.startMarker);
l.appendNodeAfter(i.endMarker);
}else{i.storeRange();
}},storeRange:function(j){var i=j||this.getEditorRange();
this.rangeMemento=new b.DomRangeMemento(i);
},persistRangeThroughParent:function(k){var j=this.rangeMemento;
if(j){var i=h.findNodeIndex(k);
if(j.startContainer==k){j.startContainer=k.parentNode;
j.startOffset+=i;
}if(j.endContainer==k){j.endContainer=k.parentNode;
j.endOffset+=i;
}}},restoreRange:function(){var s=this.range,p=a("."+e,this.get_editor().get_contentArea());
if(p.length){var n=p[0],q=n.nextSibling,j=n.ownerDocument,o=p[1];
if((h.isTextNode(q)&&h.isTextNodeEmpty(q)&&o.previousSibling===q)||(n===o.previousSibling)){var l=this.get_editor(),r=n.parentNode;
l.setActive();
l.setFocus();
var t=j.createElement("span");
t.innerHTML="&#x200b;";
var m=t.firstChild;
r.insertBefore(m,o);
p.remove();
s.setStart(m,0);
s.setEnd(m,1);
s.collapse();
s.select();
l.whitespaceTracker.trackNode(m);
}else{var i=new b.Consolidator();
if(!i.normalizeTextEdge(n,s,true)){s.setStartAfter(p[0]);
}if(!i.normalizeTextEdge(o,s,false)){s.setEndBefore(p[1]);
}s.select();
p.remove();
}}else{try{if(this.rangeMemento){this.rangeMemento.restoreToRange(this.getEditorRange());
}}catch(k){}}},getEditorRange:function(){return b.DomRange.toDomRange(this.get_editor().getSelection().getRange(true));
},getContentElement:function(){return this.get_editor().get_contentArea();
},removeEmptyNode:function(i){if(h.isNodeEmptyRecursive(i)&&!h.hasAttributes(i)&&i.parentNode){i.parentNode.removeChild(i);
}},cleanUpFormat:function(k){var j=this;
j.cleanUpFragment=k;
var n=k.nodes;
for(var l=n.length-1;
l>=0;
l--){var m=n[l];
if(!j._shouldCleanUpNode(m)){continue;
}j.removeSameFormatChildren(m);
j.removeSameFormat(m,l);
}},_shouldCleanUpNode:function(i){return !h.isTextNode(i)&&!this.isMarker(i);
},removeSameFormatChildren:function(j){var i=this;
var k=i.getSameFormatChildren(j);
while(k.length){i.removeSameFormat(k.shift());
}},getSameFormatChildren:function(l){var m=[];
if(this.settings.tag){m=a.makeArray(l.getElementsByTagName(this.settings.tag));
}else{var j=this.settings.altTags;
for(var k=0;
k<j.length;
k++){m=m.concat(a.makeArray(l.getElementsByTagName(j[k])));
}}m=m.concat(a.makeArray(l.getElementsByTagName("span")));
return m;
},removeSameFormat:function(o,m){var p=this;
if(p.isSameFormatNode(o)){if(!isNaN(m)&&p.shouldRemoveNode(o)){p.cleanUpFragment.removeNodeAt(m);
var l=o.childNodes;
for(var n=l.length-1;
n>=0;
n--){var k=l[n];
p.cleanUpFragment.addNodeAt(k,m);
}}p.removeNodeFormatting(o);
}},shouldRemoveNode:function(){return true;
},findFormattedAncestor:function(j){if(this.isSameFormatNode(j)){return j;
}var k=this._editor?this._editor.get_contentArea():this.findBody(j);
var i=Function.createDelegate(this,function(l){return this.isSameFormatNode(l)||h.isEditorContentArea(l);
});
return h.findAncestorBy(k,j,i);
},findBody:function(j){var i=j.ownerDocument;
return i.getElementsByTagName("body")[0];
},isSameFormat:function(i){var j=i.getParent();
return this.isSameFormatNode(j);
},isSameFormatNode:function(i){return this.isSameTagFormat(i)||this.isSameCssFormat(i);
},isSameTagFormat:function(i){return(h.isTag(i,this.settings.tag)||this.isAltTagFormat(i))&&(!i.className||this.isTrackChangesNode(i));
},isAltTagFormat:function(k){var l=this.settings.altTags;
for(var j=0;
j<l.length;
j++){if(h.isTag(k,l[j])){return h.isTag(k,"font")?this.isFormattingFont(k):true;
}}return false;
},isSameCssFormat:function(j){var k=this.settings,i=k.cssName,l=k.cssValue;
return i&&l&&j.style&&j.style[i].indexOf(l)>-1;
},isNodeStyled:function(i){return i.style.cssText!="";
},isParentCommon:function(i,j){return i&&j&&i.parentNode&&i.parentNode==j.parentNode;
},isMarker:function(i){return i&&(i===this.startMarker||i===this.endMarker||i.className==e);
},isMarkerOrEmptyTextNode:function(i){return i.className==e||(h.isTextNode(i)&&h.isTextNodeEmpty(i));
},getMarkersCssClass:function(){return e;
},createMarker:function(){var i=this.get_editor().get_document();
var j=i.createElement("span");
j.className=e;
j.innerHTML="&nbsp;";
return j;
},isFormattingFont:function(i){return h.isTag(i,"font")&&(this.hasStyle(i,this.settings.cssName)||this.hasAttribute(i,this.settings.altTagAttr));
},hasStyle:function(j,i){return i&&!!j.style[i];
},hasAttribute:function(j,i){return i&&j.hasAttribute?j.hasAttribute(i):!!j.getAttribute(i);
},setCursorInInlineNode:function(k,l){var i=this;
var j=i.get_editor();
k.innerHTML="&#x200b;";
j.whitespaceTracker.trackNode(k.firstChild);
j.setActive();
j.setFocus();
l.setStart(k,1);
l.setEnd(k,1);
l.collapse();
l.select();
i.rangeChanged=true;
},isTrackChangesNode:function(i){return !!b.TrackChangesUtils&&b.TrackChangesUtils.isTrackChangeElement(i);
},extractTrackedAncestor:function(k){var i=this;
if(!i.get_editor().shouldTrackChanges()){return;
}var l=b.TrackChangesUtils;
var m=l.getTrackedAncestor(k.getParent());
if(m){var j=i.getFragmentEdges(k);
i.extractFormatting(m,j.first,j.last);
a(m).find("*").addBack().filter(function(n,o){return l.isTrackChangeElement(o);
}).each(function(n,o){i.trackChangedNode({node:o,commandName:l.getTrackChangesCommand(o),overrideTracking:true});
});
}}};
b.InlineCommand.registerClass("Telerik.Web.UI.Editor.InlineCommand",b.CommandBase);
})($telerik.$,Telerik.Web.UI.Editor,Telerik.Web.UI.Editor.Utils);
(function(a,b,d,c){b.InlineCommandWithValue=function(f,e,g){b.InlineCommandWithValue.initializeBase(this,[f,e,g]);
};
b.InlineCommandWithValue.prototype={shouldRemoveFormatting:function(){return !this.options.commandValue;
},getState:function(g,e,f){return b.CommandStates.Off;
},getValue:function(j,i){if(!i||!this.settings.enableToolStateValue){return;
}if(!i.isCollapsed()){i.normalizeEdges();
}var f=this.settings.cssName,g=i.startContainer,h=i.startOffset,e;
if(d.isTextNode(g)){g=g.parentNode;
}else{if((e=g.childNodes)&&e[h]&&!d.isTextNode(e[h])){g=e[h];
}}return $telerik.getComputedStyle(g,f)||$telerik.getComputedStyle(g,this.getAltCssName(f));
},getCurrentStyle:function(h,f){if(!h||d.isTextNode(h)){return null;
}var g;
f=f||this.settings.cssName;
if(d.isTag(h,"font")&&this.settings.altTagAttr&&this.hasAttribute(h,this.settings.altTagAttr)){g=h.getAttribute(this.settings.altTagAttr);
}if(h.style[f]){g=h.style[f];
}else{var e=this.getAltCssName(f);
if(h.style[e]){g=h.style[e];
}}return g;
},getAltCssName:function(f){var e=f;
if(f.indexOf("-")!=-1){e=f.replace(/-([a-z])/gi,function(h,g){return g.toUpperCase();
});
}else{if(/^[a-zA-Z]+$/.test(f)){e=f.replace(/([A-Z])/g,function(h,g){return"-"+g.toLowerCase();
});
}}return e;
},hasSameFormattingValue:function(g,e){if(!this.options.commandValue){return false;
}e=e||this.settings.cssName;
var f=this.getCurrentStyle(g,e);
if(!f){return false;
}if(/color/i.test(e)&&/^rgb/i.test(f)){f=d._rgbToHex(f);
}if(/size/i.test(e)){if(/px$/i.test(this.options.commandValue)&&!/px$/i.test(f)){f=$telerik.getComputedStyle(g,this.getAltCssName(e))||f;
if(!/px$/i.test(f)){f+="px";
}}}return f.replace(/[;'"]/g,"").toLowerCase()==this.options.commandValue.replace(/[;'"]/g,"").toLowerCase();
},formatFragment:function(f){var e;
var k=f.getParent();
var l=this.findSameFormattedAncestor(k);
if(l&&this.hasSameFormattingValue(l)){return;
}if(this.shouldFormatParentNode(f)){this.formatNode(l||k,true);
}else{for(var g=0;
g<f.nodes.length;
g++){var h=f.nodes[g];
if(this.isMarker(h)||this.hasSameFormatting(h)){continue;
}if(d.isTag(h,"font")){this.formatFont(h);
}else{var j=this.settings.tag||"SPAN";
if(h.nodeName==j&&!h.parentNode.style[this.settings.cssName]){this.formatNode(h);
}else{if(h.parentNode.nodeName==j&&this.getNodesTextContent([h])==this.getNodesTextContent([h.parentNode])){this.formatNode(h.parentNode);
}else{e=this.createInlineNode();
f.insertBeforeFirst(e);
f.appendTo(e);
}}}}}},findSameFormattedAncestor:function(g){if(this.getCurrentStyle(g,this.settings.cssName)){return g;
}var e=this._editor.get_contentArea();
if(g.parentNode==e){return null;
}var f=Function.createDelegate(this,function(i){return !!this.getCurrentStyle(i,this.settings.cssName);
});
var h=d.findAncestorBy(e,g,f);
if(!this.getCurrentStyle(h,this.settings.cssName)){return null;
}return h;
},createInlineNode:function(){var e=this.get_window().document,g=this.settings.tag,f=e.createElement(g||"span");
if(!g){f.style[this.settings.cssName]=this.options.commandValue;
}return f;
},shouldFormatParentNode:function(e){var g=e.getParent();
if(d.isBlockElement(g)){return false;
}g=this.findFormattedAncestor(g);
var f=d.isTag(g,"span")||d.isTag(g,"font");
return this.collapsedRange||(f&&this.getNodesTextContent(g.childNodes)==this.getNodesTextContent(e.nodes));
},getNodesTextContent:function(g){var e="",h;
for(var f=0;
f<g.length;
f++){h=d.isTextNode(g[f])?g[f].nodeValue:d.getTextContent(g[f]);
e+=h?h:"";
}return e.replace(/[\n\s]+/gm,"");
},formatNode:function(f,e){if(d.isTag(f,"font")){this.formatFont(f,e);
if(!d.isTag(f,"span")){d.replaceNode(f,"span");
}}else{if(f.style&&this.settings.cssName){f.style[this.settings.cssName]=this.options.commandValue;
}}},formatFont:function(e,f){this.removeNodeFormatting(e,f);
if(this.settings.cssName){e.style[this.settings.cssName]=this.options.commandValue;
}},removeNodeFormatting:function(h,g){var k=this,f=k.isSameTagFormat(h);
k.removeNodeCssFormatting(h);
if(k.isFormattingFont(h)){k.removeFontFormatting(h);
}if(!g&&f&&!d.isTag(h,"span")){var j=h;
h=d.replaceNode(h,"span");
if(this.cleanUpFragment){this.cleanUpFragment.nodes[Array.indexOf(this.cleanUpFragment.nodes,j)]=h;
}}if(!g&&!k.isNodeStyled(h)&&!d.hasAttributes(h)&&d.isTag(h,"span")){for(var e=0;
e<h.childNodes.length;
e++){if(!k.isMarker(h.childNodes[e])){k.trackChangedNode({node:h.childNodes[e]});
}}d.removeNode(h);
}else{k.trackChangedNode({node:h});
}},removeFontFormatting:function(e){if(this.hasStyle(e,this.settings.cssName)){e.style[this.settings.cssName]="";
}if(this.hasAttribute(e,this.settings.altTagAttr)){e.removeAttribute(this.settings.altTagAttr);
}},shouldRemoveNode:function(g){if(!d.isTag(g,"font")){return !(g.style&&g.style.length>1);
}if(!d.hasAttributes(g)){return true;
}var h=[];
var e=function(i){if(!i){return;
}i=i.toLowerCase();
if(Array.indexOf(h,i)==-1){h.push(i);
}};
if(g.getAttribute("face")){e("font-family");
}if(g.getAttribute("color")){e("color");
}if(g.getAttribute("size")){e("size");
}if(g.style){for(var f=0;
f<g.style.length;
f++){e(g.style[f]);
}}if(h.length<2){return true;
}return false;
},removeCommandFormattingValue:function(e){e.style[this.settings.cssName]="";
},hasSameFormatting:function(f){if(!f){var g=this.getEditorRange();
f=d.isTextNode(g.commonAncestorContainer)?g.commonAncestorContainer.parentNode:g.commonAncestorContainer;
}if(this.hasSameFormattingValue(f)){return true;
}var e=this.findSameFormattedAncestor(f);
if(!e){return false;
}return this.hasSameFormattingValue(e);
},isSameCssFormat:function(e){return this.settings.cssName&&e.style&&!!e.style[this.settings.cssName];
}};
b.InlineCommandWithValue.registerClass("Telerik.Web.UI.Editor.InlineCommandWithValue",b.InlineCommand);
})($telerik.$,Telerik.Web.UI.Editor,Telerik.Web.UI.Editor.Utils);
Type.registerNamespace("Telerik.Web.UI.Editor");
(function(a,b,d,c){b.AlignCommand=function(e,f){f=a.extend({align:"none",title:"Align"},f||{});
b.AlignCommand.initializeBase(this,[e,f]);
};
b.AlignCommand.prototype={getState:function(i,e,h){var g=h||b.DomRange.rangeFromWindow(i),f=this._getAlignValue();
return this.getCssState(g,"textAlign",f);
},getNodeState:function(h,e,f){if(this.nodes.length==1&&d.isTag(h,"img")){e=this._getCssFloatName();
var i=this.options;
if((i.align!="left"||i.align!="right"||i.align!="none")&&!h.style[e]){var g=this.getBlockContainer(h);
if(g&&g!=h){h=g;
e="textAlign";
}}}return b.AlignCommand.callBaseMethod(this,"getNodeState",[h,e,f]);
},getEmptySuitableListState:function(){return this.options.align=="none";
},topLimitCondition:function(f,e){return d.isEditorContentArea(f)||d.isTag(e,"img");
},executeOnNode:function(g,f){if(d.isTag(g,"table")||d.isTag(g,"tr")){return;
}if(d.isTag(g,"ul")||d.isTag(g,"ol")){return this.executeDomCommand(a.makeArray(g.children));
}if(d.isTag(g,"img")){if(this.nodes.length==0&&this.canAlignImage()){if(this.options.align=="none"){this.alignBlock(this.getBlockContainer(g));
}return this.alignImage(g);
}else{this.removeImageAlign(g);
var e=this.getBlockContainer(g);
if(e!=g){this.executeOnNode(e);
}else{return this.executeInlineNode(g);
}}}this.alignBlock(g,f);
},alignBlock:function(g,f){if(!g){return;
}var h=g.style.textAlign;
var e=this._getAlignValue();
g.style.textAlign=e;
this.trackChangedNode({node:g,cssProperty:"textAlign",originalValue:h,isWrapper:f});
},alignImage:function(g){var e=this._getAlignValue(),f=this._getCssFloatName();
var h=g.style[f];
g.style[f]=e;
this.trackChangedNode({node:g,cssProperty:f,originalValue:h});
},getBlockContainer:function(e){var f=[e];
this.traverser.edgesToBlock(f,function(g){return d.isEditorContentArea(g);
});
return f[0];
},isSuitableNode:function(e){return d.isBlockElement(e)||d.isTag(e,"img");
},canAlignImage:function(){var e=this.options.align;
return e=="left"||e=="right"||e=="none";
},removeImageAlign:function(e){e.style[this._getCssFloatName()]="";
},_getAlignValue:function(e){return this.options.align=="none"?"":this.options.align;
},_getCssFloatName:function(){return $telerik.isIE&&!$telerik.isIE10Mode?"styleFloat":"cssFloat";
}};
b.AlignCommand.registerClass("Telerik.Web.UI.Editor.AlignCommand",b.DomBlockCommandBase);
})($telerik.$,Telerik.Web.UI.Editor,Telerik.Web.UI.Editor.Utils);
Type.registerNamespace("Telerik.Web.UI.Editor");
(function(a,b,e){function d(f){return b.InlineCommandSettings[f];
}function c(i){var f=i+"Command",j="Telerik.Web.UI.Editor."+f,h=d(i);
h.commandName=i;
var g=b[f]=function(l,m){var k=b[h.commandName]?b[h.commandName]:h.hasValue?b.InlineCommandWithValue:b.InlineCommand;
return new k(l,h,m);
};
g.registerClass(j);
}b.InlineCommandSettings={Bold:{tag:"strong",altTags:["b"],cssName:"fontWeight",cssValue:"bold"},Italic:{tag:"em",altTags:["i"],cssName:"fontStyle",cssValue:"italic"},Underline:{altTags:["u"],cssName:"textDecoration",cssValue:"underline"},StrikeThrough:{tag:"del",altTags:["strike"],cssName:"textDecoration",cssValue:"line-through"},Subscript:{tag:"sub",altTags:[]},Superscript:{tag:"sup",altTags:[]},ForeColor:{altTags:["font"],cssName:"color",altTagAttr:"color",hasValue:true},BackColor:{altTags:["font"],cssName:"backgroundColor",hasValue:true},FontName:{altTags:["font"],cssName:"fontFamily",altTagAttr:"face",enableToolStateValue:true,hasValue:true},RealFontSize:{altTags:["font"],cssName:"fontSize",altTagAttr:"size",enableToolStateValue:true,hasValue:true},TrackChangesInsert:{tag:"ins",isNotGreedy:true},TrackChangesDelete:{tag:"del",isNotGreedy:true,altTags:[]},TrackChangesRemoveFormat:{isNotGreedy:true}};
c("Bold");
c("Italic");
c("Underline");
c("StrikeThrough");
c("Subscript");
c("Superscript");
c("ForeColor");
c("BackColor");
})($telerik.$,Telerik.Web.UI.Editor);
(function(a,m){Type.registerNamespace("Telerik.Web.UI.Editor");
var d=Telerik.Web.UI.Editor;
var n=d.Utils;
var l=".__telerik_marker";
var h="&nbsp;";
d.DeleteSelectionCommand=function(q,v,t){var p=this;
var u=a.extend({complete:false},v||{});
var r=a.extend({title:"Delete"},t||{});
d.DeleteSelectionCommand.initializeBase(p,[q,u,r]);
p.settings.isNotGreedy=true;
};
d.DeleteSelectionCommand.prototype={executeInlineCommand:function(){var o=this,u=o.range=o.getEditorRange(),r=o.get_editor();
var s=o.traverseFragments(u);
var t;
if(s.length){t=s[s.length-1].getParent();
}o.emptyRange=u.toString()=="";
o.storeRangeByFragments(s);
o.rangeChanged=false;
o.formatFragments(s);
o.fireFormattingChanged();
var p=c(),q=r.get_contentArea();
p.consolidateMarkedEdges(q);
p.normalize(u.commonAncestorContainer);
this.cleanUpEmptyContent(t);
o.restoreRange();
return true;
},formatFragments:function(s){var o=this;
if(s.length===0){return;
}var r=o.get_editor();
var q=r.get_contentArea();
while(s.length){this.formatFragment(s.shift());
}var p=c();
p.stichMarkedEdges(q);
},formatFragment:function(p){var o=this;
Array.forEach(p.nodes,function(q){o.deleteNodeContent(q);
});
},getStateByRange:function(p,o){if(!p){return d.CommandStates.Disabled;
}return p.isCollapsed()||(o&&o.nodesTracker.isTracked(p.commonAncestorContainer))?d.CommandStates.Disabled:d.CommandStates.Off;
},deleteNodeContent:function(o){if(n.isTag(o,"td")){n.removeChildren(o);
o.innerHTML=h;
}else{j(o);
}},cleanUpEmptyContent:function(v){var p=this.get_editor();
var o=p.get_contentArea();
var y=this.settings;
k(o);
while(v&&v!==o&&n.isNodeEmptyRecursive(v,true)){var w=v;
if(g(w)){this.deleteNodeContent(w);
break;
}v=w.parentNode;
if(v){j(w);
}}if(y.complete){var q=e(o)[0];
var r=q.parentNode;
var x;
var u=function(s){return n.isTag(r,s);
};
var t=function(s){return r.getElementsByTagName(s).length>0;
};
while(r&&r!==o&&!u("td")&&!u("th")&&(!u("li")||f(r))&&(r.childNodes.length==1||((u("tbody")||u("table"))&&!t("tr"))||(n.isList(r)&&!t("li")))){x=r;
r=r.parentNode;
if(r){r.insertBefore(q,x);
j(x);
}}}},shouldCollectNode:function(q){var o=this.get_editor().get_contentArea();
var p=function(r){return n.isTag(q,r);
};
return(q!==o)&&!p("tr")&&!p("tbody");
},restoreRange:function(){var u=this.range,s=e(this.get_editor().get_contentArea());
if(s.length){var r=s[0];
var p=this.get_editor();
var o=p.get_document();
var t=r.parentNode;
p.setActive();
p.setFocus();
var v=o.createElement("span");
v.innerHTML="&#x200b;";
var q=v.firstChild;
t.insertBefore(q,r);
s.remove();
u.setStart(q,0);
u.setEnd(q,1);
u.collapse();
u.select();
p.nodesTracker.trackNode(q);
}}};
function b(s,t){var p=d.NodeComparer;
var q=n.isBlockElement;
var r=n.isList;
var u=i(s)&&i(t);
var o=(q(s)&&q(t));
var v=(r(s)===r(t));
return s&&t&&u&&((o&&v)||p.equalNodes(s,t));
}function c(){return new d.Consolidator({nodeCompare:b});
}function j(o){o.parentNode.removeChild(o);
}function k(o){var p=e(o);
if(p.length>1){j(p[1]);
}}function f(o){var p=o.parentNode;
return p.getElementsByTagName("li").length==1;
}function e(o){return a(o).find(l);
}function i(p){var o=n.isTag;
return !(o(p,"table")||o(p,"tr")||g(p));
}function g(o){return n.isTag(o,"td")||n.isTag(o,"th");
}d.DeleteSelectionCommand.registerClass("Telerik.Web.UI.Editor.DeleteSelectionCommand",d.InlineCommand);
})($telerik.$);
(function(a,b,d,c){b.FontName=function(e,f){b.FontName.initializeBase(this,[e,b.InlineCommandSettings.FontName,f]);
};
b.FontName.prototype={getValue:function(k,h){var j=b.FontName.callBaseMethod(this,"getValue",[k,h]),e=this.get_editor(),f=(e&&j)?e.get_fontNames():[];
for(var g=0;
g<f.length;
g++){if(f[g].toLowerCase()==j.toLowerCase()){j=f[g];
break;
}}return j;
}};
b.FontName.registerClass("Telerik.Web.UI.Editor.FontName",b.InlineCommandWithValue);
})($telerik.$,Telerik.Web.UI.Editor,Telerik.Web.UI.Editor.Utils);
Type.registerNamespace("Telerik.Web.UI.Editor");
(function(a,b,d,c){b.IndentCommand=function(e,f){f=a.extend({step:40},f||{});
b.IndentCommand.initializeBase(this,[e,f]);
this.cssIndentRule=this.isRTL()?"marginRight":"marginLeft";
};
b.IndentCommand.prototype={topLimitCondition:function(e){return e==this.get_editorContentArea()||d.isTag(e,"td");
},isSuitableNode:function(e){return d.isBlockElement(e);
},executeOnNode:function(f,e){if(d.isTag(f,"li")){this.indentList(f);
}else{this.indentBlock(f,e);
}},getState:function(){return b.CommandStates.Off;
},innerList:null,indentedList:null,indentList:function(e){if(d.isAncestorOf(this.indentedList,e)||d.isAncestorOf(this.innerList,e)){return;
}if(this.isFirstListItem(e)){this.indentedList=e.parentNode;
this.indentBlock(this.indentedList);
}else{if(!this.innerList){this.innerList=this.indentSublist(e);
}this.trackChangedNode({node:e});
this.innerList.appendChild(e);
}},indentSublist:function(g){var e=this.get_editor().get_document();
var h=a(g).prev();
var f=this.findExistingInnerList(h[0]);
if(!f){f=e.createElement(g.parentNode.tagName);
h.append(f);
}return f;
},findExistingInnerList:function(e){return a(e).children("ol,ul").last()[0];
},isFirstListItem:function(f){var e=f.parentNode;
return e.getElementsByTagName("li")[0]==f;
},indentBlock:function(e,f){if(d.isTag(e,"td")){return this.executeDomCommand(a.makeArray(e.childNodes));
}var g=e.style[this.cssIndentRule];
e.style[this.cssIndentRule]=this.calculateIndent(e)+"px";
this.trackChangedNode({node:e,cssProperty:this.cssIndentRule,originalValue:g,isWrapper:f});
},calculateIndent:function(f){var e=parseInt(f.style[this.cssIndentRule],10)||0;
e+=this.options.step;
return e;
},cleanUp:function(){this.innerList=this.indentedList=null;
b.IndentCommand.callBaseMethod(this,"cleanUp");
}};
b.IndentCommand.registerClass("Telerik.Web.UI.Editor.IndentCommand",b.DomBlockCommandBase);
})($telerik.$,Telerik.Web.UI.Editor,Telerik.Web.UI.Editor.Utils);
Type.registerNamespace("Telerik.Web.UI.Editor");
(function(a,c,b,d){b.InsertLinkCommand=function(l,k,m,g){b.InsertLinkCommand.initializeBase(this,[l,k,true,g]);
this.utils=b.Utils;
this.linkProperties={};
var f=m.attributes;
for(var h=0,j=f.length;
h<j;
h++){var e=f[h].name;
this.linkProperties[e]=m.getAttribute(e);
}a.extend(this.linkProperties,{id:m.getAttribute("id"),href:m.getAttribute("href",2),target:m.target,title:m.title,className:m.className,name:m.name,innerHTML:m.childNodes.length==1&&this.utils.isTextNode(m.firstChild)?m.innerHTML:""});
};
b.InsertLinkCommand.prototype={onExecute:function(){if(this.executeOverFragments()){return true;
}var e=this.getCurrentFormattedAncestor();
if(e){var f=this.getRange();
f.selectNodeContents(e);
f.select();
return this.executeOverFragments();
}else{return this.insertSingleLink();
}},executeOverFragments:function(){var e=this.traverseFragments();
if(e.length){return this.insertLinkByFragments(e);
}},insertLinkByFragments:function(g){for(var h=0;
h<g.length;
h++){var f=g[h];
var k=f.getParent();
var e=this.findFormattedAncestor(k);
var l=!!e;
var j=l?this.applyLinkProperties(e):this.createLink();
if(!l){f.insertBeforeFirst(j);
if(this.linkProperties.innerHTML){f.remove();
}else{f.appendTo(j);
}}if(!this.stripIfEmpty(j)){this.raiseDomChangeEvent(j);
}}return true;
},insertSingleLink:function(){var f=this.getRange();
f.collapse(true);
var e=this.createLink();
f.insertNode(e);
f.selectNode(e);
f.select();
this.raiseDomChangeEvent(e);
return true;
},createLink:function(){var g=this.linkProperties;
var e=this.get_window().document;
var f=e.createElement(($telerik.isIE&&!$telerik.isIE9Mode)&&g.name?"<a name='"+g.name+"'>":"a");
return this.applyLinkProperties(f);
},applyLinkProperties:function(e){var g=this.linkProperties;
for(var f in g){this._applyDomProperty(e,f,g[f]);
}return e;
},getCurrentFormattedAncestor:function(){var e=this.getRange(),f=e.getParentElement();
return this.findFormattedAncestor(f);
},findFormattedAncestor:function(g){var e=this.get_editor().get_contentArea();
if(this.utils.isTag(g,"a")){return g;
}else{var f=this.utils.findAncestorByTag(e.parentNode,g,"a");
return f==e?null:f;
}},raiseDomChangeEvent:function(h){var g=this.get_editor();
var f=this.get_title();
var e=new c.EditorCommandEventArgs(f,null,h);
g._executeCommandEvent("domChange",f,e);
},_applyDomProperty:function(f,g,h){if(h){if(g=="innerHTML"||g=="className"||g=="spellcheck"){if(h!=f[g]){f[g]=h;
}}else{f.setAttribute(g,h,2);
}}else{var e=this.resolveAttributeName(g);
if(e){f.removeAttribute(e);
}}},resolveAttributeName:function(e){return e=="className"?"class":e=="innerHTML"?null:e;
},stripIfEmpty:function(e){e.normalize();
if(this.utils.isWhitespaceNode(e)){e.parentNode.removeChild(e);
return true;
}else{if(e.innerHTML.toLowerCase()=="<br>"){this.utils.removeNode(e);
return true;
}}return false;
},traverseFragments:function(){var e=this.getRange();
var g=new Telerik.Web.UI.Editor.RangeFragmentsTraverser(e);
var f=this._getTraverseCondition();
g.traverseFragments(f);
return g.traversedFragments;
},_getTraverseCondition:function(){var g=$telerik.isIE&&!$telerik.isIE10Mode,f=this.get_editor().get_enableImmutableElements(),e;
if(!f){e=g?b.FragmentsCondition.inlineNotLinkForIE8:b.FragmentsCondition.inlineNotLink;
}else{if(g){e=function(h){return b.FragmentsCondition.inlineNotLinkForIE8(h)&&!b.Utils.isImmutableNode(h);
};
}else{e=function(h){return b.FragmentsCondition.inlineNotLink(h)&&!b.Utils.isImmutableNode(h);
};
}}return e;
},getRange:function(){return Telerik.Web.UI.Editor.DomRange.toDomRange(this.get_editor().getSelection().getRange(true));
}};
b.InsertLinkCommand.registerClass("Telerik.Web.UI.Editor.InsertLinkCommand",b.CommandBase);
})($telerik.$,Telerik.Web.UI,Telerik.Web.UI.Editor);
Type.registerNamespace("Telerik.Web.UI.Editor");
(function(a,b,d,c){b.InsertListCmd=function(e,f){f=a.extend({listType:"ul",title:"InsertUnorderedList",noDuplicateNodeEdges:false},f||{});
b.InsertListCmd.initializeBase(this,[e,f]);
};
b.InsertListCmd.prototype={executeDomCommand:function(f){this.isListOn=this.getNodesState(f);
if(f.length==1){var e=f[0];
if(!e){return this.insertEmptyList();
}else{if(this.shouldReplaceWithEmptyList(e)){e.parentNode.removeChild(e);
return this.insertEmptyList();
}}}b.InsertListCmd.callBaseMethod(this,"executeDomCommand",[f]);
},isSuitableNode:function(e){var f=d.isTag;
return d.isBlockElement(e)&&!f(e,"td")&&!f(e,"table");
},executeOnNode:function(h,e){if(this.isList(h)){return this.executeDomCommand(a.makeArray(h.children));
}if(d.isTag(h,"li")){var g=h.parentNode;
if(this.insertedList&&this.insertedList!=g){if(this.isSameListType(g)){this.addWholeList(g);
}else{this.insertedList.appendChild(h);
this.removeEmptyList(g);
}}if(!this.insertedList){if(this.isListOn){this.removeListItem(h);
}else{if(this.isSameListType(g)){this.insertedList=g;
}else{this.replaceListItem(h);
}}}}else{if(!this.insertedList){this.insertedList=this.insertNewListBefore(h);
}var i=h.nodeName;
var f=this.replaceNodeRangeSafe(h,"li");
this.insertedList.appendChild(f);
this.trackChangedNode({node:f,originalNodeName:i,isWrapper:e});
}},executeInlineNode:function(f){var e=d.isTag(f,"td");
if(e){f=this.findFirstInlineChild(f);
}b.InsertListCmd.callBaseMethod(this,"executeInlineNode",[f,e]);
},shouldReplaceWithEmptyList:function(e){var f=function(g){return d.isTag(e,g);
};
return !this.isListOn&&d.isEmptyDom(e)&&!f("img")&&!f("li")&&!f("td")&&!this.isList(e);
},transformListItem:function(j,l){var h=j.parentNode;
var i=h.parentNode;
var g=a.makeArray(a(h).children());
var k=Array.indexOf(g,j);
var f=g.length;
if(k>0&&k<f-1){this.splitList(h,g.splice(k+1,f-k));
}var e=l(j);
i.insertBefore(e,(k==0?h:h.nextSibling));
this.trackChangedNode(a.extend(this.trackChangedNodeArgs||{},{nodeIndex:k,itemsCount:f}));
this.trackChangedNodeArgs=null;
this.removeEmptyList(h);
},replaceListItem:function(e){this.transformListItem(e,Function.createDelegate(this,function(i){var h=i.parentNode,f=a(h).children(),g=f.length,j=Array.indexOf(a.makeArray(f),i);
this.insertedList=this.createList();
this.insertedList.appendChild(i);
$telerik.mergeElementAttributes(h,this.insertedList);
this.trackChangedNodeArgs={node:this.insertedList,itemIndex:j,itemsCount:g,parentNode:h};
return this.insertedList;
}));
},removeListItem:function(e){this.transformListItem(e,Function.createDelegate(this,function(j){var i=j.parentNode,f=a(i).children(),h=f.length,k=Array.indexOf(a.makeArray(f),j);
var l=j.nodeName;
var g=this.replaceNodeRangeSafe(j,this.options.blockTag);
this.trackChangedNodeArgs={node:g,originalNodeName:l,itemIndex:k,itemsCount:h,parentNode:i};
return g;
}));
},splitList:function(f,h){var g=this.insertNewListAfter(f,f.tagName);
for(var e=0;
e<h.length;
e++){g.appendChild(h[e]);
}return g;
},getState:function(g,e,f){return this.getCssState(f);
},getNodeState:function(f){var e=d.isTag(f,"li")?f.parentNode:f;
return this.isSameListType(e);
},addWholeList:function(e){var f=a.makeArray(a(e).children());
while(f.length){this.insertedList.appendChild(f.shift());
}this.removeEmptyList(e);
},insertNewListBefore:function(f){var e=this.createList(this.options.listType);
f.parentNode.insertBefore(e,f);
return e;
},insertNewListAfter:function(g,h){var f=h||this.options.listType;
var e=this.createList(f);
g.parentNode.insertBefore(e,g.nextSibling);
return e;
},createList:function(f){var g=f||this.options.listType;
var e=this.get_window().document;
return e.createElement(g);
},insertEmptyList:function(){var e=this.get_window().document;
var h=this.getEditorRange();
var g=e.createElement(this.options.listType);
var f=e.createElement("li");
g.appendChild(f);
this.trackChangedNode({node:g,isEmptyList:true});
h.insertNode(g);
h.setCursorInEmptyNode(f);
this.rangeMemento=null;
},replaceNodeRangeSafe:function(e,g){var f=d.replaceNode(e,g);
this.rememberNewSelectedNode(e,f);
return f;
},createListItemWithContent_rangeSafe:function(e){var f=this.get_window().document,g=f.createElement("li");
while(e.childNodes.length){g.appendChild(e.firstChild);
}return g;
},removeEmptyList:function(e){if(e.getElementsByTagName("li").length==0&&e.parentNode){e.parentNode.removeChild(e);
this.rememberNewSelectedNode(e,this.insertedList);
}},isList:function(e){return d.isList(e);
},isSameListType:function(e){return d.isTag(e,this.options.listType);
},cleanUp:function(){this.insertedList=null;
b.InsertListCmd.callBaseMethod(this,"cleanUp");
this.insertAll=null;
}};
b.InsertListCmd.registerClass("Telerik.Web.UI.Editor.InsertListCmd",b.DomBlockCommandBase);
})($telerik.$,Telerik.Web.UI.Editor,Telerik.Web.UI.Editor.Utils);
(function(a,b,d,c){b.InsertParagraphCommand=function(f,g){var e=this;
e.options=a.extend({tag:"p",retainOriginalNodeName:true,insertParagraphAfterHeading:false,title:"InsertParagraph"},g||{});
b.InsertParagraphCommand.initializeBase(e,[f,e.options]);
e.cursorCssClass="_TELERIK_InsertParagraph";
e.container=null;
e.newContainer=null;
e.doc=f.get_document();
};
b.InsertParagraphCommand.prototype={onExecute:function(){var e=this;
e.on({nodeInserted:e._nodeInsertedHandler},e);
try{return e.executeDomCommand();
}catch(g){var f=e.get_editor().get_contentArea();
a("."+e.cursorCssClass,f).remove();
}e.off({nodeInserted:e._nodeInsertedHandler},e);
return false;
},executeDomCommand:function(){var e=this,i=e.get_editor();
var k=e.range=i.getSelection().getRange(true);
if(!k||(k.parentElement&&k.parentElement().nodeName=="TEXTAREA")||(k.commonAncestorContainer&&d.isTag(k.commonAncestorContainer.childNodes[k.startOffset],"textarea"))){return false;
}var h=e.domRange=b.DomRange.toDomRange(k);
if(h.commonAncestorContainer&&h.commonAncestorContainer.nodeName&&/^table|tr$/i.test(h.commonAncestorContainer.nodeName)){return false;
}if(e.isOnlyListSelected()){return e.executeOverList();
}if(i._fireDeleteSelectionCmd(false)){k=e.range=i.getSelection().getRange(true);
h=e.domRange=b.DomRange.toDomRange(k);
}var g=e.createCursorElement();
e.insertNode(g);
e.clearTrackedNodesAroundCursor(g);
var f=e.wrapInlineElements(g);
var j=e.extractFrom(g,f);
j=e.ensureNewLineMode(j);
e.newContainer=j;
e._fireNodeInserted(j,g);
e._ensureContainerNotEmpty(f);
e.setCursor(j,g);
d.scrollTo(j,i);
if($telerik.isIE7&&i.get_contentAreaMode()==Telerik.Web.UI.EditorContentAreaMode.Div){d._toggleElementZoom(j);
}return true;
},extractFrom:function(g,f){var e=this,h=e.doc.createTextNode("\u00A0");
a(h).insertBefore(g);
var i=new b.DomTreeExtractor(f);
var k=i.extractAfter(h);
var j=f.cloneNode(true);
a(j).insertAfter(f);
d.removeChildren(j);
j.appendChild(k);
e._prevCursorParent=h.parentNode;
a(h).remove();
return j;
},clearTrackedNodesAroundCursor:function(e){var f=this.get_editor();
f.nodesTracker.removeTrackedNode(e.previousSibling);
f.nodesTracker.removeTrackedNode(e.nextSibling);
},executeOverList:function(){var e=this,f=e.domRange,g=f.commonAncestorContainer,h=e.doc.createElement(e.options.tag);
h.innerHTML="&nbsp;";
a(h).insertAfter(g);
a(g).remove();
f.setCursorInEmptyNode(h);
return true;
},createCursorElement:function(){var e=this,f=e.doc.createElement("span");
f.innerHTML="&nbsp;";
a(f).addClass(e.cursorCssClass);
return f;
},insertNode:function(f){var e=this,g=e.range;
if(g.insertNode){g.insertNode(f);
}else{e.domRange.insertNode(f);
}if(e._isEmptyTextNode(f.previousSibling)){a(f.previousSibling).remove();
}if(e._isEmptyTextNode(f.nextSibling)){a(f.nextSibling).remove();
}},_isEmptyTextNode:function(e){return d.isTextNode(e)&&d.isTextNodeEmpty(e);
},fixListsAroundCursor:function(h,f){var e=this,i=e.getParentList(h.startContainer),g=e.getParentList(h.endContainer);
if(i){e.removeNonLiElements(i);
}if(g){e.removeNonLiElements(g);
}if(f.parentNode&&(d.isTag(f.parentNode,"ol")||d.isTag(f.parentNode,"ul"))){e.fixListItems(f);
}},regExpWhiteSpace:/^[\s\t\r\n\u200b\u00a0]*$/,ensureNewLineMode:function(f){var e=this,g=e.get_editor().get_newLineMode(),i=e.options,j=e.regExpWhiteSpace,h="p",k="";
h=g==Telerik.Web.UI.EditorNewLineModes.Div?"div":h;
if(!i.retainOriginalNodeName&&!e.container){k=d.getTextContent(f).replace(j,"");
if(g==Telerik.Web.UI.EditorNewLineModes.P&&!d.isTag(f,"p")&&k==""){f=d.replaceNode(f,"p");
}else{if(g==Telerik.Web.UI.EditorNewLineModes.Div&&!d.isTag(f,"div")&&k==""){f=d.replaceNode(f,"div");
}}}if(i.insertParagraphAfterHeading){k=d.getTextContent(f).replace(j,"");
if(/^h[1-6]$/i.test(f.nodeName)&&k==""){f=d.replaceNode(f,h);
}}return f;
},isOnlyListSelected:function(){var e=this,f=e.domRange;
if(!f.commonAncestorContainer){return false;
}if(!d.isTag(f.commonAncestorContainer,"ol")&&!d.isTag(f.commonAncestorContainer,"ul")){return false;
}var g=f.commonAncestorContainer;
if(e.isFirstLiSelected(g,f.startContainer)&&e.isLastLiSelected(g,f.endContainer)){return true;
}},getParentList:function(f){if(d.isTextNode(f)){f=f.parentNode;
}var e=d.getElementParentByTag(f,"OL");
if(!e){e=d.getElementParentByTag(f,"UL");
}return e;
},isLastLiSelected:function(h,i){var f=d.isTextNode(i)?i.parentNode:i;
var g=d.isTag(f,"li")?f:d.getElementParentByTag(f,"li");
if(!g){return false;
}if(!a(g).is(h.children[h.children.length-1])){return false;
}var e=i;
while(!a(e).is(g)){if(e.nextSibling){return false;
}e=e.parentNode;
}return true;
},isFirstLiSelected:function(g,h){var i=d.isTextNode(h)?h.parentNode:h;
var f=d.isTag(i,"li")?i:d.getElementParentByTag(i,"li");
if(!f){return false;
}if(!a(f).is(g.children[0])){return false;
}var e=h;
while(!a(e).is(f)){if(e.previousSibling){return false;
}e=e.parentNode;
}return true;
},wrapInlineElements:function(g){var e=this,h=e.doc;
if(e.container&&a(e.container).find(g).length>0){e._trimElements(e.container,g);
return e.container;
}var f=e.getBlockContainer(g);
if(!d.isBlockElement(f)){a(f).wrap(h.createElement(e.options.tag));
f=f.parentNode;
e.prependPreviousSiblings(f);
e.insertNextSiblings(f);
}e._trimElements(f,g);
return f;
},_trimElements:function(f,g){var e=this;
e.fixListsAroundCursor(e.domRange,g);
var k=a(f).find("ol,ul");
for(var j=0;
j<k.length;
j++){e.trimElementNeighbours(k[j]);
}if(k.length>0){e.trimElementNeighbours(g);
}var h=g.parentNode,l=g.nextSibling;
if($telerik.isIE&&!$telerik.isIE9Mode){e._removeWhiteSpaceTextNode(g.previousSibling);
e._removeWhiteSpaceTextNode(l);
}else{if(h.lastChild===l&&d.isTag(l,"br")){h.removeChild(l);
}}},_removeWhiteSpaceTextNode:function(e){if(d.isTextNode(e)&&this.regExpWhiteSpace.test(e.nodeValue)){e.parentNode.removeChild(e);
}},trimElementNeighbours:function(e){d.trimElementNeighbours(e);
},traverseCondition:function(e){return !d.isBlockElement(e);
},prependPreviousSiblings:function(f){var e=this;
while(f.previousSibling&&e.traverseCondition(f.previousSibling)){if(d.isTextNodeEmpty(f.previousSibling)){a(f.previousSibling).remove();
}else{a(f).prepend(f.previousSibling);
}}},insertNextSiblings:function(f){var e=this;
while(f.nextSibling&&e.traverseCondition(f.nextSibling)&&!e._isContentAreaLastBr(f.nextSibling)){if(d.isTextNodeEmpty(f.nextSibling)){a(f.nextSibling).remove();
}else{a(f.nextSibling).insertAfter(f.lastChild);
}}},_isContentAreaLastBr:function(e){return d.isTag(e,"br")&&!e.nextSibling&&d.isEditorContentArea(e.parentNode);
},getBlockContainer:function(f){var e=f;
var g=f.parentNode;
while(g){if(d.isEditorContentArea(g)){return e;
}if(d.isBlockElement(g)){if(g.nodeName&&/^table|tr|td$/i.test(g.nodeName)){return e;
}else{return g;
}}e=g;
g=g.parentNode;
}return e;
},_ensureContainerNotEmpty:function(g){var f=this;
var i=f._prevCursorParent;
if(d.isNodeEmptyRecursive(g)){i.appendChild(f.doc.createTextNode("\u00A0"));
}else{if(d.getTextContent(g).trim()==""){if(d.isTag(i.firstChild,"br")){var e=i.removeChild(i.firstChild),h=d.isNodeEmptyRecursive(g)?f.doc.createTextNode("\u00A0"):e;
i.appendChild(h);
}}}},setCursor:function(f,g){var e=this,i=e.get_editor(),n=d.getPreviousElement(g),l=d.getNextElement(g);
if((n&&(d.isTag(n,"ol")||d.isTag(n,"ul")))||(l&&(d.isTag(l,"ol")||d.isTag(l,"ul")))){d._setCursorAroundList(g,f,i,e.range);
}else{if(d.isNodeEmptyRecursive(f)){e.setCursorInNode(g);
}else{var o;
if(g.nextSibling&&d.isTextNode(g.nextSibling)&&!d.isTextNodeEmpty(g.nextSibling)){if($telerik.isIE){var m=g.parentNode;
a(g).remove();
var h=b.DomRange.toDomRange(i.getSelection().getRange(true));
var k=d.isTextNode;
var j=a(m).contents().filter(function(){return k(this);
}).get(0);
e.setCursorInTextNode(h,j,0,0);
return;
}else{i.getSelection().moveToElementText(g.nextSibling);
}if($telerik.isSafari&&!$telerik.isChrome){o=g.nextSibling;
a(g).remove();
i.getSelection().moveToElementText(o);
}}else{o=e.doc.createTextNode("");
g.parentNode.insertBefore(o,g);
e.setCursorInTextNode(e.domRange,o,0,0);
}}}a(g).remove();
},setCursorInNode:function(e){d._setCursor(e,this.get_editor());
},setCursorInTextNode:function(e,h,g,f){d._setCursorInTextNode(e,h,g,f);
},removeNonLiElements:function(f){for(var e=f.childNodes.length-1;
e>=0;
e--){if(!d.isTag(f.childNodes[e],"li")){a(f.childNodes[e]).remove();
}}},fixListItems:function(e){var h=e.parentNode;
for(var f=h.childNodes.length-1;
f>=0;
f--){var g=h.childNodes[f];
if(!d.isTag(g,"li")&&!a(g).is(e)){a(g).remove();
}}var n=e.previousSibling,j=e.nextSibling,l=e.parentNode,m=l.previousSibling,k=l.nextSibling;
if(n&&d.isTag(n,"li")&&n.innerHTML==""){a(e).wrap(n);
}else{if(j&&d.isTag(j,"li")&&j.innerHTML==""){a(e).wrap(j);
}}if(m&&m.innerHTML==""){a(m).remove();
}if(k&&k.innerHTML==""){a(k).remove();
}},_fireNodeInserted:function(g,h){var f=this,e=a.extendEventArgs(new Sys.EventArgs(),{cursor:h,container:g});
f.trigger("nodeInserted",e);
},_nodeInsertedHandler:function(e){var f=this,h=e.get_cursor(),g=e.get_container(),i=f._isEmptyContainer(g,h);
if(i){var j=d.getElementParentByTag(h,"A");
f._removeNode(j);
if(f.get_editor().get_enableTrackChanges()){var m=b.TrackChangesUtils,l=m.getParentTrackChangesInsertNode(h,g),k=m.getParentTrackChangesDeleteNode(h,g);
f._removeNode(l);
f._removeNode(k);
}}},_isEmptyContainer:function(e,f){var g=f.firstChild,h=g.nodeValue,j=d.isTag(e.lastChild,"br")?e.removeChild(e.lastChild):null;
g.nodeValue="";
var i=d.isNodeEmptyRecursive(e);
g.nodeValue=h;
if(j){e.appendChild(j);
}return i;
},_removeNode:function(e){if(e){d.removeNode(e);
}}};
b.InsertParagraphCommand.registerClass("Telerik.Web.UI.Editor.InsertParagraphCommand",b.DomBlockCommandBase);
})($telerik.$,Telerik.Web.UI.Editor,Telerik.Web.UI.Editor.Utils);
Type.registerNamespace("Telerik.Web.UI.Editor");
(function(a,c,d){var b=c.Editor;
var e=b.Utils;
b.OutdentCommand=function(f,g){g=a.extend({step:40},g||{});
b.OutdentCommand.initializeBase(this,[f,g]);
this.cssIndentRule=this.isRTL()?"marginRight":"marginLeft";
};
b.OutdentCommand.prototype={executeOnNode:function(g,f){if(e.isTag(g,"li")){this.outdentList(g);
}else{if(e.isTag(g,"ul")||e.isTag(g,"ol")){this.outdentWholeList(g);
}else{if(e.isBlockElement(g)){this.outdentBlock(g,f);
}}}},getState:function(){return b.CommandStates.Off;
},parentLiMarker:null,firstOutdentedLi:null,outdentedList:null,outdentWholeList:function(f){if(this.getCurrentIndent(f)==0){this.outdentNodes(a("li",f).toArray());
}else{this.outdentBlock(f);
}},outdentList:function(k){if(this.outdentedList&&e.isAncestorOf(this.outdentedList,k)){return;
}var h=k.parentNode;
var j=h.parentNode;
if(!e.isTag(j,"li")||(this.isFirstListItem(k)&&this.isIndented(h))){this.outdentBlock(h);
this.outdentedList=h;
return;
}if(!this.parentLiMarker){this.parentLiMarker=j;
this.firstOutdentedLi=k;
}if(this.hasNestedLists(k)){this.outdentedList=k;
}var i=this.isFirstListItem(k);
var g=a.makeArray(a(h).children());
var l=Array.indexOf(g,k);
if(l>0&&l<(g.length-1)){var m=this.splitList(h,g.splice(l+1,g.length-l));
this.trackChangedNode({node:m,parentNode:m.parentNode,previousSibling:a(m).prev()[0],nextSibling:a(m).next()[0]});
k.appendChild(m);
}var f=j.parentNode;
this.trackChangedNode({node:k,parentNode:k.parentNode,previousSibling:a(k).prev()[0],nextSibling:a(k).next()[0]});
if(i&&!this.isEmptyList(h)){this.trackChangedNode({node:h,parentNode:h.parentNode,previousSibling:a(h).prev()[0],nextSibling:a(h).next()[0],firstItem:k});
}f.insertBefore(k,this.parentLiMarker.nextSibling);
if(i&&!this.isEmptyList(h)){k.appendChild(h);
}this.parentLiMarker=k;
if(this.isEmptyList(h)){this.rememberNewSelectedNode(h,this.firstOutdentedLi);
h.parentNode.removeChild(h);
}},isFirstListItem:function(g){var f=g.parentNode;
return f.getElementsByTagName("li")[0]==g;
},splitList:function(g,j){var h=this.insertNewListAfter(g,g.tagName);
for(var f=0;
f<j.length;
f++){h.appendChild(j[f]);
}return h;
},insertNewListAfter:function(h,g){var f=this.createList(g);
h.parentNode.insertBefore(f,h.nextSibling);
return f;
},createList:function(g){var f=this.get_window().document;
return f.createElement(g);
},isEmptyList:function(f){return f.getElementsByTagName("li").length==0;
},hasNestedLists:function(f){return f.getElementsByTagName("ul").length>0||f.getElementsByTagName("ol").length>0;
},outdentBlock:function(f,g){if(e.isTag(f,"td")){return this.outdentNodes(a.makeArray(f.childNodes));
}var i=this.calculateOutdent(f);
var h=f.style[this.cssIndentRule];
f.style[this.cssIndentRule]=i?i+"px":"";
this.trackChangedNode({node:f,cssProperty:this.cssIndentRule,originalValue:h,isWrapper:g});
this.cleanUp();
},calculateOutdent:function(g){var f=this.getCurrentIndent(g);
var h=Math.max(f-this.options.step,0);
return h;
},getCurrentIndent:function(f){return parseInt(f.style[this.cssIndentRule],10)||0;
},isIndented:function(f){return f.style&&this.getCurrentIndent(f)>0;
},cleanUp:function(){this.firstOutdentedLi=this.outdentedList=this.parentLiMarker=null;
}};
b.OutdentCommand.registerClass("Telerik.Web.UI.Editor.OutdentCommand",b.DomBlockCommandBase);
})($telerik.$,Telerik.Web.UI);
(function(a,b,d,c){b.RealFontSize=function(e,f){b.RealFontSize.initializeBase(this,[e,b.InlineCommandSettings.RealFontSize,f]);
};
b.RealFontSize.prototype={getValue:function(i,e){var h=b.RealFontSize.callBaseMethod(this,"getValue",[i,e]);
if(!h){return;
}if(/px$/i.test(h)){if(!/^[0-9]+px$/i.test(h)){h=Math.round(parseFloat(h))+"px";
}}else{if(i.getComputedStyle){var f=d.isTextNode(e.startContainer)?e.startContainer.parentNode:e.startContainer,g=i.getComputedStyle(f);
if(g&&g.fontSize&&/px$/i.test(g.fontSize)){h=Math.round(parseFloat(g.fontSize))+"px";
}}else{if(/^[1-7]$/.test(h)){h=d._fontSizesToPixels(h);
}else{if(/pt$/.test(h)){h=d._pointsToPixels(h);
}}}}return h;
}};
b.RealFontSize.registerClass("Telerik.Web.UI.Editor.RealFontSize",b.InlineCommandWithValue);
})($telerik.$,Telerik.Web.UI.Editor,Telerik.Web.UI.Editor.Utils);
(function(a,f){var b=Telerik.Web.UI;
var d=b.Editor;
var c=Telerik.Web.Browser;
var g=Telerik.Web.UI.Editor.Utils;
d.SelectAllCommand=function(h,j){var i=this.options=a.extend({window:(h&&h.get_contentWindow())||null,title:"Select All",canUnexecute:true},j||{});
d.SelectAllCommand.initializeBase(this,[i.title,i.window,i.canUnexecute,h]);
};
d.SelectAllCommand.prototype={onExecute:function(){var i=this.get_editor();
var j=e(i);
var h=i.get_contentArea();
if(c.ie&&c.version<9){h.appendChild(i.whitespaceTracker.createTrackedNode());
j.setStart(h.parentNode,g.findNodeIndex(h));
j.setEnd(h,h.childNodes.length);
}else{j.selectNodeContents(i.get_contentArea());
}j.select();
return true;
}};
function e(h){return Telerik.Web.UI.Editor.DomRange.toDomRange(h.getSelection().getRange(true));
}d.SelectAllCommand.registerClass("Telerik.Web.UI.Editor.SelectAllCommand",d.CommandBase);
})($telerik.$);
(function(a,b,d,c){b.StripCommand=function(f,i,h){var e=this;
var g=e.options=a.extend({title:"StripCommand"},h||{});
b.StripCommand.initializeBase(e,[f,i,g]);
};
b.StripCommand.prototype={isSameFormatNode:function(e){},removeNodeFormatting:function(e){},getState:function(){return b.CommandStates.On;
},shouldCollectNode:function(e){return true;
},getEditorRange:function(){var e=this;
return e.settings.selectAll?c:b.StripCommand.callBaseMethod(e,"getEditorRange");
},traverseFragments:function(h){var e=this;
if(e.settings.selectAll){var g=new b.FragmentContainer();
var f=e.getContentElement();
g.addAll(f.childNodes);
return[g];
}else{return b.StripCommand.callBaseMethod(e,"traverseFragments",[h]);
}},findFormattedAncestor:function(g){var e=this;
var f=g;
while(!d.isBlockElement(g)){if(e.isSameFormatNode(g)){f=g;
}g=g.parentNode;
}return f;
},removeFormat:function(f){var e=this;
while(f.length){e.removeFormat_fragment(f.shift());
}},removeFormat_extract:function(g,f,h){if(!d.isBlockElement(g)){var e=this;
e.extractFormatting(g,f,h);
e.removeSameFormatChildren(g);
e.removeNodeFormatting(g);
e.removeEmptyNode(g);
}},getSameFormatChildren:function(f){var e=this;
return a.makeArray(a(f).find("*").filter(function(h,g){return e.isSameFormatNode(g)&&!e.isMarker(g);
}));
},restoreRange:function(){var e=this;
if(e.settings.selectAll){var f=e.getContentElement();
a(f).find("."+e.getMarkersCssClass()).remove();
d.normalize(f);
}else{b.StripCommand.callBaseMethod(e,"restoreRange");
}},getContentElement:function(){var e=this;
return e.settings.contentElement||b.StripCommand.callBaseMethod(e,"getContentElement");
},_shouldCleanUpNode:function(f){var e=this;
return f&&!e.isMarker(f)&&(!d.isTextNode(f)||e.isComment(f));
},isComment:function(e){return e.nodeType==8;
}};
b.StripCommand.registerClass("Telerik.Web.UI.Editor.StripCommand",b.InlineCommand);
})($telerik.$,Telerik.Web.UI.Editor,Telerik.Web.UI.Editor.Utils);
(function(a,b,d,c){b.StripElementCommand=function(f,h,g){var e=this;
var i=h.tags;
var j=i[0]=="ALL"?"(?:[a-z]+:)?[a-z]+[1-6]?":i.join("|");
e.nodeNamesRegExp=new RegExp("^(?:"+j+")$","i");
h.exclude=h.exclude||[];
e.isLegacyIE=$telerik.isIE7||$telerik.isIE8;
b.StripElementCommand.initializeBase(e,[f,h,g]);
};
b.StripElementCommand.prototype={isSameFormatNode:function(f){var e=this;
return f&&(e.isCommentToStrip(f)||(e.nodeNamesRegExp.test(f.nodeName)&&!d.isEditorContentArea(f)&&!e._isNodeExcluded(f)));
},removeNodeFormatting:function(f){var e=this;
if(e.isCommentToStrip(f)){f.parentNode.removeChild(f);
}else{if(!d.isTextNode(f)&&!e.isMarker(f)){if(e.isLegacyIE){var g=d.getOuterHtml(f);
var i=g.indexOf("<");
if(/^\s+/.test(g)&&i>0){var h=g.substring(0,i);
f.parentNode.insertBefore(f.ownerDocument.createTextNode(h),f);
}}d.removeNode(f);
}}},getSameFormatChildren:function(f){var e=this;
return e._isStripAll()?d.getAllChildNodes(f):b.StripElementCommand.callBaseMethod(e,"getSameFormatChildren",[f]);
},_isNodeExcluded:function(e){return a.inArray(e.nodeName.toLowerCase(),this.settings.exclude)>=0;
},_isStripAll:function(){var e=this.settings;
return e.tags&&e.tags[0]=="ALL";
},isCommentToStrip:function(f){var e=this;
return e._isStripAll()&&e.isComment(f);
}};
b.StripElementCommand.registerClass("Telerik.Web.UI.Editor.StripElementCommand",b.StripCommand);
})($telerik.$,Telerik.Web.UI.Editor,Telerik.Web.UI.Editor.Utils);
(function(a,g){var c=Telerik.Web.UI;
var b=c.Editor;
var f="style";
var d="class";
var e=" ";
b.StripStylesCommand=function(j,k,i){var h=this;
h.options=a.extend({title:"Strip CSS Command"},i||{});
b.StripStylesCommand.initializeBase(h,[j,k,h.options]);
};
b.StripStylesCommand.prototype={isSameFormatNode:function(i){var h=this;
return(i&&h._isStyledNode(i));
},removeNodeFormatting:function(j){var i=this;
var h=i._getStyleAttributes();
a(j).removeAttr(h);
},_isStyledNode:function(h){return(h&&(!!a(h).attr(f)||!!a(h).attr(d)));
},_getStyleAttributes:function(){return[d,f].join(e);
}};
b.StripStylesCommand.registerClass("Telerik.Web.UI.Editor.StripStylesCommand",b.StripCommand);
})($telerik.$);
(function(a,b,g,f){var c="\n";
var d=/[\n\r]/;
var e=/^(?:[a-z]+:[a-z]+)/i;
b.StripWordFormattingCommand=function(i,k,j){var h=this;
h.stylesToKeep=g.getCssPropertiesToKeep([k.clearValue]);
b.StripWordFormattingCommand.initializeBase(h,[i,k,j]);
};
b.StripWordFormattingCommand.prototype={isSameFormatNode:function(h){return true;
},removeNodeFormatting:function(j){var h=this;
var i=h.hasNamespace(j);
if(h.isComment(j)||((i||!g.isBlockElement(j))&&g.isNodeEmptyRecursive(j,true))){h.deleteNode(j);
}else{if(i){g.removeNode(j);
}else{if(h.isStripAllExceptNewLines()){h._stripAllExceptNewLines(j);
}else{if(!g.isTextNode(j)){if(h.isFormattedFont(j)){h.removeFontFormatting(j);
}g.clearElement(j,h.stylesToKeep);
if((g.isTag(j,"font")||g.isTag(j,"span"))&&!g.hasAttributes(j)){g.removeNode(j);
}}}}}},removeFormat:function(j){var h=this;
while(j.length){var i=j.shift();
h._isPlainText=g.every(i.nodes,function(k){return g.isTextNode(k)||g.isTag(k,"br")||h._isTabSpan(k);
});
h.removeFormat_fragment(i);
}},_isTabSpan:function(h){return g.isTag(h,"span")&&h.style["white-space"]=="pre"&&h.childNodes.length==1&&/^[\t]+$/.test(h.firstChild.nodeValue);
},_trimRegExp:/(^[\n\r\t]+)|([\n\r\t]+$)/g,_stripAllExceptNewLines:function(i){if(g.isTag(i,"br")){return;
}var h=this;
if(g.isBlockElement(i)){h._stripBlockElement(i);
}else{if(!g.isTextNode(i)){h.removeNode(i);
}else{if(h.hasNewLineCharacter(i)){h._insertNewLineNodes(i);
}else{if(d.test(i.nodeValue)){if(g.isTextNodeEmpty(i)&&!/\xA0/.test(i.nodeValue)){h.deleteNode(i);
}else{i.nodeValue=i.nodeValue.replace(h._trimRegExp," ");
}}}}}},_inlineBlocksDelimiter:" ",_stripBlockElement:function(h){var i=this;
var k=i._isInlineBlock(h);
var m=h.parentNode;
var j=h.ownerDocument;
if(k){if(a(h).next().length){h.appendChild(j.createTextNode(i._inlineBlocksDelimiter));
}}else{if(g.isList(h)&&i._isIndented(h)){i._removeIndenting(h);
}var n=i._getSibling(h,"previousSibling");
var l=i._getSibling(h,"nextSibling");
if(n){m.insertBefore(j.createElement("br"),h);
}if(l){m.insertBefore(j.createElement("br"),l);
}}i.removeNode(h);
},_isInlineBlock:function(h){return g.isTag(h,"td")||g.isTag(h,"th");
},_getSibling:function(j,i){var h=this;
var k=j[i];
while(k&&!h._isValuable(k)){k=k[i];
}return h._isValuable(k)&&!h.isMarker(k)&&!g.isTag(k,"br")?k:f;
},_isValuable:function(i){var h=this;
return i&&!(g.isTextNode(i)&&g.isTextNodeEmpty(i))&&!h.isComment(i);
},_indentingRegExp:/\n\s+$/,_isIndented:function(h){var i=h.previousSibling;
return g.isTextNode(i)&&!g.isTextNodeEmpty(i)&&this._indentingRegExp.test(i.nodeValue);
},_removeIndenting:function(h){var i=h.previousSibling;
i.nodeValue=i.nodeValue.replace(this._indentingRegExp,"");
},removeNode:function(i){var h=this;
if(g.isTag(i,"style")||g.isTag(i,"script")){i.parentNode.removeChild(i);
}else{if(h.settings.deleteWhitespaceNodes&&i.nodeType==1&&g.canHaveChildren(i)&&g.isNodeEmptyRecursive(i)&&!(g.isList(i)&&h._isValuable(i.firstChild))){h.deleteNode(i);
}else{g.removeNode(i);
}}},deleteNode:function(h){if(h.nodeType==1&&!g.isBlockElement(h)&&h.childNodes.length==1&&!d.test(h.innerHTML)){g.removeNode(h);
}else{if(!(this._isPlainText&&this._isTabSpan(h.parentNode))){h.parentNode.removeChild(h);
}}},findFormattedAncestor:function(j){var h=this;
var i;
while(j&&!g.isBlockElement(j)){if(h.hasMsWordAttribute(j)){i=j;
}j=j.parentNode;
}return i;
},getSameFormatChildren:function(h){return g.getAllChildNodes(h);
},hasMsWordAttribute:function(k){var i=g.msWordAttrRegExp;
var l=k.getAttribute?k.getAttribute("style"):f;
l=(typeof l=="object"&&k.style&&k.style.cssText)?k.style.cssText:l;
if(l&&typeof l=="string"&&i.test(l)){return true;
}var h=k.nodeType==1?g.getDefinedAttributes(k):{};
for(var j in h){if(j!="href"&&j!="src"&&(i.test(j)||i.test(h[j]))){return true;
}}return false;
},isFormattedFont:function(h){return this.settings.clearValue=="WORD_NO_FONTS"&&g.isTag(h,"font")&&(h.getAttribute("face")||h.getAttribute("color"));
},removeFontFormatting:function(h){a(h).removeAttr("face color");
},hasNewLineCharacter:function(h){return this._isPlainText&&h.nodeType&&h.nodeType==3&&!g.isTextNodeEmpty(h)&&h.nodeValue.indexOf(c)>=0;
},hasNamespace:function(h){return e.test(h.nodeName)||("scopeName" in h&&h.scopeName!="HTML");
},isStripAllExceptNewLines:function(){return this.settings.clearValue=="ALL_NO_BRAKES";
},shouldStripMargins:function(h){return this.settings.clearValue=="WORD_NO_MARGINS"&&(h.style.marginLeft||h.style.marginRight||h.style.marginTop||h.style.marginBottom);
},_shouldCleanUpNode:function(i){var h=this;
if(h.isMarker(i)){return false;
}return i&&b.StripWordFormattingCommand.callBaseMethod(h,"_shouldCleanUpNode",[i])||(h.isStripAllExceptNewLines()&&!g.isTag(i,"br")||h.hasNewLineCharacter(i));
},_insertNewLineNodes:function(k){var l=k.nodeValue;
l=l.replace(/^\s+/,"").replace(/\s+$/,"").replace(/\r/ig,"");
var j=l.lastIndexOf(c);
var i=k.ownerDocument;
while(j>0){k.nodeValue=l.substring(j+1,l.length);
var m=i.createTextNode(l.substring(0,j));
var h=i.createElement("br");
k.parentNode.insertBefore(h,k);
k.parentNode.insertBefore(m,h);
l=m.nodeValue;
j=l.lastIndexOf(c);
k=m;
}}};
b.StripWordFormattingCommand.registerClass("Telerik.Web.UI.Editor.StripWordFormattingCommand",b.StripCommand);
})($telerik.$,Telerik.Web.UI.Editor,Telerik.Web.UI.Editor.Utils);
(function(a,b,f){var e="__telerik_marker",g=b.Utils;
b.Consolidator=function(h){this.options=a.extend({nodeCompare:c},h||{});
};
b.Consolidator.prototype={consolidateMarkedEdges:function(i){var h=this;
var j=this._getMarkers(i);
if(j[0]){h.consolidateOverMarker(j[0]);
}if(j[1]){h.consolidateOverMarker(j[1]);
}},stichMarkedEdges:function(h){var i=this._getMarkers(h);
this.stichMarkers(i[0],i[1]);
},stichMarkers:function(i,h){if(!i||!h){return;
}this.stichCommonAncestor=g.findCommonAncestor(i,h);
this._stichMarkersRecurse(i,h);
},_stichMarkersRecurse:function(m,j){var h=this;
var i=h.stichCommonAncestor;
var l=h.options.nodeCompare;
var n=g.findAncestorUntil(i,m);
var k=g.findAncestorUntil(i,j);
if((n===m)||(k===j)||(n===k)){delete h.stichCommonAncestor;
return;
}if(l(n,k)){d(k,n);
h.stichCommonAncestor=n;
h._stichMarkersRecurse(m,j);
}},consolidateOverMarker:function(i){var h=this;
var k=h.options.nodeCompare;
var l=i.previousSibling,j=i.nextSibling;
if(k(l,j)){l.appendChild(i);
while(j.firstChild){l.appendChild(j.firstChild);
}j.parentNode.removeChild(j);
h.consolidateOverMarker(i);
}},normalizeTextEdge:function(i,l,h){var k=i.previousSibling,j=i.nextSibling;
if(g.isTextNode(k)&&g.isTextNode(j)){l[h?"setStart":"setEnd"](k,k.nodeValue.length);
this.mergeTextToStart(k,j);
i.parentNode.removeChild(i);
return true;
}return false;
},normalize:function(h){g.normalize(h);
},mergeTextToStart:function(h,i){h.nodeValue+=i.nodeValue;
i.parentNode.removeChild(i);
return h;
},mergeTextNodes:function(i,h){h.nodeValue=i.nodeValue+h.nodeValue;
i.parentNode.removeChild(i);
return h;
},_getMarkers:function(h){return a("."+e,h);
}};
b.Consolidator.registerClass("Telerik.Web.UI.Editor.Consolidator");
function d(i,h){while(i.firstChild){h.appendChild(i.firstChild);
}if(i.parentNode){i.parentNode.removeChild(i);
}}function c(h,i){if(!h||!i||!h.parentNode||!i.parentNode||g.isTextNode(h)){return false;
}return b.NodeComparer.equalNodes(h,i);
}b.NodeComparer={equalNodes:function(h,i){return this.equalTag(h,i)&&this.equalStyle(h,i)&&this.equalAttributes(h,i);
},equalTag:function(h,i){return g.isTag(h,i.tagName);
},equalStyle:function(h,i){return h.style&&i.style&&h.style.cssText==i.style.cssText;
},equalAttributes:function(h,j,m){var i=this._collectAttributes(h,m),k=this._collectAttributes(j,m);
if(i.length!==k.length){return false;
}delete i.length;
delete i.style;
delete i.timestamp;
delete i.title;
for(var l in i){if(i[l]!==k[l]){return false;
}}return true;
},_collectAttributes:function(h,i){return i&&i.length>0?g.getAttributes(h,i):g.getDefinedAttributes(h);
}};
})($telerik.$,Telerik.Web.UI.Editor);
(function(a,b,i){var d=Telerik.Web.BrowserFeatures;
var c=/<!--(.*?)-->/g;
var g="__telerik_htmlComment_marker";
var h="."+g;
var f="<span id='{0}' class='"+g+"'>&nbsp;</span>";
var e="__telerik_comment_marker";
b.HtmlCommentsStorage=function(){this.index=0;
this.comments={};
};
b.HtmlCommentsStorage.prototype={markComments:function(j){var k=this;
j=j.replace(c,function(n,l){var m=k.nextMarker();
k.storeComment(l);
return m;
});
return j;
},restoreComments:function(j){var l=this;
var k=a(j).find(h);
k.each(function(p,q){var r=q.parentNode;
var o=r.ownerDocument;
var n=l.getCommentContent(q.id);
var m=o.createComment(n);
r.insertBefore(m,q);
r.removeChild(q);
});
},shouldStoreComments:function(){return !d.readsHtmlComments;
},nextMarker:function(){this.index+=1;
var j=this.getId();
return String.format(f,j);
},storeComment:function(j){this.comments[this.getId()]=j;
},getCommentContent:function(j){return this.comments[j];
},getId:function(){return e+this.index;
}};
b.HtmlCommentsStorage.registerClass("Telerik.Web.UI.Editor.HtmlCommentsStorage");
d.addTest("readsHtmlComments",function(){var k=document.createElement("div");
k.innerHTML="<!--[if !IE]>--><!--<![endif]-->";
var j=(k.innerHTML.length>0);
k=i;
return j;
});
})($telerik.$,Telerik.Web.UI.Editor);
(function(a,b,d){var e=b.Utils;
var c=e.isTag;
b.InnerListDeleteCleanUp=function(f){this.editor=f;
};
b.InnerListDeleteCleanUp.prototype={cleanUp:function(){var i=this.getRange();
if(!i||!i.isCollapsed()){return;
}var h=this.findListItemNode(i.startContainer);
if(!h){return;
}var f=h.parentNode;
if(this.isList(f.parentNode)){var g=f.previousSibling;
if(g){f.previousSibling.appendChild(f);
i.select();
}}},getRange:function(){var f=this.editor.getSelection().getRange(true);
return b.DomRange.toDomRange(f);
},findListItemNode:function(h){var g=h;
var f=this.editor.get_contentArea();
if(e.isTextNode(g)){g=e.findAncestorByTag(f,g,"li");
if(!c(g,"li")||g===f){return null;
}}return c(g,"li")&&g;
},isList:function(f){return c(f,"ul")||c(f,"ol");
}};
b.InnerListDeleteCleanUp.registerClass("Telerik.Web.UI.Editor.InnerListDeleteCleanUp");
})($telerik.$,Telerik.Web.UI.Editor);
Type.registerNamespace("Telerik.Web.UI.Editor");
(function(a,b,d,c){b.NestedElementsFix=function(e,f){this.context=e?e:null;
this.selection=f?f:null;
};
b.NestedElementsFix.prototype={applyFix:function(e){var f=this;
f.blockElements=e||f.getBlockElements();
f._fixNestedParagraphs();
f._unwrapBlockElements();
},getBlockElements:function(){var g=this.context;
var e=a(g).find("table,ol,ul,h1,h2,h3,h4,h5,h6");
var f=this._getParagraphs(g);
e=e.add(f);
return a.makeArray(e);
},set_context:function(e){this.context=e;
},_fixNestedParagraphs:function(){var f=this.context;
var k=null;
if(d.isEditorContentArea(f)){k=f.getElementsByTagName("P");
}else{var l=this._getParentBlockElement(f);
if(d.isTag(l,"p")){k=[l];
}}if(!k){return;
}for(var g=k.length-1;
g>=0;
g--){var m=k[g],e=this._getParagraphs(m);
for(var h=e.length-1;
h>=0;
h--){this._unwrapElement(e[h],m);
}if(e.length&&d.isNodeEmptyRecursive(m)){this._removeBlockElement(m);
}}},_unwrapBlockElements:function(){var i=this,f=i.blockElements;
while(f.length){var e=f.pop(),h=i._getParentBlockElement(e.parentNode),g;
if(h&&/^P|H[1-6]$/.test(h.nodeName)){i._unwrapElement(e,h);
g=true;
}var j=i._getLastInvalidWrapper(e);
if(j){i._unwrapElement(e,j);
}if(i._shouldRemoveBlockElement(h,g)){i._removeBlockElement(h);
}}},_shouldRemoveBlockElement:function(e,f){if(!f||!e){return false;
}if(!/^li|td|th$/.test(e.nodeName)&&d.isNodeEmptyRecursive(e)&&!a(e).find("ol,ul,table").length){return true;
}return false;
},_getParagraphs:function(f){var e=a(f).find("p").filter(function(g){return !d.getElementParentByRegExpTagName(this,/th|td|table|li/i);
});
return e;
},_removeBlockElement:function(f){var e=this.blockElements,g=Array.indexOf(e,f);
if(g!=-1){e.splice(g,1);
}a(f).remove();
},_unwrapElement:function(f,i){var g=new b.DomTreeExtractor(i),h=g.extractAfter(f);
if(!this._isFragmentEmpty(h)){var e=i.cloneNode(true);
d.removeChildren(e);
a(e).insertAfter(i);
e.appendChild(h);
}a(f).insertAfter(i);
if(this.selection){this.selection._fireEvent("pasteBlockElement",f);
}},_isFragmentEmpty:function(g){for(var h=0;
h<g.childNodes.length;
h++){var f=g.childNodes[h];
var j=d.isTextNode(f);
var e=!j&&d.canHaveChildren(f);
if(j){if(!d.isTextNodeEmpty(f)){return false;
}}else{if(e){if(!d.isNodeEmptyRecursive(f)){return false;
}}else{return false;
}}}return true;
},_shouldUnwrapNode:function(e){if(d.isBlockElement(e)){return false;
}return !d.isTag(e,"ins")&&!d.isTag(e,"del");
},_getParentBlockElement:function(e){var f=d.getBlockParentUntil(e,d.isEditorContentArea);
if(d.isEditorContentArea(f)){return null;
}return f;
},_getLastInvalidWrapper:function(e){var f=e;
while(f&&this._shouldUnwrapNode(f.parentNode)){f=f.parentNode;
}return f==e?null:f;
}};
b.NestedElementsFix.registerClass("Telerik.Web.UI.Editor.NestedElementsFix",null);
b.DeleteFix=function(e){this.editor=e;
};
b.DeleteFix.prototype={applyFix:function(f){var h=this;
var g=h._getRange();
if(!g.collapsed||g.startOffset!=0){return;
}if($telerik.isFirefox){h.fixDeleteEmptyBlock(f,g);
}if($telerik.isIE){h.fixDeleteFirstListItem(f,g);
}},fixDeleteEmptyBlock:function(h,j){var k=this;
var g=k._getParentBlockElement(j.startContainer);
if(!g||d.isTag(g,"td")||d.isTag(g,"th")||!k._isEmpty(g)){return;
}var i=h.keyCode==8;
var f=k._getBlockSibling(g,i);
if(!f){return;
}j.selectNodeContents(f);
j.collapse(!i);
j.select();
a(g).remove();
h.preventDefault();
},fixDeleteFirstListItem:function(f,k){var l=k.startContainer;
if((d.isTextNode(l)||d.isTag(l,"li"))){var j=d.isBlockElement(l)?l:d.getBlockParent(l);
var i=d.isTag(j,"li")?j:c;
if(i&&!d.getPreviousElement(i)&&(l==i||d.isNodeAtStart(l,i))){var g=this.editor;
if(!i.childNodes.length){var m=i.ownerDocument.createTextNode("\u200b");
i.appendChild(m);
g.nodesTracker.trackNode(m);
d._setCursorInTextNode(k,m,0,0);
}var h=new b.InsertListCmd(g,{listType:i.parentNode.nodeName});
g.executeCommand(h,c,true);
$telerik.preventDefault(f);
}}},_getRange:function(){return new b.DomRange(this.editor.getSelection().getRange(true));
},_getParentBlockElement:function(e){var f=d.isBlockElement(e)?e:d.getBlockParent(e);
return f&&!d.isEditorContentArea(f)?f:c;
},_getBlockSibling:function(f,g){var e=a(f)[g?"prev":"next"]().get(0);
return d.isBlockElement(e)?e:c;
},_isEmpty:function(h){var e=h.childNodes;
var f=e?e.length:0;
var g=h.firstChild;
if(f>1){return false;
}else{if(!g||(f==1&&d.isTag(g,"br"))){return true;
}else{if(f==1&&d.isTextNode(g)&&!d.isTextNodeEmpty(g)){return false;
}else{if(f==1&&d.canHaveChildren(g)){return this._isEmpty(g);
}}}}return false;
}};
b.DeleteFix.registerClass("Telerik.Web.UI.Editor.DeleteFix",null);
})($telerik.$,Telerik.Web.UI.Editor,Telerik.Web.UI.Editor.Utils);
Type.registerNamespace("Telerik.Web.UI");
Type.registerNamespace("Telerik.Web.UI.Editor");
(function(a,j){var c=Telerik.Web.UI;
var b=c.Editor;
var k=b.Utils;
var i="ToggleEditMode";
var g="FONT";
var h="SPAN";
var d="ALL";
var f="CSS";
var e="ALL_NO_BRAKES";
var l="WORD";
var m="WORD_ALL";
Telerik.Web.UI.Editor.UpdateCommandsArray={InsertOrderedList:new b.InsertListCmd(null,{listType:"ol"}),InsertUnorderedList:new b.InsertListCmd(null,{listType:"ul"}),Unlink:new b.BrowserCommand(null,null,"Unlink",null),Bold:new b.BoldCommand(),Italic:new b.ItalicCommand(),Underline:new b.UnderlineCommand(),StrikeThrough:new b.StrikeThroughCommand(),Subscript:new b.SubscriptCommand(),Superscript:new b.SuperscriptCommand(),ForeColor:new b.ForeColorCommand(),BackColor:new b.BackColorCommand(),FontName:new b.FontName(null,{title:"FontName"}),RealFontSize:new b.RealFontSize(null,{title:"RealFontSize"}),FontSize:new b.BrowserCommand(null,null,"FontSize",null),Paste:new b.BrowserCommand(null,null,"Paste",null),Cut:new b.BrowserCommand(null,null,"Cut",null),Copy:new b.BrowserCommand(null,null,"Copy",null),JustifyLeft:new b.AlignCommand(null,{align:"left"}),JustifyRight:new b.AlignCommand(null,{align:"right"}),JustifyCenter:new b.AlignCommand(null,{align:"center"}),JustifyNone:new b.AlignCommand(null,{align:"none"}),JustifyFull:new b.AlignCommand(null,{align:"justify"}),Indent:new b.IndentCommand(null),Outdent:new b.OutdentCommand(null),AbsolutePosition:new b.BrowserCommand(null,null,"AbsolutePosition",null),FormatBlock:new b.FormatBlockCommand(null,null,null,null),FormatSets:new b.FormatSetsCommand(null,null,null,null),InsertRowAbove:new b.TableInsertRow(null,null,"above",null),InsertRowBelow:new b.TableInsertRow(null,null,"below",null),InsertColumnLeft:new b.TableInsertColumn(null,null,"left",null),InsertColumnRight:new b.TableInsertColumn(null,null,"right",null),DeleteRow:new b.TableDeleteRow(null,null,null),DeleteColumn:new b.TableDeleteColumn(null,null,null),DeleteCell:new b.TableDeleteCell(null,null,null),DeleteSelection:new b.DeleteSelectionCommand(),MergeColumns:new b.TableMergeColumns(null,null,null),MergeRows:new b.TableMergeRows(null,null,null),SplitCell:new b.TableSplitCell(null,null,"vertical",null),SplitCellHorizontal:new b.TableSplitCell(null,null,"horizontal",null),ApplyClass:new b.ClassNameCommand(null,null,null)};
Telerik.Web.UI.Editor.CommandList=new (function(){var n=this;
this.getCallbackFunction=function(s,t){return(s&&s._callbackFunction&&typeof(s._callbackFunction)=="function")?s._callbackFunction:t;
};
this.AjaxSpellCheck=function(t,v,s){if(v.get_enableImmutableElements()){Telerik.Web.UI.Editor.Utils.replaceImmutableElements(v);
}function u(){if(!v.get_ajaxSpellCheck()){var C={editor:v};
var A=document.createElement("div");
var B=$create(Telerik.Web.UI.Editor.AjaxSpellCheck,C,null,null,A);
var D=B.get_element();
var E=$get(v.get_id()+"Top");
if(E){E.appendChild(D);
B.add_spellCheckEnd(Function.createDelegate(this,function(){if(v.get_enableImmutableElements()){Telerik.Web.UI.Editor.Utils.restoreImmutableElements(v);
}v.repaint();
}));
}v.set_ajaxSpellCheck(B);
}var z=v.get_ajaxSpellCheck();
if(s&&s.value){z.set_language(s.value);
}z.spellCheck();
}function w(z){var A=z.get_responseData();
$telerik.evalScriptCode(A);
u();
}if(typeof(Telerik.Web.UI.Editor.AjaxSpellCheck)=="undefined"){var x=v.get_ajaxSpellCheckScriptReference();
var y=new Sys.Net.WebRequest();
y.set_url(x);
y.set_httpVerb("GET");
y.add_completed(w);
y.invoke();
}else{u();
}return false;
};
this.ModuleManager=function(t,u,s){var x=s.value;
var w=u.get_modulesManager();
if(!w){return false;
}var v=w.getModuleByName(x);
if(v){v.toggleVisibility();
u._sizer.moduleToggleVisibility(v.get_visible());
}return false;
};
this.ToggleScreenMode=function(t,u,s){u.toggleScreenMode();
return false;
};
this.InsertRowAbove=this.InsertRowBelow=function(t,u,s){u.executeCommand(new Telerik.Web.UI.Editor.TableInsertRow(u.getLocalizedString(t),null,t=="InsertRowAbove"?"above":"below",u));
};
this.InsertColumnLeft=this.InsertColumnRight=function(t,u,s){u.executeCommand(new Telerik.Web.UI.Editor.TableInsertColumn(u.getLocalizedString(t),null,t=="InsertColumnLeft"?"left":"right",u));
};
this.DeleteRow=function(t,u,s){u.executeCommand(new Telerik.Web.UI.Editor.TableDeleteRow(u.getLocalizedString(t),null,u));
};
this.DeleteColumn=function(t,u,s){u.executeCommand(new Telerik.Web.UI.Editor.TableDeleteColumn(u.getLocalizedString(t),null,u));
};
this.DeleteCell=function(t,u,s){u.executeCommand(new Telerik.Web.UI.Editor.TableDeleteCell(u.getLocalizedString(t),null,u));
};
this.MergeColumns=function(t,u,s){u.executeCommand(new Telerik.Web.UI.Editor.TableMergeColumns(u.getLocalizedString(t),null,u));
};
this.MergeRows=function(t,u,s){u.executeCommand(new Telerik.Web.UI.Editor.TableMergeRows(u.getLocalizedString(t),null,u));
};
this.SplitCell=function(t,u,s){u.executeCommand(new Telerik.Web.UI.Editor.TableSplitCell(u.getLocalizedString(t),null,"vertical",u));
};
this.SplitCellHorizontal=function(t,u,s){u.executeCommand(new Telerik.Web.UI.Editor.TableSplitCell(u.getLocalizedString(t),null,"horizontal",u));
};
this.DeleteTable=function(t,u,s){var v=s.value;
if(!v){v=u.getSelectedElement();
}if(v&&"TABLE"!=v.tagName){v=Telerik.Web.UI.Editor.Utils.getElementParentByTag(v,"TABLE");
}if(v){if(!u.get_enableTrackChanges()||u.get_enableTrackChangesOverride()){u.selectElement(v);
u.executeBrowserCommand("Delete");
}else{var w=u.getSelection();
Telerik.Web.UI.Editor.TrackChangesUtils.wrapElementInTrackChangeDelete(w.getParentElement(),u.get_author());
}}};
this.InsertFormForm=this.InsertFormButton=this.InsertFormCheckbox=this.InsertFormHidden=this.InsertFormImageButton=this.InsertFormPassword=this.InsertFormRadio=this.InsertFormReset=this.InsertFormSubmit=this.InsertFormTextarea=this.InsertFormText=function(t,u,s){var w=t.substring(10);
var v=new Telerik.Web.UI.EditorCommandEventArgs(t,s.get_tool(),w);
u.fire("InsertFormElement",v);
};
this.StripAll=this.StripCss=this.StripFont=this.StripSpan=this.StripWord=function(t,u,s){var w=t.substring(5);
var v=new Telerik.Web.UI.EditorCommandEventArgs(t,s.get_tool(),w.toUpperCase());
u.fire("FormatStripper",v);
};
this.FormatStripper=function(u,w,s){var t=s.value;
var x=w._filtersManager.getFilterByName("ConvertFontToSpanFilter");
if(w.get_mode()==Telerik.Web.UI.EditModes.Design&&t==h&&x&&x.get_enabled()){t=g;
}w.setFocus();
var z=true;
try{var A=new b.DomRange(w.getSelection().getRange(true),{preventCalculateEdges:true});
z=A._isBrowserRangeCollapsed();
}catch(v){}var y=new b.GenericCommand(w.getLocalizedString(u)+" "+t,w.get_contentWindow(),w);
var C;
if(t==m){C=new b.StripElementCommand(w,{tags:[g],selectAll:z,isNotGreedy:true});
C.onExecute();
t=l;
}var B={selectAll:z,tags:[t],clearValue:t,isNotGreedy:true,deleteWhitespaceNodes:t==e};
var D=t===f?"StripStylesCommand":t==g||t==h||t==d?"StripElementCommand":"StripWordFormattingCommand";
C=new b[D](w,B);
C.onExecute();
w.executeCommand(y);
};
this.InsertTable=function(t,u,s){var x=s.value;
if(x){var v=Telerik.Web.UI.Editor.Utils.createTable(x.rows,x.cols);
var w=Telerik.Web.UI.Editor.Utils.getOuterHtml(v);
u.pasteHtml(w,t);
}};
function p(t){var u=t.getSelectedElement();
var s=k.isBlockElement(u)?u:k.getBlockParent(u);
return k.isBlockElement(s)?s:null;
}function q(t,u,s){var v=(k.isTag(t,"TD")||k.isTag(t,"TH"))?t:k.getElementParentByTag(t,"TD")||k.getElementParentByTag(t,"TH");
if(v){k[u?"MoveToPreviousCell":"MoveToNextCell"](v,s);
return true;
}return false;
}this.InsertShiftTab=function(t,u,v){var s=p(u);
if(!q(s,true,u)){u.bubbleKeyEventToBrowser();
}return false;
};
this.InsertTabMozilla=function(t,u,v){var s=p(u);
if(!q(s,false,u)){u.bubbleKeyEventToBrowser();
}return false;
};
this.InsertTab=function(t,u,v){var s=p(u);
if(k.isTag(s,"LI")||k.isList(s)){u.fire("Indent");
}else{if(!q(s,false,u)){u.pasteHtml(" &nbsp;&nbsp;&nbsp;&nbsp;",t);
}}return false;
};
this.SetToolFocus=function(t,u,v){var s=u.get_toolAdapter();
if(s){s.setFocus();
}return false;
};
this.Undo=this.Redo=function(t,u,s){var v=s?s.value:1;
if(!v){v=1;
}if(t=="Redo"){u.redo(v);
}else{u.undo(v);
}};
this.PastePlainTextWithTable=function(u,w,s){if(w.get_lockFormatting&&!w.get_lockFormatting()){return;
}if($telerik.isIE){var x=w.createRestorePoint(),y=Telerik.Web.UI.Editor.Utils,v=y.getClipboardAsHtml(w),t=y.cleanPastedContent(v,w.get_stripFormattingOptions(),w.get_localization()["askwordcleaning"],false,w);
x.select();
w.pasteHtml(t);
}};
this.CopyFromEditor=function(u){var w=u.createRestorePoint();
var x=false;
var t=Telerik.Web.UI.Editor.Utils.getClipboardAsHtml(u);
var s=u.get_clipboardData();
if(s&&s.contentFromEditor&&s.contentHTML==t){x=true;
}else{var v={contentFromEditor:false,contentHTML:t};
u.set_clipboardData(v);
}w.select();
return x;
};
this.PastePlainText=function(v,w,u){var t=function(x){if(x){var y=x.replace(/\&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");
y=Telerik.Web.UI.Editor.Utils.replaceNewLineWithBr(y);
if(y){w.pasteHtml(y,v);
}}};
if(w.isIE){t(window.clipboardData.getData("Text"));
}else{var s=Telerik.Web.UI.Editor.CommandList.getCallbackFunction(u,function(y,x){t(x.get_content());
});
w.showDialog("CleanPasteTextContent",{},s);
return false;
}};
this.PasteFromWord=this.PasteFromWordNoFontsNoSizes=this.PasteAsHtml=function(v,x,u){var t=function(C,D){var A="";
var E=x.get_stripFormattingOptions();
var F=b.Utils;
if(v=="PasteFromWord"||v=="PasteFromWordNoFontsNoSizes"){if(E==c.StripFormattingOptions.None||(E&c.StripFormattingOptions.ConvertWordLists)){C=F.convertWordLists(C);
}var B=v=="PasteFromWord"?"WORD":"WORD_ALL";
A=F.stripFormatting(C,B);
}else{A=F.convertText2Html(C);
}if(D){D.select();
}if(A){x.pasteHtml(A,v);
}};
if(x.isIE){var z=x.createRestorePoint();
z.useOldRange=true;
var w="";
if(x.get_contentAreaMode()==Telerik.Web.UI.EditorContentAreaMode.Div){var y=x.getSelection().getRange(true);
w=Telerik.Web.UI.Editor.Utils.getClipboardAsHtml(x);
if(y.select){y.select();
}else{Telerik.Web.UI.Editor.DomRange.toDomRange(y).select();
}}else{w=Telerik.Web.UI.Editor.Utils.getClipboardAsHtml(x);
}t(w,z);
}else{var s=Telerik.Web.UI.Editor.CommandList.getCallbackFunction(u,function(B,A){t(A.get_content());
});
x.showDialog("CleanPasteHtmlContent",{dialogTitle:x.getLocalizedString(v)},s);
}};
this.PasteMarkdown=function(u,v,t){var s=Telerik.Web.UI.Editor.CommandList.getCallbackFunction(t,function(z,w){var y=w.get_content();
var x=new Telerik.Web.UI.Editor.Markdown.Converter();
v.pasteHtml(x.makeHtml(y));
});
v.showDialog("PasteMarkdown",{dialogTitle:v.getLocalizedString(u),commandName:"PasteMarkdown"},s);
};
this.PasteHtml=function(u,v,t){var s=Telerik.Web.UI.Editor.CommandList.getCallbackFunction(t,function(y,w){var x=w.get_content();
x=v.applyFiltersForEmbedContent(x);
v.pasteHtml(x);
});
v.showDialog("PasteHtml",{dialogTitle:v.getLocalizedString(u),commandName:"PasteHtml"},s);
};
this.Copy=function(t,w,s){if(!s){return;
}var x=false;
var u=w.get_document();
try{x=u.queryCommandEnabled(t);
}catch(v){x=false;
}if(x){try{x=u.execCommand(t,false,null);
}catch(v){x=false;
}}if(!x){alert(w.getLocalizedString("UseCtrlC"));
}};
this.Paste=function(t,u,s){var v=!!s;
var w=$telerik.isIE&&(v||u.get_enableTrackChanges()||u.get_enableComments());
if(w){window.setTimeout(function(){b.CommandList.PastePlainTextWithTable("PastePlainTextWithTable",u,s);
},0);
}else{u._pendingCutPasteCommand=v?null:new b.GenericCommand(u.getLocalizedString(t),u.get_contentWindow(),u);
if(v){alert(u.getLocalizedString("UseCtrlV"));
}}};
this.Cut=function(v,x,u){var E=x.get_enableTrackChanges()||x.get_enableComments();
if(E){var D=null;
if(v=="Cut"){D=x.getToolByName("Cut");
}if(v=="Paste"){D=x.getToolByName("Paste");
}if(D&&!D.get_enabled()){return;
}if(v=="Paste"){x._cachedRange=Telerik.Web.UI.Editor.TrackChangesUtils.getDomRange(x);
if(x.get_lockFormatting()&&!Telerik.Web.UI.Editor.CommandList.CopyFromEditor(x)){var t=x;
var s=u;
window.setTimeout(function(){Telerik.Web.UI.Editor.CommandList.PastePlainTextWithTable("PastePlainTextWithTable",t,s);
},0);
if($telerik.isIE){return;
}}}}if(null!=u||($telerik.isIE&&E&&v=="Cut")){var A=$telerik.isIE7;
var z=A?true:false;
try{if(!A){z=x.get_document().queryCommandEnabled(v);
}}catch(w){z=false;
}if(v=="Paste"&&z&&A){x.get_contentArea().fireEvent("onbeforepaste");
}if(z){var B=new Telerik.Web.UI.Editor.GenericCommand(x.getLocalizedString(v),x.get_contentWindow(),x);
var C=false;
try{C=x.get_document().execCommand(v,false,null);
}catch(w){C=false;
}if(C!=false){x.executeCommand(B);
}else{z=false;
}}if(!z){var y=(v=="Cut"?"UseCtrlX":"UseCtrlV");
alert(x.getLocalizedString(y));
}}else{x._pendingCutPasteCommand=new Telerik.Web.UI.Editor.GenericCommand(x.getLocalizedString(v),x.get_contentWindow(),x);
}};
this.InsertParagraph=function(t,u,v){if($telerik.isIE||$telerik.isFirefox||$telerik.isSafari||$telerik.isOpera11){var s=new Telerik.Web.UI.Editor.InsertParagraphCommand(u);
u.executeCommand(s);
}else{u.executeBrowserCommand(t,true,"");
}return true;
};
this.InsertParagraphSafari=function(s,v,x){v.executeBrowserCommand("InsertParagraph",true,"");
if($telerik.isSafari){var w=v.getSelectedElement();
var t=w;
while(t){if(Telerik.Web.UI.Editor.Utils.isEditorContentArea(t)){t=null;
}else{if(t.tagName=="DIV"){break;
}else{t=t.parentNode;
}}}if(t){var z=t.previousSibling;
if(z){var B=z.tagName;
if(z.nodeType==3||B=="P"||B=="UL"||B=="OL"||(B.charAt(0)=="H"&&!isNaN(parseInt(B.charAt(1),10)))){var u=v.get_document();
var y=u.createElement("P");
y.innerHTML="<br>";
t.parentNode.insertBefore(y,t);
if(z.nodeType==3){t.innerHTML=t.innerHTML.replace(/^<br>(&nbsp;)*/,"");
Telerik.Web.UI.Editor.Utils.removeNode(t);
}else{t.parentNode.removeChild(t);
}var A=u.createRange();
A.selectNodeContents(y);
v.getSelection().selectRange(A);
}}}}return true;
};
this.FormatBlock=function(t,u,s){u.executeCommand(new Telerik.Web.UI.Editor.FormatBlockCommand(u.getLocalizedString(t),u.get_contentWindow(),s.value,u));
};
this.FormatSets=function(u,v,s){var t=new Telerik.Web.UI.Editor.FormatSetsCommand(v.getLocalizedString(u),v.get_contentWindow(),s.value,v);
t.set_selectedElement(v.getSelectedElement());
v.executeCommand(t);
};
this.FormatPainterApply=function(u,v,s){var t=new Telerik.Web.UI.Editor.FormatPainterCommand(v.getLocalizedString(u),v.get_contentWindow(),null,v);
v.executeCommand(t);
t.set_formatPainterToolSelectedIndex(1);
};
this.FormatPainterCopy=function(u,v,s){var t=new Telerik.Web.UI.Editor.FormatPainterCommand("",v.get_contentWindow(),null,v),w=t.get_formatting(v.getSelectedElement());
t.set_currentFormatting(w);
t.set_formatPainterToolSelectedIndex(1);
};
this.FormatPainterClear=function(u,v,s){var t=new Telerik.Web.UI.Editor.FormatPainterCommand("",v.get_contentWindow(),null,v);
t.set_currentFormatting(null);
t.set_formatPainterToolSelectedIndex(0);
};
this.InsertOrderedList=this.InsertUnorderedList=function(t,u,s){var v=(t=="InsertOrderedList"?"ol":"ul");
u.setFocus();
u.executeCommand(new Telerik.Web.UI.Editor.InsertListCmd(u,{title:t,listType:v}));
return true;
};
this.Indent=function(u,v,s){var t=new Telerik.Web.UI.Editor.IndentCommand(v,{title:u});
v.executeCommand(t);
};
this.Outdent=function(u,v,s){var t=new Telerik.Web.UI.Editor.OutdentCommand(v,{title:u});
v.executeCommand(t);
};
function r(s){return b[s+"Command"]||b[s];
}function o(v,t,u){var s=r(t);
return new s(v,{title:t,commandValue:u});
}this.Bold=this.Italic=this.Underline=this.Subscript=this.Superscript=this.StrikeThrough=this.RealFontSize=this.FontName=this.BackColor=this.ForeColor=function(t,v,w){v.setActive();
v.setFocus();
var u=w?w.value:null;
var s=o(v,t,u);
v.executeCommand(s);
return true;
};
this.DeleteSelection=function(t,u,v){u.setActive();
u.setFocus();
var s=new b.DeleteSelectionCommand(u);
return u.executeCommand(s);
};
this.SelectAll=function(t,u,v){u.setActive();
u.setFocus();
var s=new b.SelectAllCommand(u);
return u.executeCommand(s);
};
this.Unlink=this.AbsolutePosition=function(t,u,w){u.setActive();
var s="SelectAll"!=t;
if(t=="Unlink"&&!u.isIE){var v=u.getSelectedElement();
if(v&&v.tagName=="A"){u.selectElement(v,false);
}}u.executeBrowserCommand(t,s,null,null);
return true;
};
this.JustifyLeft=this.JustifyRight=this.JustifyCenter=this.JustifyNone=this.JustifyFull=function(t,u,v){u.setActive();
var w=u.getLocalizedString(t);
var s=new Telerik.Web.UI.Editor.AlignCommand(u,{title:w,align:t.replace("Justify","").replace("Full","justify").toLowerCase()});
u.executeCommand(s);
return true;
};
this.FontSize=function(t,u,s){var v=new Telerik.Web.UI.Editor.ieFontCommandFix(u);
v.applyFix();
u.executeBrowserCommand(t,true,s.value);
v.cleanUp();
};
this.Zoom=function(t,u,s){var x=s.value;
var v=s.get_tool?s.get_tool():null;
if(x&&v&&v.updateValue){v.updateValue(x);
}u.get_contentArea().style.zoom=x;
if(($telerik.isFirefox||$telerik.isOpera)&&x.indexOf("%")!=-1){x=parseInt(x,10)/100;
}if($telerik.isFirefox){u.get_contentArea().style.MozTransform=x==1?"":"translate("+(u.get_contentArea().offsetWidth*((x-1)/2))+"px, "+(u.get_contentArea().offsetHeight*((x-1)/2))+"px) scale("+x+")";
}if($telerik.isOpera){var w=x==1?"":"translate("+(u.get_contentArea().offsetWidth*((x-1)/2.04))+"px, "+(u.get_contentArea().offsetHeight*((x-1)))+"px) scale("+x+")";
u.get_contentArea().style.OTransform=w;
}return false;
};
this.Print=function(t,u,s){if(u.isIE){u.get_document().execCommand(t,false,null);
}else{if(u.get_contentWindow().print){u.get_contentWindow().print();
}}return false;
};
this.InsertSnippet=function(t,u,s){u.pasteHtml(s.value,t);
};
this.InsertFormElement=function(t,u,s){var z=s.value;
z=z.toLowerCase();
var v=null;
switch(z){case"form":if(u.get_contentAreaMode()==Telerik.Web.UI.EditorContentAreaMode.Div){alert("Error! Form elements are only supported when the content area is set to Iframe!");
s.set_cancel(true);
return false;
}else{v=u.createElement("form","150px","150px");
v.innerHTML="&nbsp;";
}break;
case"textarea":v=u.createElement("textarea");
break;
case"select":v=u.createElement("select","100px","22px");
break;
case"checkbox":case"radio":v=u.createElement("input");
v.setAttribute("type",z);
break;
case"button":case"reset":case"submit":v=u.createElement("input","50px","22px");
v.setAttribute("type",z);
break;
case"hidden":case"password":case"text":v=u.createElement("input","100px","22px");
v.setAttribute("type",z);
break;
}if(v){var x=Telerik.Web.UI.Editor.Utils.getUniqueID();
v.setAttribute("id",x);
var w=Telerik.Web.UI.Editor.Utils.getOuterHtml(v);
u.pasteHtml(w,t);
var y=u.get_document().getElementById(x);
if(y){y.removeAttribute("id");
if(y.setActive){y.setActive();
}return false;
}}};
this.InsertGroupbox=this.InsertDate=this.InsertTime=this.InsertSymbol=this.InsertHorizontalRule=function(t,w,s){var z="";
switch(t){case"InsertSymbol":z=s.value;
break;
case"InsertHorizontalRule":z="<hr>";
break;
case"InsertDate":var u=new Date();
z="&nbsp;"+u.toLocaleDateString();
break;
case"InsertTime":var v=new Date();
z="&nbsp;"+v.toLocaleTimeString();
break;
default:var y=w.getLocalizedString("RadEditorGroupboxTitle","Title");
var x=w.getLocalizedString("RadEditorGroupboxContent","Content...");
z="<fieldset style='WIDTH: 200px; HEIGHT: 76px'> <legend>"+y+"</legend>"+x+" </fieldset> ";
}w.pasteHtml(z,t);
};
this.ImageManager=function(v,w,u){var z=w.getSelectedElement();
var t=Telerik.Web.UI.Editor.CommandList.getCallbackFunction(u,function(G,A){var F=A.get_value(),B="",E;
for(var C=0;
C<F.length;
C++){B+=Telerik.Web.UI.Editor.Utils.getOuterHtml(F[C]);
}if(z&&z.nodeName=="IMG"){E=z.parentNode;
w._disposeElementResizableWidget();
var D=E&&E.nodeName=="A"&&E.childNodes.length==1;
w.selectElement(z);
if(D&&B.indexOf("<img")==0){E.innerHTML=B;
B=$telerik.getOuterHtml(E);
w.selectElement(E);
E.parentNode.removeChild(E);
}}w.pasteHtml(B,v);
});
var y=w.get_dialogOpener().get_additionalQueryString();
if(z&&z.tagName=="IMG"){var x=z.getAttribute("src",2);
w.get_dialogOpener().set_additionalQueryString(y+"&rndnum="+(new Date()-100)+"&PreselectedItemUrl="+encodeURIComponent(x));
}else{z=null;
}var s=new Telerik.Web.UI.EditorCommandEventArgs(v,null,z);
Telerik.Web.UI.Editor.CommandList._getDialogArguments(s,"IMG",w,v);
w.showDialog("ImageManager",s,t);
w.get_dialogOpener().set_additionalQueryString(y);
return false;
};
this.SilverlightManager=this.FlashManager=this.MediaManager=function(v,w,u){var t=Telerik.Web.UI.Editor.CommandList.getCallbackFunction(u,function(C,A){var B=A.get_value();
if(!B){B=A.Result;
}B=w.applyFiltersForEmbedContent(B);
w.pasteHtml(B,v);
});
var s={};
var y=w.get_dialogOpener().get_additionalQueryString();
var z=w.getSelectedElement();
if(z){if($telerik.isIE&&z.object){var x="MediaManager"==v?z.object.FileName:z.object.Movie;
if(x){w.get_dialogOpener().set_additionalQueryString(y+"&rndnum="+(new Date()-100)+"&PreselectedItemUrl="+encodeURIComponent(x));
s.selectedItemUrl=x;
s.selectedObject=z;
}}}w.showDialog(v,s,t);
w.get_dialogOpener().set_additionalQueryString(y);
return false;
};
this.TemplateManager=function(u,v,t){var s=Telerik.Web.UI.Editor.CommandList.getCallbackFunction(t,function(y,w){var x=w.get_value();
if(!x){x=w.Result;
}v.pasteHtml(x,u);
});
v.showDialog("TemplateManager",{},s);
return false;
};
this.AboutDialog=function(s,t,u){t.showDialog("AboutDialog");
return false;
};
this.Help=function(s,t,u){t.showDialog("Help");
return false;
};
this.PageProperties=function(v,w,u){var t=Telerik.Web.UI.Editor.CommandList.getCallbackFunction(u,function(y,x){});
var s={};
Telerik.Web.UI.Editor.CommandList._getDialogArguments(s,"BODY",w,v);
w.showDialog("PageProperties",s,t);
return false;
};
this.ImageMapDialog=function(v,w,u){var s=Telerik.Web.UI.Editor.CommandList._getImageMapDialogArgument(w);
var t=Telerik.Web.UI.Editor.CommandList.getCallbackFunction(u,function(y,x){Telerik.Web.UI.Editor.CommandList._setImageMapProperties(w,x,v);
return false;
});
w.showDialog("ImageMapDialog",s,t);
return false;
};
this._setImageMapProperties=function(v,s,t){if(!s){return;
}var D=v.getSelectedElement();
var w;
if(D&&D.tagName=="IMG"){w=D;
if(s.ImageSrc!=w.src){w.src=s.ImageSrc;
}}else{if(!s.ImageSrc){return;
}v.pasteHtml('<img src="'+s.ImageSrc+'" id = "__tmp__">',t);
w=v.get_document().getElementById("__tmp__");
w.removeAttribute("id");
if(document.all){var C=v.get_document().body.createTextRange();
C.collapse();
C.moveToElementText(w);
C.select();
}}var F=document.createElement("span");
F.innerHTML=s.MapHtml;
var E=F.getElementsByTagName("map");
if(E.length==0){return;
}var z=E[0].innerHTML;
F=null;
if(!z){var u=w.getAttribute("useMap",2);
if(u){var A=Telerik.Web.UI.Editor.CommandList._getImageMapByName(v,u);
if(A){A.parentNode.removeChild(A);
}}w.removeAttribute("useMap");
return;
}var y=null;
var G=w.getAttribute("useMap",2);
if(G){y=Telerik.Web.UI.Editor.CommandList._getImageMapByName(v,G);
}if(y==null){var x=new Date()-100;
var B="rade_img_map_"+x;
y=v.get_document().createElement("map");
y.id=B;
this._setNameAttribute(y,B);
y=v.get_contentArea().appendChild(y);
w.setAttribute("useMap","#"+B);
w.setAttribute("border","0");
}y.innerHTML=z;
};
this._setNameAttribute=function(s,t){s.removeAttribute("name");
s.removeAttribute("NAME");
s.name=null;
s.name=t;
s.NAME=t;
};
this._getImageMapDialogArgument=function(t){var s={};
s.editor=t;
var u=t.getSelectedElement();
if(u&&u.tagName=="IMG"){s.ImageSrc=u.getAttribute("src",2);
s.ImageWidth=(u.style.width)?u.style.width:u.width;
s.ImageHeight=(u.style.height)?u.style.height:u.height;
if(document.selection){t.selectElement(u);
}if(u.useMap){var w=u.getAttribute("useMap",2);
var v=Telerik.Web.UI.Editor.CommandList._getImageMapByName(t,w);
if(v!=null){s.ImageMapHTML='<map name = "'+w.substr(1)+'">'+v.innerHTML+"</map>";
}else{s.ImageMapHTML="";
}u.style.width=s.ImageWidth;
u.style.height=s.ImageHeight;
}}return s;
};
this._getImageMapByName=function(s,w){w=w.substr(1);
var t=s.get_document();
var v=t.getElementById(w);
if(v!=null){return v;
}var x=t.getElementsByTagName("map");
for(var u=0;
u<x.length;
u++){if(x[u].getAttribute("name")==w){return x[u];
}}return null;
};
this.get_ImportStyleSheetHTML=function(s,t,w){var v="";
if(w){var u=t.get_document().getElementById(w.id);
if(!u){v=Telerik.Web.UI.Editor.Utils.getOuterHtml(w);
}}return v;
};
this._removeStyleSheet=function(t,x){if(x){var u=t.get_document();
var s=true;
var A=u.getElementsByTagName("Table");
var B=A.length;
var y=x.id;
if(y){for(var v=0;
v<B;
v++){var z=A[v];
if(z.className==y){s=false;
break;
}}if(s){var w=u.getElementById(y);
if(w){w.parentNode.removeChild(w);
}}}}};
this.TableWizard=function(v,w,u){var s=Telerik.Web.UI.Editor.CommandList._getTableArgument(w,null,true,false);
Telerik.Web.UI.Editor.CommandList._getDialogArguments(s,"TABLE",w,v);
var t=Telerik.Web.UI.Editor.CommandList.getCallbackFunction(u,function(z,x){var y="";
if(x.styleSheetToImport){y=Telerik.Web.UI.Editor.CommandList.get_ImportStyleSheetHTML(v,w,x.styleSheetToImport);
}w.pasteHtml(Telerik.Web.UI.Editor.Utils.getOuterHtml(x.tableToModify)+y,v);
if(x.styleSheetToRemove){Telerik.Web.UI.Editor.CommandList._removeStyleSheet(w,x.styleSheetToRemove);
}});
w.showDialog("TableWizard",s,t);
return false;
};
this.InsertFormSelect=function(v,w,u){var x=w.getSelectedElement();
var y;
if(x&&x.nodeName=="SELECT"){y=x;
}var s=Telerik.Web.UI.Editor.CommandList._getSelectArgument(y);
Telerik.Web.UI.Editor.CommandList._getDialogArguments(s,"SELECT",w,v);
var t=Telerik.Web.UI.Editor.CommandList.getCallbackFunction(u,function(C,z){if(!$telerik.isIE&&y){var A=Telerik.Web.UI.Editor.DomRange.toDomRange(w.getSelection().getRange());
A.selectNode(y);
A.select();
w.pasteHtml(z.selectToInsert.outerHTML);
return;
}var B=z.selectToInsert;
w.pasteHtml(B.outerHTML);
});
w.showDialog("InsertSelectDialog",s,t);
return false;
};
this.InsertTableLight=this.SetTableProperties=function(v,w,u){var s=Telerik.Web.UI.Editor.CommandList._getTableArgument(w,1,false,true);
if(v=="SetTableProperties"&&!s){alert(w.getLocalizedString("tablewarning"));
return false;
}var x=Telerik.Web.UI.Editor.CommandList._getParentTable(w);
var t=Telerik.Web.UI.Editor.CommandList.getCallbackFunction(u,function(A,y){if(w.get_enableTrackChanges()){w.set_fromTableProperties(true);
}w.selectElement(x);
var z="";
if(y.styleSheetToImport){z=Telerik.Web.UI.Editor.CommandList.get_ImportStyleSheetHTML(v,w,y.styleSheetToImport);
}w.pasteHtml(Telerik.Web.UI.Editor.Utils.getOuterHtml(y.tableToModify)+z,v);
if(y.styleSheetToRemove){Telerik.Web.UI.Editor.CommandList._removeStyleSheet(w,y.styleSheetToRemove);
}});
if(w.get_document().selection&&w.get_document().selection.empty&&v!="InsertTableLight"){w.get_document().selection.empty();
}if(v=="SetTableProperties"){Telerik.Web.UI.Editor.CommandList._getDialogArguments(s,"TABLE",w,v);
w.showDialog("TableWizard",s,t);
}else{if(!s){s=new Telerik.Web.UI.EditorCommandEventArgs("InsertTableLight",null,null);
}s._name=s._commandName="InsertTableLight";
s.editor=w;
w.showDialog("InsertTableLight",s,t);
}return false;
};
this.SetCellProperties=function(v,w,u){var s=Telerik.Web.UI.Editor.CommandList._getTableArgument(w,2,false,true);
var x=$telerik.isFirefox&&w.get_contentWindow().getSelection().rangeCount>1;
if(!s||x){alert(w.getLocalizedString("cellwarning"));
return false;
}Telerik.Web.UI.Editor.CommandList._getDialogArguments(s,"TABLE",w,v);
var y=Telerik.Web.UI.Editor.CommandList._getParentTable(w);
var t=Telerik.Web.UI.Editor.CommandList.getCallbackFunction(u,function(B,z){w.selectElement(y);
var A="";
if(z.styleSheetToImport){A=Telerik.Web.UI.Editor.CommandList.get_ImportStyleSheetHTML(v,w,z.styleSheetToImport);
}w.pasteHtml(Telerik.Web.UI.Editor.Utils.getOuterHtml(z.tableToModify)+A,v);
if(z.styleSheetToRemove){Telerik.Web.UI.Editor.CommandList._removeStyleSheet(w,z.styleSheetToRemove);
}});
w.showDialog("TableWizard",s,t);
return false;
};
this.FindAndReplace=function(v,w,u){var s={};
s.editor=w;
var t=Telerik.Web.UI.Editor.CommandList.getCallbackFunction(u,function(y,x){});
w.showDialog("FindAndReplace",s,t);
return false;
};
this.StyleBuilder=function(v,w,u){var B=null;
var t=Telerik.Web.UI.Editor.CommandList.getCallbackFunction(u,function(G,C){var E=Telerik.Web.UI.Editor.Utils.getOuterHtml(C.get_value());
E=E.replace(/(url\s*\(\s*)&quot;(.*)&quot;\s*\)/ig,"$1$2)");
if(B){var F="";
var H=new RegExp("style=(\"|')(.+?)\\1","gi");
E.replace(H,function(K,I,J){F=J;
});
if(F){var D=new Telerik.Web.UI.Editor.AttributeCommand(v+"set Style Attribute",w.get_contentWindow(),B,"style",F,w);
w.executeCommand(D);
}}else{w.pasteHtml(E,v);
}});
var z=w.getSelection();
var y=z.getParentElement();
if(!$telerik.isIE||!z.isControl()){var A=z.getText();
if(A||(y&&y.tagName=="BODY")){var x=w.createElement("span");
Telerik.Web.UI.Editor.Utils.setElementInnerHtml(x,A);
y=x;
}else{B=y;
w.selectElement(y,false);
}}if(!y){y=Telerik.Web.UI.Editor.Utils.getContentAreaFirstChild(w);
w.selectElement(y,false);
}var s=new Telerik.Web.UI.EditorCommandEventArgs("StyleBuilder",null,(y?y.cloneNode(true):null));
Telerik.Web.UI.Editor.CommandList._getDialogArguments(s,"*",w,v);
s.fontNames=w.get_fontNames();
w.showDialog("StyleBuilder",s,t);
return false;
};
this.XhtmlValidator=function(v,w,u){var s=w;
var t=Telerik.Web.UI.Editor.CommandList.getCallbackFunction(u,function(y,x){});
w.showDialog("XhtmlValidator",s,t);
return false;
};
this.TrackChangesDialog=function(v,w,u){var s=w;
var t=Telerik.Web.UI.Editor.CommandList.getCallbackFunction(u,function(y,x){});
w.showDialog("TrackChangesDialog",s,t);
};
this.InsertCustomLink=function(u,v,s){var w=s.value,x=$telerik.$(String.format("<a href='{1}' title='{3}' target='{2}'>{0}</a>",w.innerHTML,w.href,w.target,w.title))[0],y=Telerik.Web.UI.Editor.CommandList._getLinkArgument(v).get_value();
if(y.innerHTML.trim()){x.innerHTML=y.innerHTML;
}var t=new Telerik.Web.UI.Editor.InsertLinkCommand(u,v.get_contentWindow(),x,v);
v.executeCommand(t);
return true;
};
this._getDialogArguments=function(s,v,u,t){if(!u){s.Colors=[];
s.CssClasses=[];
s.CellCssClasses=[];
s.tableLayoutCssFile="";
s.editor=null;
return;
}s.Colors=u.get_colors();
if("TD"==v||"TH"==v||"TABLE"==v){s.CssClasses=u.getCssArray("TABLE");
s.CellCssClasses=u.getCssArray("TD");
s.tableLayoutCssFile=u.get_tableLayoutCssFile();
}else{if("A"==v||"BODY"==v||"IMG"==v){s.CssClasses=u.getCssArray(v);
}else{if("SELECT"==v){s.CssClasses=u.getCssArray(v);
}}}s.editor=u;
};
this.DocumentManager=this.SetLinkProperties=this.LinkManager=function(v,x,u){var w=v=="DocumentManager"?"DocumentManager":"LinkManager";
var s=Telerik.Web.UI.Editor.CommandList._getLinkArgument(x);
Telerik.Web.UI.Editor.CommandList._getDialogArguments(s,"A",x,v);
var t=Telerik.Web.UI.Editor.CommandList.getCallbackFunction(u,function(B,y){var A=y.get_value()||y.Result||y.realLink;
var z=new Telerik.Web.UI.Editor.InsertLinkCommand(v,x.get_contentWindow(),A,x);
x.executeCommand(z);
});
x.showDialog(w,s,t);
return false;
};
this.InsertLink=function(v,x,u){var w="InsertLink";
var s=Telerik.Web.UI.Editor.CommandList._getLinkArgument(x);
s._name=s._commandName="InsertLink";
Telerik.Web.UI.Editor.CommandList._getDialogArguments(s,"A",x,v);
var t=Telerik.Web.UI.Editor.CommandList.getCallbackFunction(u,function(B,y){var A=y.get_value();
var z=new Telerik.Web.UI.Editor.InsertLinkCommand(v,x.get_contentWindow(),A,x);
x.executeCommand(z);
});
x.showDialog(w,s,t);
return false;
};
this.InsertImage=this.SetImageProperties=function(v,x,u){var w=x.getSelectedElement();
if(w&&w.nodeName!="IMG"){w=null;
}var s=new Telerik.Web.UI.EditorCommandEventArgs(v,null,w);
Telerik.Web.UI.Editor.CommandList._getDialogArguments(s,"IMG",x,v);
s.Element=w;
var t=Telerik.Web.UI.Editor.CommandList.getCallbackFunction(u,function(B,y){var A=y.get_value?y.get_value():y.Result;
if(!A){return;
}if(w&&w.parentNode){var z=new Telerik.Web.UI.Editor.GenericCommand(x.getLocalizedString(v),x.get_contentWindow(),x);
w.parentNode.replaceChild(A,w);
x.selectElement(A);
x.executeCommand(z);
}else{x.pasteHtml(Telerik.Web.UI.Editor.Utils.getOuterHtml(A),v);
}});
if(v=="SetImageProperties"){x.showDialog("ImageProperties",s,t);
}else{x.showDialog("InsertImage",s,t);
}return false;
};
this.InsertExternalVideo=function(u,v,t){var s=Telerik.Web.UI.Editor.CommandList.getCallbackFunction(t,function(x,w){v.pasteHtml(w.get_value(),u);
});
v.showDialog("InsertExternalVideo",null,s);
};
this.FormatCodeBlock=function(v,w,u){var s=new Telerik.Web.UI.EditorCommandEventArgs("FormatCodeBlock",null,w.getSelectionHtml());
s.dirtyCode=w.getSelectionHtml();
if(w.get_document().selection){var x=w.get_document().selection.type.toLowerCase();
if(x=="control"||x=="none"){s.set_value("");
}}var t=Telerik.Web.UI.Editor.CommandList.getCallbackFunction(u,function(z,y){w.pasteHtml(y.get_value?y.get_value():y.get_code(),v);
});
w.showDialog("FormatCodeBlock",s,t);
return false;
};
this._getDocumentAnchors=function(u){var t=u.getElementsByTagName("A");
var s=[];
for(var v=0;
v<t.length;
v++){if(t[v].name){s[s.length]=t[v];
}}return s;
};
this._getParentLink=function(t){var w=t.getSelectedElement();
var v=Telerik.Web.UI.Editor.Utils.getElementParentByTag(w,"A");
if(v){t.selectElement(v);
}else{var u="";
var x=(w&&w.tagName)?w.tagName:"";
if(x=="IMG"){u=Telerik.Web.UI.Editor.Utils.getOuterHtml(w);
}if(!u){u=t.getSelectionHtml();
}if($telerik.isIE){var y=w.tagName;
if(y=="FONT"||y=="SPAN"){u=u.replace(/^<(FONT|SPAN)[^>]*>/gi,"");
u=u.replace(/<\/(FONT|SPAN)>$/gi,"");
}}v=t.get_document().createElement("a");
try{Telerik.Web.UI.Editor.Utils.setElementInnerHtml(v,u);
}catch(s){v.innerHTML=String.format("<span>{0}</span>",Telerik.Web.UI.Editor.Utils.stripFormatting(u,"ALL"));
}}return v;
};
this._getLinkArgument=function(t,x){var w=Telerik.Web.UI.Editor.CommandList._getParentLink(t);
var v=w.innerHTML;
var u=!v?false:v.match(/</);
if($telerik.isIE&&u){var y=v.trim().toLowerCase();
if(y.match(/<p[^>]*>(&nbsp;|\s*)<\/p>/)){w.innerHTML=" ";
u=false;
}}var s=new Telerik.Web.UI.EditorCommandEventArgs("LinkManager",null,w.cloneNode(true));
s.selectedTabIndex=x?x:0;
s.showText=!u;
s.documentAnchors=Telerik.Web.UI.Editor.CommandList._getDocumentAnchors(t.get_document());
s.realLink=s.get_value();
return s;
};
this._getParentTable=function(s){s.setFocus();
var u=s.getSelectedElement();
var t=Telerik.Web.UI.Editor.Utils.getElementParentByTag(u,"TABLE");
return t;
};
this._getParentCell=function(s){s.setFocus();
var u=s.getSelectedElement();
var t=Telerik.Web.UI.Editor.Utils.getElementParentByTag(u,"TD");
if(!t){t=Telerik.Web.UI.Editor.Utils.getElementParentByTag(u,"TH");
}return t;
};
this._getTableArgument=function(s,y,t,x){var w;
var v=null;
if(t){w=Telerik.Web.UI.Editor.Utils.createTable(2,2,s.get_document());
}else{w=Telerik.Web.UI.Editor.CommandList._getParentTable(s);
}if(!t&&!w){return null;
}if(x){v=Telerik.Web.UI.Editor.CommandList._getParentCell(s);
}var z=w.cloneNode(true);
var u=w;
return{selectedTabIndex:y?y:0,cellToModify:v,tableToModify:z,originalTable:u,tableDocument:z.ownerDocument||s.get_document()};
};
this._getSelectArgument=function(s){return{selectToModify:s};
};
this.EnterParagraphMozilla=function(t,u,s){var v=new Telerik.Web.UI.Editor.EnterNewLineCommand("Enter",u.get_contentWindow(),false,u);
return v.enterBlockElement();
};
this.EnterMozilla=function(t,u,s){if(u.get_mode()==Telerik.Web.UI.EditModes.Preview){return false;
}var v=u.getSelectedElement();
if(v!=null&&v.tagName!="P"){u.bubbleKeyEventToBrowser();
return true;
}else{u.pasteHtml("<br />");
}};
this.EnterNewLine=function(u,v,s){var t=new Telerik.Web.UI.Editor.EnterNewLineCommand("Enter",v.get_contentWindow(),false,v);
if($telerik.isSafari&&v&&v.get_newLineMode()!=Telerik.Web.UI.EditorNewLineModes.Br){t.set_canUnexecute(false);
}v.executeCommand(t);
};
this.Enter=function(t,u,s){if(u.get_mode()==Telerik.Web.UI.EditModes.Preview){return false;
}var B=u.getSelectedElement();
if("LI"==B.tagName||Telerik.Web.UI.Editor.Utils.getElementParentByTag(B,"LI")!=null){u.bubbleKeyEventToBrowser();
return false;
}if(u.get_enableTrackChanges()){if(B.getAttribute("Name")!=null){if(B.getAttribute("Name").indexOf("_wp")==0){u.bubbleKeyEventToBrowser();
return false;
}}}try{var x=u.getLocalizedString("Enter");
var w=new Telerik.Web.UI.Editor.GenericCommand(x,u.get_contentWindow(),u);
var A=u.getSelection();
var y=A.getRange();
if(y.pasteHTML){var C=B.tagName;
if(C.charAt(0)=="H"&&parseInt(C.charAt(1),10)>0){var z=y.duplicate();
z.moveToElementText(B);
u.bubbleKeyEventToBrowser();
return false;
}else{if(C.toLowerCase()=="textarea"){u.bubbleKeyEventToBrowser();
return false;
}}y.pasteHTML("<br>");
y.select();
y.moveEnd("character",1);
y.moveStart("character",1);
y.collapse(false);
}else{if(A.isControl()){if(y(0)){y.execCommand("Delete");
}}else{u.bubbleKeyEventToBrowser();
return false;
}}u.executeCommand(w);
}catch(v){alert(v.message);
}return false;
};
this.ShiftEnter=function(t,v,s){var z=v.getSelectedElement();
var u=v.get_document();
if(u.selection&&("LI"==z.tagName||Telerik.Web.UI.Editor.Utils.getElementParentByTag(z,"LI")!=null)){var x=v.getLocalizedString("Enter");
var w=new Telerik.Web.UI.Editor.GenericCommand(x,v.get_contentWindow(),v);
var y=u.selection.createRange();
y.pasteHTML("<br>");
y.select();
y.moveEnd("character",1);
y.moveStart("character",1);
y.collapse(false);
v.executeCommand(w);
return false;
}v.bubbleKeyEventToBrowser();
return false;
};
this.ShiftEnterSafari=function(t,v,s){var x=v.getSelectedElement();
if("LI"==x.tagName||Telerik.Web.UI.Editor.Utils.getElementParentByTag(x,"LI")!=null){var w=new Telerik.Web.UI.Editor.GenericCommand("Enter",v.get_contentWindow(),v);
v.pasteHtml("<br />","",null,null,false);
v.executeCommand(w);
}else{var u=Telerik.Web.UI.Editor.EnterNewLineCommand.insertBrAfterHeading;
Telerik.Web.UI.Editor.EnterNewLineCommand.insertBrAfterHeading=true;
v.executeCommand(new Telerik.Web.UI.Editor.EnterNewLineCommand(v.getLocalizedString(t),v.get_contentWindow(),false,v,Telerik.Web.UI.EditorNewLineModes.Br));
Telerik.Web.UI.Editor.EnterNewLineCommand.insertBrAfterHeading=u;
}return false;
};
this.EnterSafari=function(t,u,s){var v=u.getSelectedElement();
if("LI"==v.tagName||Telerik.Web.UI.Editor.Utils.getElementParentByTag(v,"LI")!=null){u.bubbleKeyEventToBrowser();
return false;
}u.executeBrowserCommand("InsertLineBreak",true,"");
return false;
};
this.ToggleTableBorder=function(t,u,s){u.toggleEnhancedEdit();
return false;
};
this.ConvertToUpper=this.ConvertToLower=function(u,w,s){var J,z,v=w.get_document();
if($telerik.isIE&&v.selection){if(v.selection.type.toLowerCase()=="control"){return;
}var E=v.selection.createRange();
J=E.duplicate();
z=E.duplicate();
J.collapse();
z.collapse(false);
}var G=Telerik.Web.UI.Editor.CommandList._markEditorSelection(w);
var y=G.markedElements;
var C=G.newElements;
var A=new Telerik.Web.UI.Editor.GenericCommand(w.getLocalizedString(u),w.get_contentWindow(),w);
function t(L){var K=L.childNodes;
for(var M=0;
M<K.length;
M++){if(K[M].nodeType==3){K[M].nodeValue=("ConvertToLower"==u)?K[M].nodeValue.toLowerCase():K[M].nodeValue.toUpperCase();
}else{if(K[M].nodeType==1&&K[M].tagName.toUpperCase()!="FONT"){t(K[M]);
}}}}var B;
for(B=0;
B<y.length;
B++){t(y[B]);
}for(B=0;
B<C.length;
B++){var x=C[B];
if($telerik.isIE&&x.removeNode){x.removeNode(false);
}else{var F=document.createRange();
F.selectNodeContents(x);
x.parentNode.replaceChild(F.extractContents(),x);
}}if($telerik.isIE&&v.selection){var D=v.selection.createRange();
D.setEndPoint("StartToStart",J);
D.setEndPoint("EndToEnd",z);
D.select();
}else{var I=w.get_contentWindow().getSelection();
var H=I.getRangeAt(0);
H.collapse(true);
}w.executeCommand(A);
};
this.ApplyClass=function(w,y,s){var N=true;
var E=s.get_value();
var x=y.get_contentWindow();
var z=y.get_document();
var C=new Telerik.Web.UI.Editor.GenericCommand(y.getLocalizedString(w)+' ["'+E+'"]',y.get_contentWindow(),y);
var J=y.getSelectedElement();
var K=(J)?J.tagName:"";
var M=y.getSelection();
var L=M.getHtml();
var H=b.DomRange.toDomRange(M.getRange(true));
var v=(!E&&!L)||L.match(/<(font|span)[^>]*><\/(font|span)>/ig)||K=="UL"||K=="IMG";
var F=(v)?J:Telerik.Web.UI.Editor.Utils.getFullySelectedElement(x);
var u=["body","p","div","th","td","li","h[1-6]","form","fieldset","dt","dd","blockquote","address","article","details","figcaption","footer","header","hgroup","section"];
var t=new RegExp("^(?:"+u.join("|")+")$","i");
var G=F&&F.nodeName.match(t)&&F!=H.startContainer;
if(F&&!G&&!Telerik.Web.UI.Editor.Utils.isEditorContentArea(F)&&!Telerik.Web.UI.Editor.Utils.isTextNode(F)){Telerik.Web.UI.Editor.Utils.setElementClassName(F,E);
N=false;
}else{if(!E){z.execCommand("RemoveFormat",false,null);
N=false;
}}if(N){var I=Telerik.Web.UI.Editor.CommandList._markEditorSelection(y);
var B=I.markedElements;
if(B.length>0){for(var D=0;
D<B.length;
D++){var A=B[D];
if(A.className&&A.className!="Apple-style-span"){continue;
}else{A.className=E;
}}if(!$telerik.isIE){Telerik.Web.UI.Editor.Utils.addElementsToSelection(y.get_contentWindow(),B);
}}else{Telerik.Web.UI.Editor.CommandList._completeEditorSelection(y,"class='"+E+"'");
}}if(s.addToUndoRedo!=false){y.executeCommand(C);
}};
n.ToggleEditMode=function(u,v,s){var t=b.CommandList;
t._switchBetweenHtmlAndDesignMode(v);
t._switchStateOfToggleEditModeTool(v);
};
n._switchBetweenHtmlAndDesignMode=function(u){var s=u.get_mode();
var t=c.EditModes;
if(s===t.Design){u.set_mode(t.Html);
}else{u.set_mode(t.Design);
}};
n._switchStateOfToggleEditModeTool=function(u){var t=c.EditModes;
var s=u.get_mode();
var w=u.get_toolAdapter();
var v=w.getToolByName(i);
if(v){v.setOn(s===t.Html);
}};
this._completeEditorSelection=function(t,w){if(!w){w="";
}var s=t.get_contentWindow();
var u=t.get_document();
var z=t.getSelection().getParentElement();
var A=z?z.tagName:"";
if($telerik.isIE&&!t.getSelectionHtml()&&(A=="FONT"||A=="SPAN")){u.execCommand("RemoveFormat",null,false);
}var v=t.getSelection();
v.pasteHtml("<font "+w+" id='radERealFont'>&#x200b;</font>");
var x=t.get_document().getElementById("radERealFont");
x.removeAttribute("id");
if($telerik.isIE){t.selectElement(x);
t.getSelection().collapse();
x.innerHTML="";
}else{if(s.getSelection){var y=s.getSelection();
var B=t.getSelection().getRange();
y.removeAllRanges();
if(!$telerik.isSafari){x.innerHTML="";
}B.selectNodeContents(x);
if(!$telerik.isSafari){B.collapse(false);
}y.addRange(B);
}}};
this._markEditorSelection=function(x){if(x.get_html()==""){return{markedElements:[],newElements:[],oldElements:[]};
}var w="AZBY";
var v="_cm";
var I=[];
var J=[];
var K=[];
var L=[];
var F=$telerik.isSafari2||$telerik.isSafari3;
var D=F?"span":"font";
var y=x.get_contentArea();
if(F){var N=new Telerik.Web.UI.Editor.OptimizeSpans();
N.getHtmlContent(y);
}var z=x.getSelection();
if(z.isControl()){var u=z.getParentElement();
var C=x.get_document().createElement(D);
C.appendChild(u.cloneNode(true));
u.parentNode.replaceChild(C,u);
return{markedElements:[C],newElements:[C]};
}function H(){var O=x.get_contentArea().getElementsByTagName(D);
for(var Q=0;
Q<O.length;
Q++){var P=O[Q];
if(O[Q].face){P.setAttribute("_face",P.face);
I.push(P);
}else{if(F){P.setAttribute("_face",P.style.fontFamily);
I.push(P);
}}P.setAttribute(v,1);
}}function M(){for(var O=0;
O<I.length;
O++){if(F){I[O].style.fontFamily=I[O].getAttribute("_face");
}else{I[O].face=I[O].getAttribute("_face");
}I[O].removeAttribute("_face");
}I=[];
}H();
if(!$telerik.isIE){y.ownerDocument.execCommand("UseCSS",false,true);
y.ownerDocument.execCommand("styleWithCSS",false,false);
}y.ownerDocument.execCommand("FontName",false,w);
var A=y.getElementsByTagName(D);
for(var E=0;
E<A.length;
E++){var B=A[E];
if(B.getAttribute("face")==w||B.style.fontFamily==w){B.removeAttribute("face");
if(B.style.fontFamily==w){B.style.fontFamily="";
if(B.className=="Apple-style-span"){B.className="";
}}J.push(B);
var t=B.getElementsByTagName(D);
for(var G=0;
G<t.length;
G++){var s=t[G];
if(s.getAttribute("face")!=w){J.push(s);
}}if(!B.getAttribute(v)){K.push(B);
}else{L.push(B);
}}B.removeAttribute(v);
}M();
if(!$telerik.isIE){y.ownerDocument.execCommand("UseCSS",false,false);
y.ownerDocument.execCommand("styleWithCSS",false,true);
}return{markedElements:J,newElements:K,oldElements:L};
};
this.CSDialog=function(v,w,u){var s=w;
var t=Telerik.Web.UI.Editor.CommandList.getCallbackFunction(u,function(y,x){});
w.showDialog("CSDialog",s,t);
return false;
};
})();
})($telerik.$);
Type.registerNamespace("Telerik.Web.UI.Editor");
Telerik.Web.UI.Editor.CommandsManager=function(a){this._commands=[];
this._currentCommandIndex=-1;
};
Telerik.Web.UI.Editor.CommandsManager.prototype={get_commands:function(){return this._commands;
},execute:function(c,a){if(c&&c.execute){var b=c.execute();
if(false==a){return false;
}if(b&&c._canUnexecute){this._clearCommandsToRedo();
Array.add(this._commands,c);
this._currentCommandIndex=this._commands.length-1;
return true;
}}return false;
},undo:function(c){var d=this;
if(c>d._commands.length){c=d._commands.length;
}var a=0;
var b=null;
while(0<c&&0<=d._currentCommandIndex&&d._currentCommandIndex<d._commands.length){b=d._commands[d._currentCommandIndex--];
if(b){d._updateRestorePoints(b);
b.unexecute();
a++;
}c--;
}},redo:function(d){var e=this;
if(d>e._commands.length){d=e._commands.length;
}var a=0;
var b=null;
var c=e._currentCommandIndex+1;
while(0<d&&0<=c&&c<e._commands.length){b=e._commands[c];
if(b){e._updateRestorePoints(b);
b.execute();
e._currentCommandIndex=c;
a++;
}c++;
d--;
}},removeCommandAt:function(a){this._commands.splice(a,1);
if(this._currentCommandIndex>=a){this._currentCommandIndex--;
}},isUndoAvailable:function(){return(-1<this._currentCommandIndex);
},isRedoAvailable:function(){return(this._currentCommandIndex<this._commands.length-1);
},getCommandsToUndo:function(){if(this.isUndoAvailable()){return(this._commands.slice(0,this._currentCommandIndex+1)).reverse();
}else{return[];
}},getCommandsToRedo:function(){if(this.isRedoAvailable()){return this._commands.slice(this._currentCommandIndex+1);
}else{return[];
}},canRepeatLastCommand:function(){return((this._currentCommandIndex==this._commands.length-1)&&null!=this._commands[this._currentCommandIndex]&&("function"==typeof(this._commands[this._currentCommandIndex].clone)));
},repeatLastCommand:function(){if(this.canRepeatLastCommand()){var a=this._commands[this._currentCommandIndex].clone();
this.execute(a);
}},_clearCommandsToRedo:function(){if(this.isRedoAvailable()){this._commands.splice(this._currentCommandIndex+1,this._commands.length-this._currentCommandIndex);
}},_updateRestorePoints:function(a){var c=a.RestorePoint1,d=a.RestorePoint2,b=a.get_editor&&a.get_editor()?a.get_editor().get_contentArea():null;
if(!b){return;
}if(c){c.container=b;
}if(d){d.container=b;
}}};
Telerik.Web.UI.Editor.CommandsManager.registerClass("Telerik.Web.UI.Editor.CommandsManager",null);
Type.registerNamespace("Telerik.Web.UI");
Type.registerNamespace("Telerik.Web.UI.Editor");
(function(a,f){var c=Telerik.Web.UI;
var b=c.Editor;
var d="EditorEditType";
var e="EditorToolBarAnimationType";
a.registerEnum(c.Editor,"CommandStates",{Disabled:-1,Off:0,On:1});
a.registerEnum(c,"EditingOptions",{Typing:1,Tools:2,ContextMenus:4,Tab:8,Modules:16,EditModes:32,All:63});
a.registerEnum(c,"StripFormattingOptions",{None:0,NoneSupressCleanMessage:1,MSWord:2,MSWordNoFonts:4,MSWordRemoveAll:8,Css:16,Font:32,Span:64,AllExceptNewLines:128,ConvertWordLists:256,All:512,MSWordNoMargins:1024});
a.registerEnum(c,"EditorStripHtmlOptions",{None:0,Comments:1});
a.registerEnum(c,"EditorToolbarMode",{Default:1,Floating:2,PageTop:4,ShowOnFocus:8,RibbonBar:16,RibbonBarFloating:32,RibbonBarPageTop:64,RibbonBarShowOnFocus:128});
a.registerEnum(c,"EditorFilters",{None:0,RemoveScripts:1,MakeUrlsAbsolute:2,FixUlBoldItalic:4,FixEnclosingP:8,IECleanAnchors:16,MozEmStrong:32,ConvertFontToSpan:64,ConvertToXhtml:128,IndentHTMLContent:256,EncodeScripts:512,OptimizeSpans:1024,ConvertCharactersToEntities:2048,PdfExportFilter:4096,ConvertInlineStylesToAttributes:8192,ConvertTags:16384,StripCssExpressions:32768,StripDomEventAttributes:65536,DefaultFilters:53245});
a.registerEnum(c,"EditorNewLineModes",{Br:1,P:2,Div:4});
a.registerEnum(c,"EditorToolType",{Button:1,DropDown:2,SplitButton:4,Separator:8,ToolStrip:16,Custom:32});
a.registerEnum(c,"EditModes",{Design:1,Html:2,Preview:4,All:7});
a.registerEnum(c,"EditorContentAreaMode",{Iframe:1,Div:2});
c.Editor.formatSetBlockElements=["p","h1","h2","h3","h4","h5","h6","menu","pre","address"];
a.registerEnum(b,d,{Normal:1,Inline:2});
a.registerEnum(b,e,{None:0,Fade:2});
})($telerik.$);
Type.registerNamespace("Telerik.Web.UI");
Type.registerNamespace("Telerik.Web.UI.Editor");
$telerik.toEditorFilter=function(a){return a;
};
$telerik.findEditorFilter=$find;
(function(a,j){var c=Telerik.Web.UI,b=c.Editor,i="Telerik.Web.UI.Editor",d=".",h="MetaTagAttributesFilter",k=b.Utils;
function g(){var l=window.navigator.userAgent;
if(l.indexOf("Windows Phone")>-1&&l.indexOf("IEMobile")>-1&&l.indexOf("MSIE")===-1){return true;
}else{return false;
}}function f(l){return typeof(l)==="undefined";
}b.Filter=function(){b.Filter.initializeBase(this);
this.IsDom=false;
this.Enabled=false;
this.Name="RadEditor filter";
this.Description="RadEditor filter description";
};
b.Filter.prototype={getHtmlContent:function(l){return l;
},getDesignContent:function(l){return l;
},get_isDom:function(){return this.IsDom;
},set_isDom:function(l){this.IsDom=l;
},get_enabled:function(){return this.Enabled;
},set_enabled:function(l){this.Enabled=l;
},get_name:function(){return this.Name;
},set_name:function(l){this.Name=l;
},get_description:function(){return this.Description;
},set_description:function(l){this.Description=l;
}};
b.Filter.registerClass("Telerik.Web.UI.Editor.Filter",Sys.Component);
b.StripScriptsFilter=function(){b.StripScriptsFilter.initializeBase(this);
this.IsDom=false;
this.Enabled=true;
this.Name="StripScriptsFilter";
this.Description="This filter strips all script tags from the content.";
};
b.StripScriptsFilter.prototype={getHtmlContent:function(l){return this._performStripping(l);
},getDesignContent:function(l){return this._performStripping(l);
},_performStripping:function(m){var l=m.replace(new RegExp("<(SCRIPT)([^>]*)/>","ig"),"");
l=l.replace(RegExp("<(SCRIPT)([^>]*)>[\\s\\S]*?</(SCRIPT)([^>]*)>","ig"),"");
return l;
}};
b.StripScriptsFilter.registerClass("Telerik.Web.UI.Editor.StripScriptsFilter",b.Filter);
b.EncodeScriptsFilter=function(){b.EncodeScriptsFilter.initializeBase(this);
this.IsDom=false;
this.Enabled=true;
this.Name="EncodeScriptsFilter";
this.Description="This filter encodes all script tags from the content.";
};
b.EncodeScriptsFilter.prototype={getHtmlContent:function(l){var n=new RegExp("<!--RADEDITORSAVEDTAG_([\\s\\S]*?)-->","ig");
var p=new RegExp("RADEDITORSAVEDTAGENDING","ig");
var o=new RegExp("RADEDITORSAVEDTAGBEGINNING","ig");
var m=l.replace(n,"<$1>");
m=m.replace(p,"-->");
m=m.replace(o,"<!--");
return m;
},getDesignContent:function(m){var l=function(s,q,r,v,x){var w=x.substring(0,v).lastIndexOf("<!--");
var p=x.substring(0,v).lastIndexOf("-->");
if(w>p){w=x.substring(v,x.length).indexOf("<!--");
p=x.substring(v,x.length).indexOf("-->");
if((w==-1&&p>-1)||(p<w)){return s;
}}var z=new RegExp("-->","ig");
var y=new RegExp("<!--","ig");
var t=r.replace(z,"RADEDITORSAVEDTAGENDING");
t=t.replace(y,"RADEDITORSAVEDTAGBEGINNING");
var u="<!--RADEDITORSAVEDTAG_"+q+t+"-->";
return u;
};
var o=new RegExp("<(script|noscript)([\\s\\S]*?<\\/\\1)>","ig");
var n=m.replace(o,l);
return n;
}};
b.EncodeScriptsFilter.registerClass("Telerik.Web.UI.Editor.EncodeScriptsFilter",b.Filter);
b.RemoveExtraBrakes=function(){b.RemoveExtraBrakes.initializeBase(this);
this.IsDom=false;
this.Enabled=true;
this.Name="RemoveExtraBrakes";
this.Description="This filter strips all extra brakes inside some tags like p, h1, etc.";
};
b.RemoveExtraBrakes.prototype={getHtmlContent:function(l){return this._performStripping(l);
},_performStripping:function(l){var m=l;
if($telerik.isFirefox||$telerik.isOpera){m=m.replace(/<BR\s?\/?>\s*<SCRIPT/ig,"<script");
}m=m.replace(/<BR\s?\/?>\s*<\/(H1|H2|H3|H4|H5|H6|LI|P|DIV)/ig,function(p,o,q,n){if(!n.substr(0,q).match(/<BR\s?\/?>\s*$/gi)){p="</"+o;
}return p;
});
m=m.replace(/<(H1|H2|H3|H4|H5|H6|LI|P|DIV)([^>]*)?><BR\s?\/?>/ig,"<$1 $2>");
if($telerik.isSafari){m=m.replace(/<p><\/p>/ig,"<p><br /></p>");
}return m;
}};
b.RemoveExtraBrakes.registerClass("Telerik.Web.UI.Editor.RemoveExtraBrakes",b.Filter);
b.FixNestedLists=function(){b.FixNestedLists.initializeBase(this);
this.IsDom=true;
this.Enabled=true;
this.Name="FixNestedLists";
this.Description="This filter produces valid XHTML from nested lists";
};
b.FixNestedLists.prototype={_getElements:function(m,n){var l=m.getElementsByTagName(n);
if(!l){l=m.ownerDocument.getElementsByTagName(n);
}return l;
},fixLists:function(m,p){var l=this._getElements(m,p);
for(var n=l.length-1;
n>=0;
n--){var o=l[n];
var r=o.previousSibling;
if(r&&r.nodeType==3){r=r.previousSibling;
}if(r&&"li"==o.previousSibling.nodeName.toLowerCase()){r.appendChild(o.cloneNode(true));
var q=o.parentNode;
q.removeChild(o);
q=null;
}}},getHtmlContent:function(l){this.fixLists(l,"OL");
this.fixLists(l,"UL");
return l;
}};
b.FixNestedLists.registerClass("Telerik.Web.UI.Editor.FixNestedLists",b.Filter);
b.FixUlBoldItalic=function(){b.FixUlBoldItalic.initializeBase(this);
this.IsDom=true;
this.Enabled=true;
this.Name="FixUlBoldItalic";
this.Description="This filter changes u, b, i tags to spans with CSS";
};
b.FixUlBoldItalic.prototype={_getElements:function(m,n){var l=m.getElementsByTagName(n);
if(!l){l=m.ownerDocument.getElementsByTagName(n);
}return l;
},_replaceElementWithSpan:function(m,v,s){var l=this._getElements(m,v);
var n=[];
for(var p=l.length-1;
p>=0;
p--){Array.add(n,l[p]);
}for(var o=0,q=n.length;
o<q;
o++){var r=m.ownerDocument.createElement("span");
r.style.cssText=s;
var t=n[o];
var u=t.innerHTML;
if($telerik.isIE&&u==" "){r.innerText=u;
}else{b.Utils.setElementInnerHtml(r,u);
}t.parentNode.replaceChild(r,t);
}},_replaceSpanWithElement:function(n,v,z){var y=this._getElements(n,"span");
var o=[];
for(var q=y.length-1;
q>=0;
q--){Array.add(o,y[q]);
}for(var p=0,t=o.length;
p<t;
p++){var m=[];
var x=o[p];
for(var r=0;
r<x.childNodes.length;
r++){Array.add(m,x.childNodes[r].cloneNode(true));
}var w=x.style.cssText.toLowerCase();
if(w==z||w==(z+";")){var u=n.ownerDocument.createElement(v);
for(var s=0;
s<m.length;
s++){u.appendChild(m[s]);
}x.parentNode.replaceChild(u,x);
}}},getHtmlContent:function(l){this._replaceElementWithSpan(l,"u","text-decoration:underline;");
this._replaceElementWithSpan(l,"strike","text-decoration: line-through;");
return l;
},getDesignContent:function(l){if(g()&&f(l)){return l;
}this._replaceSpanWithElement(l,"u","text-decoration: underline");
this._replaceSpanWithElement(l,"strike","text-decoration: line-through");
return l;
}};
b.FixUlBoldItalic.registerClass("Telerik.Web.UI.Editor.FixUlBoldItalic",b.Filter);
b.OptimizeSpans=function(){b.OptimizeSpans.initializeBase(this);
this.IsDom=true;
this.Enabled=true;
this.Name="OptimizeSpans";
this.Description="This filter changes removes unneeded span elements";
};
b.OptimizeSpans.prototype={_getElements:function(m,n){var l=m.getElementsByTagName(n);
if(!l){l=m.ownerDocument.getElementsByTagName(n);
}return l;
},_singleChild:function(o){if(o==null||o.parentNode==null){return false;
}var p=o.parentNode;
var l=0;
for(var m=0,n=p.childNodes.length;
m<n&&l<2;
m++){var q=p.childNodes[m];
if(q.nodeType==3&&String(q.nodeValue).trim()==""){continue;
}l++;
}return(l==1);
},_optimizeElement:function(s){var t=s.parentNode;
var q,r;
var l=["align","dir","lang","title","class","id"];
var m=true;
for(q=0,r=l.length;
q<r;
q++){m|=this._checkAttribute(s,t,l[q]);
}if(!m){return;
}for(q=0,r=l.length;
q<r;
q++){var n=l[q];
var o=s.getAttribute(n,2);
if(o){t.setAttribute(n,o);
}}var p=$telerik.isIE?s.style.cssText:s.getAttribute("style",2);
if(p){var u=$telerik.isIE?t.style.cssText:t.getAttribute("style",2);
u=u?u+";":"";
if($telerik.isIE){t.style.cssText=u+p;
}else{t.setAttribute("style",u+p);
}}b.Utils.removeNode(s);
},_checkAttribute:function(o,p,n){var l=o.getAttribute(n,2);
var m=p.getAttribute(n,2);
return(l==null||m==null||l==m);
},getHtmlContent:function(m){var r=this._getElements(m,"span");
if(r){var n,o=r.length;
var l=[];
for(n=0;
n<o;
n++){var p=r[n];
var s=p.tagName.toLowerCase();
if(p.parentNode.tagName.toLowerCase()==s){if(this._singleChild(p)){l[l.length]=p;
}else{var q=b.Utils.getOuterHtml(p).toLowerCase();
if(q.indexOf("<"+s+">")==0){l[l.length]=p;
}}}}o=l.length;
for(n=0;
n<o;
n++){this._optimizeElement(l[n]);
}}return m;
}};
b.OptimizeSpans.registerClass("Telerik.Web.UI.Editor.OptimizeSpans",b.Filter);
b.IEKeepCommentsFilter=function(){b.IEKeepCommentsFilter.initializeBase(this);
this.IsDom=false;
this.Enabled=true;
this.Name="IEKeepCommentsFilter";
this.Description="This filter keeps the conditional comments in IE.";
};
b.IEKeepCommentsFilter.prototype={getHtmlContent:function(m){var l=new RegExp("<!--RADEDITORSAVEDCOMMENT","ig");
var n=m.replace(l,"<!--");
return n;
},getDesignContent:function(m){var l=new RegExp("<!--(\\[[^\\]]+\\][\\s\\S]*?)-->","ig");
var n=m.replace(l,"<!--RADEDITORSAVEDCOMMENT$1-->");
return n;
}};
b.IEKeepCommentsFilter.registerClass("Telerik.Web.UI.Editor.IEKeepCommentsFilter",b.Filter);
b.IEKeepObjectParamsFilter=function(){b.IEKeepObjectParamsFilter.initializeBase(this);
this.IsDom=false;
this.Enabled=true;
this.Name="IEKeepObjectParamsFilter";
this.Description="This filter keeps the params of object tags when going to html mode and back.";
this._paramRegex=new RegExp("<param([\\s\\S]+?)/?>","ig");
};
b.IEKeepObjectParamsFilter.prototype={getHtmlContent:function(l){var o=new RegExp("<rade_param","ig");
var n=this._paramRegex.test(l);
var p=o.test(l);
var m=l;
if(n&&p){m=m.replace(this._paramRegex,"");
}if(p){m=m.replace(o,"<param");
m=m.replace(/>\s*<\/rade_param>/gi,"/>");
m=m.replace(this._paramRegex,"<param$1/>");
}return m;
},getDesignContent:function(l){var m=l.replace(this._paramRegex,"<rade_param$1></rade_param><param$1/>");
return m;
}};
b.IEKeepObjectParamsFilter.registerClass("Telerik.Web.UI.Editor.IEKeepObjectParamsFilter",b.Filter);
b.IEKeepObjectDesignFilter=function(){b.IEKeepObjectDesignFilter.initializeBase(this);
this.IsDom=true;
this.Enabled=true;
this.Name="IEKeepObjectDesignFilter";
this.Description="This filter keeps the browser from automatically changing object tags when going to html mode and back.";
};
b.IEKeepObjectDesignFilter.prototype={getHtmlContent:function(l){var o=l.getElementsByTagName("object");
for(var m=0,n=o.length;
m<n;
m++){var p=o[m];
var q=p.getAttribute("data",2);
var r=p.getAttribute("type",2);
if(q&&r&&r.toLowerCase().indexOf("silverlight")!=-1&&q.toLowerCase().indexOf("base64")!=-1){p.setAttribute("data","data:"+r+",");
}}return l;
}};
b.IEKeepObjectDesignFilter.registerClass("Telerik.Web.UI.Editor.IEKeepObjectDesignFilter",b.Filter);
b.FixEnclosingP=function(){b.FixEnclosingP.initializeBase(this);
this.IsDom=true;
this.Enabled=true;
this.Name="FixEnclosingP";
this.Description="This filter removes a parent paragraph tag if the whole content is inside it.";
};
b.FixEnclosingP.prototype={getHtmlContent:function(n){if(!$telerik.isIE){return n;
}var o=b.Utils;
var l=o.isTag(n,"html")?n.getElementsByTagName("BODY")[0]:n;
var m=l?l.firstChild:null;
if(o.isTag(m,"p")&&l.childNodes.length==1&&!o.hasAttributes(m)){b.Utils.removeNode(m);
}return n;
}};
b.FixEnclosingP.registerClass("Telerik.Web.UI.Editor.FixEnclosingP",b.Filter);
b.IEFixEmptyParagraphs=function(){b.IEFixEmptyParagraphs.initializeBase(this);
this.IsDom=false;
this.Enabled=true;
this.Name="IEFixEmptyParagraphs";
this.Description="This filter inserts a non-braking space in empty paragraph tags so they are rendered correctly in IE.";
};
b.IEFixEmptyParagraphs.prototype={getHtmlContent:function(l){var n=new RegExp("(<p[^>]*>)(<\\/p>)","ig");
var m=l.replace(n,"$1&nbsp;$2");
return m;
}};
b.IEFixEmptyParagraphs.registerClass("Telerik.Web.UI.Editor.IEFixEmptyParagraphs",b.Filter);
b.IECleanAnchorsFilter=function(){b.IECleanAnchorsFilter.initializeBase(this);
this.IsDom=false;
this.Enabled=true;
this.Name="IECleanAnchorsFilter";
this.Description="This filter removse the current page href from all anchor (#) links .";
};
b.IECleanAnchorsFilter.prototype={getHtmlContent:function(m){var l=b.Utils.escapeRegExSpecialChars(document.location.href);
var o=new RegExp("(<A[^<>]*?(href)\\s*=\\s*['\"])("+l+")(\\#[^'\"]*?['\"][^>]*?>)","ig");
var n=m.replace(o,"$1$4");
return n;
}};
b.IECleanAnchorsFilter.registerClass("Telerik.Web.UI.Editor.IECleanAnchorsFilter",b.Filter);
b.MozEmStrongFilter=function(){b.MozEmStrongFilter.initializeBase(this);
this.IsDom=false;
this.Enabled=true;
this.Name="MozEmStrongFilter";
this.Description="[Obsolete] This filter changes b,strong and i,em in Mozilla browsers.";
};
b.MozEmStrongFilter.prototype={getHtmlContent:function(l){var m=l.replace(new RegExp("<b(\\s([^>])*?)?>","ig"),"<strong$1>");
m=m.replace(new RegExp("</b(\\s([^>])*?)?>","ig"),"</strong$1>");
m=m.replace(new RegExp("<i(\\s([^>])*?)?>","ig"),"<em$1>");
m=m.replace(new RegExp("</i(\\s([^>])*?)?>","ig"),"</em$1>");
return m;
},getDesignContent:function(l){var m=l.replace(new RegExp("<strong(\\s([^>])*?)?>","ig"),"<b$1>");
m=m.replace(new RegExp("</strong(\\s([^>])*?)?>","ig"),"</b$1>");
m=m.replace(new RegExp("<em(\\s([^>])*?)?>","ig"),"<i$1>");
m=m.replace(new RegExp("</em(\\s([^>])*?)?>","ig"),"</i$1>");
return m;
}};
b.MozEmStrongFilter.registerClass("Telerik.Web.UI.Editor.MozEmStrongFilter",b.Filter);
b.ConvertTagsFilter=function(){b.ConvertTagsFilter.initializeBase(this);
this.IsDom=false;
this.Enabled=true;
this.Name="ConvertTagsFilter";
this.Description="This filter converts one type of tags to another type.";
};
b.ConvertTagsFilter.prototype={tags:[{source:"b",target:"strong"},{source:"i",target:"em"},{source:"strike",target:"del"}],getHtmlContent:function(l){return this.convertTags(l);
},getDesignContent:function(l){return this.convertTags(l);
},convertTags:function(l){var n=l,o=this.tags;
for(var m=0;
m<o.length;
m++){n=this._replaceTag(n,o[m]);
}return n;
},_replaceTag:function(l,m){return l.replace(new RegExp("<"+m.source+"(\\s([^>])*?)?>","ig"),"<"+m.target+"$1>").replace(new RegExp("</"+m.source+"(\\s([^>])*?)?>","ig"),"</"+m.target+"$1>");
}};
b.ConvertTagsFilter.registerClass("Telerik.Web.UI.Editor.ConvertTagsFilter",b.Filter);
b.MozillaKeepStylesString=function(){b.MozillaKeepStylesString.initializeBase(this);
this.IsDom=false;
this.Enabled=true;
this.Name="MozillaKeepStylesString";
this.Description="This filter remembers the positions of link tags in the html content (part 1).";
this.markerCounter=0;
};
b.MozillaKeepStylesString.prototype={getDesignContent:function(m){var p=this;
var l=function(u,r,s,w,x){var q=x.indexOf("</head>",w);
if(q!=-1&&x.indexOf("<body",q)!=-1){return u;
}else{p.markerCounter++;
var t="RadEditorStyleKeeper"+p.markerCounter;
var v="<div id='"+t+"' style='display:none;'>&nbsp;</div><"+r+" reoriginalpositionmarker='"+t+"'"+s;
return v;
}};
var n=new RegExp("<(link|style)([^>]*>)","gi");
var o=m.replace(n,l);
return o;
},getHtmlContent:function(l){var m=new RegExp("<(link|style) reoriginalpositionmarker='RadEditorStyleKeeper[^']+'([^>]*>)","gi");
var o=l.replace(m,"<$1$2");
var n=new RegExp("<div id='RadEditorStyleKeeper[^']+' style='display:none;'>&nbsp;</div>","gi");
o=o.replace(n,"");
return o;
}};
b.MozillaKeepStylesString.registerClass("Telerik.Web.UI.Editor.MozillaKeepStylesString",b.Filter);
b.MozillaKeepStylesDom=function(){b.MozillaKeepStylesDom.initializeBase(this);
this.IsDom=true;
this.Enabled=true;
this.Name="MozillaKeepStylesDom";
this.Description="This filter remembers the positions of link tags in the html content(part 2).";
this._divs=[];
};
b.MozillaKeepStylesDom.prototype={getHtmlContent:function(l){var r=l.getElementsByTagName("HEAD")[0];
var p=true;
if(!r){r=l.ownerDocument.getElementsByTagName("HEAD")[0];
p=false;
}if(!r){return l;
}this._restoreElements(r,l,"STYLE");
this._restoreElements(r,l,"LINK");
var o=l.getElementsByTagName("DIV");
if(o){for(var q=o.length-1;
q>=0;
q--){var m=o[q];
if(m.id.indexOf("RadEditorStyleKeeper")==0){var n=m.parentNode;
n.removeChild(m);
}}}o=null;
if(p){this._removeElements(r,"STYLE");
this._removeElements(r,"LINK");
}this._removeMarkerAttributes(l,"STYLE");
this._removeMarkerAttributes(l,"LINK");
return l;
},_restoreElements:function(o,l,p){var m;
m=o.getElementsByTagName(p);
this._divs=l.getElementsByTagName("DIV");
var n=0;
while(m.length>0&&n<m.length){this._restoreStyle(m[n++]);
}},_restoreStyle:function(n){var p=n.getAttribute("reoriginalpositionmarker");
if(p){var o=0;
var l=null;
while(o<this._divs.length&&!l){if(this._divs[o].id==p){l=this._divs[o];
}o++;
}if(l){var q=n.cloneNode(true);
q.removeAttribute("reoriginalpositionmarker");
var m=l.parentNode;
m.replaceChild(q,l);
return true;
}}return false;
},_removeElements:function(m,q){var p=m.getElementsByTagName(q);
if(p){for(var l=p.length-1;
l>=0;
l--){var n=p[l];
if(null!=n.getAttribute("reoriginalpositionmarker")){var o=n.parentNode;
o.removeChild(n);
}}p=null;
}},_removeMarkerAttributes:function(l,o){var n=l.getElementsByTagName(o);
if(n){for(var m=n.length-1;
m>=0;
m--){n[m].removeAttribute("reoriginalpositionmarker");
}}n=null;
}};
b.MozillaKeepStylesDom.registerClass("Telerik.Web.UI.Editor.MozillaKeepStylesDom",b.Filter);
b.MozillaRemoveLastBrFilter=function(l){b.MozillaRemoveLastBrFilter.initializeBase(this);
this.IsDom=true;
this.Enabled=true;
this.Name="MozillaRemoveLastBr";
this.Description="Remove the last Br element, which Firefox automatically adds.";
};
b.MozillaRemoveLastBrFilter.prototype={getHtmlContent:function(l){this._removeLastBr(l);
return l;
},_removeLastBr:function(m){if(!m||$telerik.isIE){return;
}var l=(m.tagName=="HTML")?m.getElementsByTagName("BODY")[0]:m;
var n=(l.lastChild)?l.lastChild:null;
if(n&&n.tagName&&"BR"==n.tagName){b.Utils.removeNode(n);
}},getDesignContent:function(m){if(!m||$telerik.isIE){return;
}var l=(m.tagName=="HTML")?m.getElementsByTagName("BODY")[0]:m;
$telerik.$(l).append("<br />");
return m;
}};
b.MozillaRemoveLastBrFilter.registerClass("Telerik.Web.UI.Editor.MozillaRemoveLastBrFilter",b.Filter);
b.MozillaKeepFlash=function(l){b.MozillaKeepFlash.initializeBase(this);
this.IsDom=true;
this.Enabled=true;
this.Name="MozillaKeepFlash";
this.Description="This filter replaces the flash/media objects with static images in design mode.";
this._flashImageSrc=l?l:"FlashManager.gif";
};
b.MozillaKeepFlash.prototype={_saveFlashObject:function(l){var n=l.ownerDocument.createElement("img");
n.setAttribute("isflash","true");
n.setAttribute("src",this._flashImageSrc);
n.setAttribute("alt","");
var q=l.getAttribute("width",2);
if(q){n.setAttribute("width",q);
}var m=l.getAttribute("height",2);
if(m){n.setAttribute("height",m);
}var o=$telerik.getOuterHtml(l);
o=o.replace(/\n/gi,"<flashcr />").replace(/\r/gi,"<flashlf />");
n.setAttribute("originalCode",b.Utils.encodePostbackContent(o));
var p=l.parentNode;
p.insertBefore(n,l);
p.removeChild(l);
l=null;
},_restoreFlashObject:function(l){var p=b.Utils.decodePostbackContent(l.getAttribute("originalCode"));
p=p.replace(/<flashcr\s*\/\>/gi,"\n").replace(/<flashlf\s*\/\>/gi,"\r");
var o=l.ownerDocument.createElement("div");
o.innerHTML=p;
var n=o.firstChild;
var r=l.getAttribute("width",2);
if(r){n.setAttribute("width",r);
}var m=l.getAttribute("height",2);
if(m){n.setAttribute("height",m);
}var q=l.parentNode;
q.insertBefore(n,l);
q.removeChild(l);
l=null;
},getDesignContent:function(m){var o,n;
var l=m.getElementsByTagName("object");
for(o=0;
o<l.length;
o++){n=l[o];
this._saveFlashObject(n);
o--;
}l=m.getElementsByTagName("embed");
for(o=0;
o<l.length;
o++){n=l[o];
this._saveFlashObject(n);
o--;
}return m;
},getHtmlContent:function(m){var l=m.getElementsByTagName("img");
for(var o=0;
o<l.length;
o++){var n=l[o];
var p=n.getAttribute("isflash",2);
if(p!=null){this._restoreFlashObject(n);
o--;
}}return m;
}};
b.MozillaKeepFlash.registerClass("Telerik.Web.UI.Editor.MozillaKeepFlash",b.Filter);
b.StripJunkFilter=function(){b.StripJunkFilter.initializeBase(this);
this.IsDom=false;
this.Enabled=true;
this.Name="StripJunkFilter";
this.Description="This filter strips extra content, added by the Safari/Firefox browsers.";
};
b.StripJunkFilter.prototype={getHtmlContent:function(l){var m=l;
if($telerik.isSafari){m=m.replace(new RegExp(' class="khtml-block-placeholder"',"ig"),"");
m=m.replace(new RegExp(' class="Apple-style-span"',"ig"),"");
m=m.replace(new RegExp(' class="webkit-block-placeholder"',"ig"),"");
}if($telerik.isFirefox){m=m.replace(new RegExp('\\s?<br type="_moz" \\/>',"ig")," ");
m=m.replace(new RegExp(' _moz_[a-z_]*="[^"]*"',"ig"),"");
m=m.replace(new RegExp(' type="_moz"',"ig"),"");
}return m;
}};
b.StripJunkFilter.registerClass("Telerik.Web.UI.Editor.StripJunkFilter",b.Filter);
b.ConvertFontToSpanFilter=function(){b.ConvertFontToSpanFilter.initializeBase(this);
this.IsDom=true;
this.Enabled=true;
this.Name="ConvertFontToSpanFilter";
this.Description="This filter changes deprecated font tags to compliant span tags.";
this._fontSizesPx=b.Utils._fontSizesPx;
this._fontSizesRevPx=[];
for(var l=0;
l<this._fontSizesPx.length;
l++){this._fontSizesRevPx[parseInt(this._fontSizesPx[l],10)]=l;
}};
b.ConvertFontToSpanFilter.prototype={getHtmlContent:function(l){var m=l.ownerDocument;
var u=m.createElement("span");
var t,p,r;
var q=l.getElementsByTagName("FONT");
while(q.length>0){p=q[0];
r=p.parentNode;
t=u.cloneNode(false);
$telerik.mergeElementAttributes(p,t,false);
if(p.style.cssText&&p.style.cssText!=""){t.style.cssText=p.style.cssText;
}if(p.className){t.className=p.className;
}if(p.face){t.style.fontFamily=p.face;
if($telerik.isFirefox){this._fixFontFamilyValues(t,p);
}if(t.getAttribute("face")!=null){t.removeAttribute("face");
}}var s=0;
if(p.style.fontSize){t.style.fontSize=p.style.fontSize;
}else{if(!isNaN(s=parseInt(p.size,10))&&p.size!="+0"){try{if(s<0){s=s+4;
}t.style.fontSize=this._fontSizesPx[s-1];
}catch(n){t.style.fontSize=this._fontSizesPx[3];
}if(t.getAttribute("size")!=null){t.removeAttribute("size");
}}}var o=p.getAttribute("color");
if(o){t.style.color=o;
if(t.getAttribute("color")!=null){t.removeAttribute("color");
}}if($telerik.isIE&&p.innerHTML==" "){t.innerText=p.innerHTML;
}else{b.Utils.setElementInnerHtml(t,p.innerHTML);
}r.replaceChild(t,p);
q=l.getElementsByTagName("FONT");
}return l;
},getDesignContent:function(m){if($telerik.isSafari2||$telerik.isSafari3){return m;
}if(g()&&f(m)){return m;
}var n=m.ownerDocument;
var p=n.createElement("font");
var s,o,r;
var t=m.getElementsByTagName("SPAN");
while(t.length>0){s=t[0];
r=s.parentNode;
o=p.cloneNode(false);
$telerik.mergeElementAttributes(s,o,false);
if(s.style.cssText&&s.style.cssText!=""){o.style.cssText=s.style.cssText;
}if(s.className){o.className=s.className;
}if(s.style.fontFamily){o.face=s.style.fontFamily;
if($telerik.isFirefox){var q=this._getFontFamilyValue(s.attributes.style.nodeValue);
o.face=q?q:o.face;
}this._removeElementStyleAttribute(o,"fontFamily");
}if(s.style.fontSize){var l=null;
if(-1!=s.style.fontSize.indexOf("px")){l=this._fontSizesRevPx[parseInt(s.style.fontSize,10)];
}if(typeof(l)!="undefined"&&null!=l){o.size=l+1;
this._removeElementStyleAttribute(o,"fontSize");
}}if(s.style.color){o.color=b.Utils._rgbToHex(s.style.color);
this._removeElementStyleAttribute(o,"color");
}if($telerik.isIE&&s.innerHTML==" "){o.innerText=s.innerHTML;
}else{b.Utils.setElementInnerHtml(o,s.innerHTML);
}r.replaceChild(o,s);
t=m.getElementsByTagName("SPAN");
}return m;
},_removeElementStyleAttribute:function(l,m){if(l.style&&l.style[m]){if(l.style.removeAttribute){l.style.removeAttribute(m);
}else{if(l.style.removeProperty){m=m.replace(/([A-Z])/g,"-$1").toLowerCase();
l.style.removeProperty(m);
}}if(l.style[m]){l.style[m]=null;
}if(!l.style.cssText){l.removeAttribute("style");
}}},_getFontFamilyValue:function(n){var l;
var m=n.match(/(font-family:\s*)([^;]+);/i);
if(m){l=m[2];
}return l;
},_fixFontFamilyValues:function(m,l){var n=m.attributes.style.nodeValue;
n=n.replace(m.style.fontFamily,l.face.replace(/\s+/g," "));
m.attributes.style.nodeValue=n;
}};
b.ConvertFontToSpanFilter.registerClass("Telerik.Web.UI.Editor.ConvertFontToSpanFilter",b.Filter);
b.ConvertInlineStylesToAttributesFilter=function(){b.ConvertInlineStylesToAttributesFilter.initializeBase(this);
this.IsDom=true;
this.Enabled=true;
this.Name="ConvertInlineStylesToAttributesFilter";
this.Description="This filter converts XHTML compliant inline style attributes to Email compliant element attributes.";
};
b.ConvertInlineStylesToAttributesFilter.prototype={getHtmlContent:function(l){var m=$telerik.$.proxy;
$telerik.$("body",l).each(m(function(o,n){this.convertCSSProperty(n,"bgColor","backgroundColor");
this.convertCSSProperty(n,"background","backgroundImage");
},this));
$telerik.$("table,td",l).each(m(function(o,n){this.convertCSSProperty(n,"bgColor","backgroundColor");
this.convertCSSProperty(n,"background","backgroundImage");
this.convertCSSProperty(n,"width","width");
this.convertCSSProperty(n,"height","height");
},this));
$telerik.$("img",l).each(m(function(o,n){b.Utils.convertImgCssAlignProperty(n);
if($telerik.isIE){n.style.styleFloat="";
}else{n.style.cssFloat="";
}n.style.verticalAlign="";
this.convertCSSProperty(n,"width","width");
this.convertCSSProperty(n,"height","height");
},this));
return l;
},getDesignContent:function(m){var l=new b.CleanAttributesFilter();
m=l.getHtmlContent(m);
m=l.getDesignContent(m);
return m;
},convertCSSProperty:function(m,n,l){b.Utils.convertCSSProperty(m,n,l);
}};
b.ConvertInlineStylesToAttributesFilter.registerClass("Telerik.Web.UI.Editor.ConvertInlineStylesToAttributesFilter",b.Filter);
b.AttributesFilterBase=function(l){b.AttributesFilterBase.initializeBase(this);
this.settings=l;
};
b.AttributesFilterBase.prototype={getHtmlContent:function(m){var n=this.convertAttribute,o=this.settings,l=$telerik.$(m);
Array.forEach(o,function(p){l.find(p.tags.join(",")).each(function(r,q){Array.forEach(p.attributes,function(s){if(typeof(s.method)==="function"){s.method(q);
q.removeAttribute(s.attr);
}else{n(q,s.attr,s.style);
}});
});
});
return m;
},getDesignContent:function(l){return this.getHtmlContent(l);
},convertAttribute:function(m,n,l){b.Utils.convertAttribute(m,n,l);
m.removeAttribute(n);
},convertCSSToAttribute:function(m,n,l){b.Utils.convertCSSProperty(m,n,l);
}};
b.AttributesFilterBase.registerClass("Telerik.Web.UI.Editor.AttributesFilterBase",b.Filter);
b.CleanAttributesFilter=function(){var l=[{tags:["body","table"],attributes:[{attr:"bgColor",style:"backgroundColor"},{attr:"background",style:"backgroundImage"}]},{tags:["p","h1","h2","h3","h4","h5","h6","div","ul","li"],attributes:[{attr:"align",style:"textAlign"}]},{tags:["td"],attributes:[{attr:"bgColor",style:"backgroundColor"},{attr:"background",style:"backgroundImage"},{attr:"borderColor",style:"borderColor"},{attr:"width",style:"width"},{attr:"height",style:"height"},{attr:"noWrap",style:"whiteSpace"}]},{tags:["img"],attributes:[{method:k.convertImgAlignAttribute,attr:"align"},{method:k.convertBorderAttribute,attr:"border"},{attr:"hspace",style:["marginLeft","marginRight"]},{attr:"vspace",style:["marginTop","marginBottom"]}]},{tags:["ul","ol"],attributes:[{method:k.convertTypeAttribute,attr:"type"}]}];
b.CleanAttributesFilter.initializeBase(this,[l]);
this.IsDom=true;
this.Enabled=true;
this.Name="CleanAttributesFilter";
this.Description="This filter fixes deprecated attributes to make the content XHTML compliant.";
};
b.CleanAttributesFilter.registerClass("Telerik.Web.UI.Editor.CleanAttributesFilter",b.AttributesFilterBase);
b.StripDomEventAttributesFilter=function(){var l=[],m=["onabort","onactivate","onafterprint","onbeforeactivate","onbeforecopy","onbeforecut","onbeforedeactivate","onbeforepaste","onbeforeprint","onbeforeunload","onblur","oncanplay","oncanplaythrough","onchange","onclick","oncontextmenu","oncopy","oncuechange","oncut","ondblclick","ondeactivate","ondrag","ondragend","ondragenter","ondragleave","ondragover","ondragstart","ondrop","ondurationchange","onemptied","onended","onerror","onfocus","onfocusin","onfocusout","ongotpointercapture","onhashchange","onhelp","oninput","onkeydown","onkeypress","onkeyup","onload","onloadeddata","onloadedmetadata","onloadstart","onlostpointercapture","onmessage","onmousedown","onmouseenter","onmouseleave","onmousemove","onmouseout","onmouseover","onmouseup","onmousewheel","onmscontentzoom","onmsgesturechange","onmsgesturedoubletap","onmsgestureend","onmsgesturehold","onmsgesturestart","onmsgesturetap","onmsgotpointercapture","onmsinertiastart","onmslostpointercapture","onmsmanipulationstatechanged","onmspointercancel","onmspointerdown","onmspointerenter","onmspointerleave","onmspointermove","onmspointerout","onmspointerover","onmspointerup","onoffline","ononline","onpagehide","onpageshow","onpaste","onpause","onplay","onplaying","onpointercancel","onpointerdown","onpointerenter","onpointerleave","onpointermove","onpointerout","onpointerover","onpointerup","onpopstate","onprogress","onratechange","onreset","onresize","onscroll","onseeked","onseeking","onselect","onselectstart","onstalled","onstorage","onsubmit","onsuspend","ontimeupdate","onunload","onvolumechange","onwaiting"];
Array.forEach(m,function(o){l.push({attr:o});
});
var n=[{tags:["*"],attributes:l}];
b.StripDomEventAttributesFilter.initializeBase(this,[n]);
this.IsDom=true;
this.Enabled=true;
this.Name="StripDomEventAttributesFilter";
this.Description="This filter removes all common event attributes.";
};
b.StripDomEventAttributesFilter.registerClass("Telerik.Web.UI.Editor.StripDomEventAttributesFilter",b.AttributesFilterBase);
var e=/(\n?\s*[a-zA-Z-]+: ?expression(\())/i;
b.StripCssExpressionsFilter=function(){b.StripCssExpressionsFilter.initializeBase(this);
this.IsDom=false;
this.Enabled=true;
this.Name="StripCssExpressionsFilter";
this.Description="Removes all declarations of CSS expression within style attributes";
};
b.StripCssExpressionsFilter.prototype={getHtmlContent:function(l){return this.getDesignContent(l);
},getDesignContent:function(l){l=this.sanitizeTags(l);
l=this.sanitizeStyleTags(l);
return l;
},sanitizeTags:function(l){var n=/<[\w:]+(?=\s)(?:="(?:\\"|[^"])*"|='(?:\\'|[^'])*'|[^>])*\/?>/gi,m=this;
return l.replace(n,function(p,o){return m.sanitizeContent(p,e);
});
},sanitizeStyleTags:function(l){var n=/(<style(?:="(?:\\"|[^"])*"|='(?:\\'|[^'])*'|[^>])*\/?>)((?:.|\n)*?)(<\/style>)/gi,m=this;
return l.replace(n,function(r,t,o,s,p){var q=m.sanitizeContent(o,e);
return t+q+s;
});
},sanitizeContent:function(l,r){var p=l.match(r);
while(p){var o=p[1],m=p.index+p[0].indexOf(o),s=m+o.length-1,q=0;
do{var n=l.charAt(s);
if(n=='"'||n=="'"||n=="/"){l=this.stripStringPair(n,l,s);
n=l.charAt(s);
}l=this.removeChar(l,s);
if(n=="("){q++;
}else{if(n==")"){q--;
}}}while(q>0&&l.length>s);
l=this.removeRange(l,m,s);
if(l[m]==";"){l=this.removeChar(l,m);
}p=l.match(r);
}return l;
},stripStringPair:function(m,l,o){var n=new RegExp(m+"(?:\\\\\\\\|\\\\"+m+"|[^"+m+"])+"+m);
return l.substring(0,o)+l.substring(o).replace(n,"");
},removeRange:function(l,m,n){return l.substring(0,m)+l.substring(n);
},removeChar:function(m,l){return this.strRemove(m,l,1);
},strRemove:function(n,l,m){return this.removeRange(n,l,l+m);
},strInsert:function(m,l,n){return m.substring(0,l)+n+m.substring(l);
}};
b.StripCssExpressionsFilter.registerClass("Telerik.Web.UI.Editor.StripCssExpressionsFilter",b.Filter);
b.ConvertToXhtmlFilter=function(){b.ConvertToXhtmlFilter.initializeBase(this);
this._uniqueIds={};
this.Name="ConvertToXhtmlFilter";
this.Description="This filter converts the HTML from the editor content area to valid XHTML";
this.Enabled=true;
this.IsDom=true;
};
b.ConvertToXhtmlFilter.prototype={getHtmlContent:function(l){if(!l){return"";
}this._setContentToEmptyWrappers(l);
this._removeMSWordParagraphs(l);
this._fixNestedBlockElements(l);
this._markExistingParagraphs(l);
var n=new Telerik.Web.StringBuilder();
this._appendNodeXhtml(l,n);
var m=n.toString();
m=this._removeAdditionalParagraphs(m);
return m;
},_setContentToEmptyWrappers:function(l){$telerik.$("p,div",l).each(function(n,m){if(m.innerHTML==""||(m.nodeName=="DIV"&&m.childNodes.length==1&&m.firstChild.nodeName=="BR")){$telerik.$(m).html("&nbsp;");
}});
},_removeMSWordParagraphs:function(l){var n=$telerik.$("P",l);
for(var m=0;
m<n.length;
m++){if(/^\r?\n?\s*(<O:P|<\?xml:)/i.test(b.Utils.getOuterHtml(n[m]).trim())){b.Utils.removeNode(n[m]);
}}},_fixNestedBlockElements:function(l){var m=new b.NestedElementsFix(l);
m.applyFix();
},_markExistingParagraphs:function(l){if(!l||!$telerik.isIE){return;
}$telerik.$("P",l).attr("_rdEditor_exists","1").each(function(m){b.Utils.removeNonXhtmlCompliantParents(this);
});
},_removeAdditionalParagraphs:function(l){l=l.replace(/<p><\/p>|<p([^>]+)><\/p>|<p[^\/+]\/>/gi,function(m){return(!m.match(/_rdEditor_exists/ig))?"":m;
});
l=l.replace(/(<p[^>]*) _rdEditor_exists=['"]1['"]([^>]*>)/ig,"$1$2");
return l;
},_convertAttribute:function(l){return String(l).replace(/\&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\"/g,"'");
},_getAttributeValue:function(m,n,o){var l=m.nodeName;
var q=m.nodeValue;
if(l!="style"){if(($telerik.isIE8&&l=="complete"&&q=="complete")||($telerik.isIE8&&l=="shape"&&n.nodeName.toLowerCase()=="a"&&n[l]!=n.getAttribute(l))||($telerik.isIE8&&l.toLowerCase()=="althtml"&&n.nodeName.toLowerCase()=="object")){return;
}if($telerik.isIE&&(l=="type"||l=="value"||l=="selected")){if(!q){return;
}}else{if(!m.specified){if($telerik.isIE&&q==""&&typeof(n[l])=="string"&&n[l]!=""){q=n[l];
}else{return;
}}}if(!q){return;
}if(!isNaN(q)){q=n.getAttribute(l);
}if($telerik.isIE&&(l=="href"||l=="src")){q=n.getAttribute(l,2);
}o.append(" "+(m.expando?l:l.toLowerCase())+'="'+this._convertAttribute(q)+'"');
}else{var p=this._getElementCssText(n);
if(p){p=this._convertRgbToHex(p);
p=this._stripBorderRepetition(p);
p=this._cssPropertiesToLowerCase(p);
p=this._convertAttribute(p);
p=p.replace(/(url\s*\(\s*)&quot;(.*)&quot;\s*\)/ig,"$1$2)");
if($telerik.isSafari){p=p.replace(/(background-image:\surl)\((.+?)\)/ig,"$1('$2')");
p=p.replace(/(background-repeat:\sno-repeat)(?:\sno-repeat)+/ig,"$1");
}o.append(' style="'+p+'"');
}}},_cssPropertiesToLowerCase:function(l){return l.replace(/([^:;]*):/ig,function(n,m){return m.toLowerCase()+":";
});
},_convertRgbToHex:function(l){if($telerik.isFirefox||$telerik.isSafari||$telerik.isIE9Mode){l=l.replace(/rgb *\( *\d+ *, *\d+ *, *\d+ *\)/gi,function(n,o,m){return b.Utils._rgbToHex(n);
});
}return l;
},_replaceBorderRepetition:function(o,n,m){var l=o.match(n);
if(l&&l.length==4){var p=l[0].substring(l[0].indexOf(":"));
if(p==l[1].substring(l[1].indexOf(":"))&&p==l[2].substring(l[2].indexOf(":"))&&p==l[3].substring(l[3].indexOf(":"))){o=o.replace(n,"").replace(/^\s+|\s+$/g,"");
o+=m+p;
}}return o;
},_combineBorderStyles:function(p){var o=new RegExp(/border-(width|style|color):([^;]*);/gi);
var n=p.match(o);
if(n&&n.length==3){var l="border:";
var q=[];
q[0]=n[0].substring(n[0].indexOf(":")+1).trim();
q[1]=n[1].substring(n[1].indexOf(":")+1).trim();
q[2]=n[2].substring(n[2].indexOf(":")+1).trim();
if(q[0].match(/\s/)||q[1].match(/\s/)||q[2].match(/\s/)){return p;
}var m=function(r){for(var s=0;
s<3;
s++){if(n[s].indexOf(r)==0){l+=q[s]+" ";
break;
}}};
m("border-width");
m("border-style");
m("border-color");
l=l.replace(/;/g,"").replace(/currentcolor/gi,"").replace(/initial/gi,"").replace(/\s[\s]+/g," ").replace(/^\s+|\s+$/g,"");
l+=";";
p=p.replace(o,"");
p=l+p;
}return p;
},_stripBorderRepetition:function(m){if(!m){return;
}if(!m.match(/; *$/)){m+=";";
}var l=new RegExp(/border(?:-(top|bottom|left|right))-width:([^;]*);/gi);
m=this._replaceBorderRepetition(m,l,"border-width");
l=new RegExp(/border(?:-(top|bottom|left|right))-style:([^;]*);/gi);
m=this._replaceBorderRepetition(m,l,"border-style");
l=new RegExp(/border(?:-(top|bottom|left|right))-color:([^;]*);/gi);
m=this._replaceBorderRepetition(m,l,"border-color");
l=new RegExp(/border-(top|bottom|left|right):([^;]*);/gi);
m=this._replaceBorderRepetition(m,l,"border");
m=this._combineBorderStyles(m);
return m.replace(/^\s+|\s+$/g,"");
},_canHaveChildren:function(l){switch(l.tagName.toUpperCase()){case"AREA":case"BASE":case"BASEFONT":case"COL":case"FRAME":case"HR":case"IMG":case"BR":case"INPUT":case"ISINDEX":case"LINK":case"META":case"PARAM":return false;
}return true;
},_appendElementNode:function(w,A){if(w.tagName.charAt(0)=="/"){if($telerik.isIE6&&w.nodeName=="/ABBR"){A.append("</abbr>");
}return;
}if(w.nodeName=="!"){A.append(w.text);
return;
}var v=w.nodeName;
if(w.scopeName){if(w.scopeName=="HTML"){v=v.toLowerCase();
}else{v=w.scopeName+":"+v;
}}else{v=v.toLowerCase();
}if($telerik.isFirefox&&v=="br"&&w.parentNode.nodeName.toLowerCase()=="pre"){if(w.getAttribute("_moz_dirty")==""){A.append("\r\n");
return;
}}var s=w.tagName=="P"&&null!=b.Utils.getElementParentByTag(w.parentNode,"P");
if(s){A.append("</p>");
}if(v){A.append("<"+v);
}if("img"==v){if($telerik.isIE6||$telerik.isIE7){var z=document.createElement("img");
z.mergeAttributes(w);
if(z.width){A.append(' width="'+w.getAttribute("width",2)+'"');
}if(z.height){A.append(' height="'+w.getAttribute("height",2)+'"');
}}if(!w.getAttribute("alt",2)){A.append(' alt=""');
}}if($telerik.isIE&&("area"==v||"a"==v)){if(w.shape&&v=="area"&&!document.documentMode){A.append(' shape="'+w.shape.toLowerCase()+'"');
}if(w.coords&&v=="area"&&!document.documentMode){A.append(' coords="'+w.getAttribute("coords")+'"');
}var n=w.getAttribute("href",2);
if(n){n=n.replace("about:blank","");
n=n.replace("about:","");
n=n.replace(/&amp;/gi,"&").replace(/&/gi,"&amp;");
n=n.replace(/[\s\u00a0]/gi,"%20");
A.append(' href="'+n+'"');
w.removeAttribute("href",0);
}}if($telerik.isIE8&&"option"==v&&w.selected){A.append(' selected="selected"');
}var u;
try{var x=this._getNodeAttributes(w);
u=x.length;
for(var q=0;
q<u;
q++){if(!/^sizzle-[0-9]{10,}$/i.test(x[q].nodeName)){this._getAttributeValue(x[q],w,A);
}}}catch(p){if($telerik.isIE&&p.message.indexOf("Not enough storage is available to complete this operation")!=-1){var m=w.outerHTML.replace(/^\s+/gi,"");
m=m.replace(/^([^\s]+)([^>]+?)>[\s\S]+$/gi,"$2");
A.append(m);
}}var y;
switch(v){case"script":A.append(">"+w.text+"</"+v+">");
break;
case"textarea":A.append(">"+w.value+"</"+v+">");
break;
case"iframe":var r=w.innerHTML;
if($telerik.isIE){r=r.replace(/\soriginalAttribute="[^"]+"/gi,"");
r=r.replace(/\soriginalPath="[^"]+"/gi,"");
}if($telerik.isFirefox){r=r.replace(/\&amp;/g,"&").replace(/\&lt;/g,"<").replace(/\&gt;/g,">").replace(/\&quot;/g,'"');
}A.append(">"+r+"</iframe>");
break;
case"object":A.append(">");
y="";
if(w.altHtml){y=w.altHtml;
}else{y=w.innerHTML;
}if($telerik.isIE){y=y.replace(/\soriginalAttribute="[^"]+"/gi,"");
y=y.replace(/\soriginalPath="[^"]+"/gi,"");
}A.append(y);
A.append("</object>");
break;
case"title":case"style":case"comment":case"noscript":y=w.innerHTML;
if($telerik.isIE&&y.length==0){y=w.ownerDocument.title;
}A.append(">"+y+"</"+v+">");
break;
default:if(!($telerik.isIE9Mode&&!this._canHaveChildren(w))&&(w.hasChildNodes()||(true==w.canHaveChildren||(w.canHaveChildren==null&&this._canHaveChildren(w))))){if(v){A.append(">");
}var o=w.childNodes;
u=o.length;
for(var t=0;
t<u;
t++){if(o[t].nodeName!="O:P"){this._appendNodeXhtml(o[t],A);
}}if(v){A.append("</"+v+">");
}if(s){A.append("<p>");
}}else{if($telerik.isIE6&&v=="abbr"){A.append(">");
}else{if(v){A.append(" />");
}}}break;
}},_appendTextNode:function(l,n){var o=String(l.nodeValue);
var m=l.parentNode.nodeName.toLowerCase();
if(!$telerik.isIE&&(m=="style"||m=="script")){n.append(o);
}else{o=o.replace(/\&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");
o=o.replace(/[\u00a0]/g,"&nbsp;");
n.append(o);
}},_appendCDataNode:function(l,m){m.append("<![CDATA[\n"+l.nodeValue+"\n]]>");
},_appendCommentNode:function(n,o){var l="";
try{l=n.nodeValue;
}catch(m){}if(!l&&n.text){l=n.text;
}else{l="<!--"+l+"-->";
}o.append(l);
},_appendNodeXhtml:function(l,m){if(l.uniqueID){if(this._uniqueIds[l.uniqueID]){return;
}else{this._uniqueIds[l.uniqueID]=true;
}}switch(l.nodeType){case 1:this._appendElementNode(l,m);
break;
case 3:this._appendTextNode(l,m);
break;
case 4:this._appendCDataNode(l,m);
break;
case 8:this._appendCommentNode(l,m);
break;
}},_getElementCssText:function(o){var l=o.style.cssText;
if(!l){return"";
}if(!$telerik.isFirefox){return l;
}var s=/(font-family:\s*)([^;]+);/i;
var t;
var p=o.attributes.style;
if(p&&p.nodeValue){t=p.nodeValue;
}if(t&&s.test(t)&&s.test(l)){var n=l.match(s),m;
if(n){m=n[2];
}var r=t.match(s),q;
if(r){q=r[2];
}if(q&&m&&q!==m){q=q.replace(/[\s]+/g," ");
l=l.replace(m,q);
}}return l;
},_getNodeAttributes:function(l){var m=l.attributes;
if(!m){return m;
}if($telerik.isFirefox){this.reverseNodeAttributes(l);
}return l.attributes;
},reverseNodeAttributes:function(m){var n=[];
var l;
for(l=0;
l<m.attributes.length;
l++){n.push({attrName:m.attributes[l].nodeName,attrValue:m.attributes[l].nodeValue});
}for(l=0;
l<n.length;
l++){m.removeAttribute(n[l].attrName);
}for(l=n.length-1;
l>=0;
l--){m.setAttribute(n[l].attrName,n[l].attrValue);
}}};
b.ConvertToXhtmlFilter.registerClass("Telerik.Web.UI.Editor.ConvertToXhtmlFilter",b.Filter);
b.IndentHTMLContentFilter=function(){b.IndentHTMLContentFilter.initializeBase(this);
this.Name="IndentHTMLContentFilter";
this.Description="This filter indents the HTML content so it is more readable when you view the code";
this.Enabled=true;
this.IsDom=false;
this._indentPattern="    ";
this._protectedData=null;
var l="P|DIV|H1|H2|H3|H4|H5|H6|ADDRESS|PRE|OL|UL|LI|DL|DT|DD|TITLE|META|LINK|BASE|SCRIPT|LINK|TD|TH|AREA|OPTION";
var m="HTML|HEAD|BODY|STYLE|FORM|TABLE|TBODY|THEAD|TR";
var n=m+"|DL|UL|OL";
this._ignoreTags=new RegExp("(<PRE[^>]*>|<!--|<SCRIPT[^>]*>)([\\s\\S]*?)(<\\/PRE>|-->|<\\/SCRIPT>)","gi");
this._tagsNLBefore=new RegExp("<("+l+")[^>]*>","gi");
this._tagsNLAfter=new RegExp("<\\/("+l+")[^>]*>","gi");
this._tagsNLNoCloseAfter=new RegExp("<(BR|HR)[^>]*\\/?>","gi");
this._tagsNLBeforeAndAfter=new RegExp("<\\/?("+m+")[^>]*>","gi");
this._tagsIncIndent=new RegExp("^<("+n+")[\\s\\/>]","i");
this._tagsDecIndent=new RegExp("^<\\/("+n+")[\\s\\>]","i");
this._shrinkNL=new RegExp("\\s*\\n+\\s*","gi");
};
b.IndentHTMLContentFilter.prototype={getHtmlContent:function(n){var r=n.trim();
if(r.match(/^\s*<body/i)){r=r.substring(r.indexOf(">")+1,r.length-7);
}this._protectedData=[];
var v=this;
var l=function(B,y,z,A,C,x){Array.add(v._protectedData,z);
return y+"RADEDITORFORMATTED_"+v._protectedData.length+A;
};
r=r.replace(this._ignoreTags,l);
var w="$&";
if($telerik.isSafari2){w="$0";
}r=r.replace(this._tagsNLBefore,"\n"+w);
r=r.replace(this._tagsNLAfter,w+"\n");
r=r.replace(this._tagsNLNoCloseAfter,w+"\n");
r=r.replace(this._tagsNLBeforeAndAfter,"\n"+w+"\n");
var m=r.split(this._shrinkNL);
var u=new Telerik.Web.StringBuilder();
var p="";
var o;
for(o=0;
o<m.length;
o++){var q=m[o];
if(q.length==0){continue;
}if(this._tagsDecIndent.test(q)){if(p.length>this._indentPattern.length){p=p.substring(this._indentPattern.length);
}else{p="";
}}u.append(p);
u.append(q);
u.append("\n");
if(this._tagsIncIndent.test(q)){p+=this._indentPattern;
}}r=u.toString();
for(o=0;
o<this._protectedData.length;
o++){var t=new RegExp("RADEDITORFORMATTED_"+(o+1));
var s=this._protectedData[o].replace(/\$/gi,"$$$$");
r=r.replace(t,s);
}return r;
}};
b.IndentHTMLContentFilter.registerClass("Telerik.Web.UI.Editor.IndentHTMLContentFilter",b.Filter);
b.MakeUrlsAbsolute=function(){b.MakeUrlsAbsolute.initializeBase(this);
this.Name="MakeUrlsAbsolute";
this.Description="This filter makes all src and href attributes in the editor content have absolute URLs";
this.Enabled=true;
this.IsDom=true;
};
b.MakeUrlsAbsolute.prototype={getHtmlContent:function(o){this._updateElements(o,"A","href");
this._updateElements(o,"AREA","href");
this._updateElements(o,"IMG","src");
this._updateElements(o,"EMBED","src");
var m=new b.IECleanAnchorsFilter();
if(o.tagName=="HTML"){var p=(typeof(o.ownerDocument)!="undefined")?o.ownerDocument:o.document;
var l=m.getHtmlContent(p.body.innerHTML);
if(p.body.innerHTML!==l){$telerik(p.body).html(l);
}}else{var n=m.getHtmlContent(o.innerHTML);
if($telerik.isIE&&n.match(/^\s*<(script|style|!--RADEDITORSAVEDTAG_script)/i)){o.innerHTML="&nbsp;"+m.getHtmlContent(o.innerHTML);
o.removeChild(o.firstChild);
}else{if(o.innerHTML!==n){try{b.Utils.setElementInnerHtml(o,n);
}catch(q){}}}}return o;
},_getElements:function(m,n){var l=m.getElementsByTagName(n);
if(!l){l=m.ownerDocument.getElementsByTagName(n);
}return l;
},_updateElements:function(n,s,l){var t=n.ownerDocument.createElement("div");
var o=this._getElements(n,s);
if(o){for(var q=0;
q<o.length;
q++){var m=o[q].getAttribute(l,2);
if("href"==l&&m&&!/^https?\:\/\//i.test(m)){t.innerHTML='<a href="'+m.replace(/\"/gi,"%22").replace(/[\s\u00a0]/gi,"%20")+'">test</a>';
var r;
if($telerik.isIE){r=o[q].innerHTML;
}try{o[q].setAttribute("href",t.childNodes[0].href);
}catch(p){}if($telerik.isIE){if((r.indexOf("www.")==0&&o[q].innerHTML.match("[a-z]+://"))||(r.indexOf("mailto:")==-1&&o[q].innerHTML.match("mailto:"))){o[q].innerHTML=r;
}}}else{if("src"==l&&m){t.innerHTML='<img src="'+m.replace(/\"/gi,"%22").replace(/[\s\u00a0]/gi,"%20")+'" />';
try{o[q].setAttribute("src",t.childNodes[0].src);
}catch(p){}}}}}t.innerHTML="";
t=null;
}};
b.MakeUrlsAbsolute.registerClass("Telerik.Web.UI.Editor.MakeUrlsAbsolute",b.Filter);
b.StripPathsFilter=function(l){b.StripPathsFilter.initializeBase(this);
this.Name="StripPathsFilter";
this.Description="This filter strips a specific part from URLs (href, src attributes)";
this.Enabled=true;
this.IsDom=true;
this._pathsToStrip=l;
};
b.StripPathsFilter.prototype={getHtmlContent:function(l){this._updateElements(l,"A","href");
this._updateElements(l,"AREA","href");
this._updateElements(l,"IMG","src");
this._updateElements(l,"EMBED","src");
return l;
},_getElements:function(m,n){var l=m.getElementsByTagName(n);
if(!l){l=m.ownerDocument.getElementsByTagName(n);
}return l;
},_updateElements:function(o,v,m){var q=this._getElements(o,v);
if(q){for(var s=0;
s<q.length;
s++){var p=q[s];
var n=$telerik.isIE?p.getAttribute(m,2):p[m];
if(n){var l=n.length;
for(var r=0,t=this._pathsToStrip.length;
r<t;
r++){var u=this._pathsToStrip[r];
if(u&&n.toLowerCase().indexOf(u.toLowerCase())==0){n=n.substring(u.length);
}}if(l>n.length){p.setAttribute(m,n);
}}}}}};
b.StripPathsFilter.registerClass("Telerik.Web.UI.Editor.StripPathsFilter",b.Filter);
b.ConvertCharactersToEntities=function(){b.ConvertCharactersToEntities.initializeBase(this);
this.set_isDom(false);
this.set_enabled(true);
this.set_name("ConvertCharactersToEntities");
this.set_description("This filter converts reserved characters to their html entity names.");
this.entities={euro:"\u20ac",cent:"\u00a2",pound:"\u00a3",yen:"\u00a5",sect:"\u00a7",copy:"\u00a9",reg:"\u00ae",plusmn:"\u00b1",ne:"\u2260",asymp:"\u2248",le:"\u2264",ge:"\u2265",divide:"\u00f7",times:"\u00d7",iexcl:"\u00a1",curren:"\u00a4",brvbar:"\u00a6",uml:"\u00a8",ordf:"\u00aa",trade:"\u2122",larr:"\u2190",uarr:"\u2191",rarr:"\u2192",darr:"\u2193",harr:"\u2194",crarr:"\u21b5",lArr:"\u21d0",uArr:"\u21d1",rArr:"\u21d2",dArr:"\u21d3",hArr:"\u21d4",loz:"\u25ca",spades:"\u2660",clubs:"\u2663",hearts:"\u2665",diams:"\u2666",forall:"\u2200",part:"\u2202",exist:"\u2203",empty:"\u2205",nabla:"\u2207",isin:"\u2208",notin:"\u2209",ni:"\u220b",prod:"\u220f",sum:"\u2211",minus:"\u2212",lowast:"\u2217",radic:"\u221a",prop:"\u221d",infin:"\u221e",ang:"\u2220",and:"\u2227",or:"\u2228",cap:"\u2229",cup:"\u222a","int":"\u222b",there4:"\u2234",sim:"\u223c",cong:"\u2245",equiv:"\u2261",sub:"\u2282",sup:"\u2283",nsub:"\u2284",sube:"\u2286",supe:"\u2287",oplus:"\u2295",otimes:"\u2297",perp:"\u22a5",sdot:"\u22c5",laquo:"\u00ab",not:"\u00ac",macr:"\u00af",deg:"\u00b0",sup2:"\u00b2",sup3:"\u00b3",acute:"\u00b4",micro:"\u00b5",para:"\u00b6",middot:"\u00b7",cedil:"\u00b8",sup1:"\u00b9",ordm:"\u00ba",raquo:"\u00bb",frac14:"\u00bc",frac12:"\u00bd",frac34:"\u00be",iquest:"\u00bf",Agrave:"\u00c0",Aacute:"\u00c1",Acirc:"\u00c2",Atilde:"\u00c3",Auml:"\u00c4",Aring:"\u00c5",AElig:"\u00c6",Ccedil:"\u00c7",Egrave:"\u00c8",Eacute:"\u00c9",Ecirc:"\u00ca",Euml:"\u00cb",Igrave:"\u00cc",Iacute:"\u00cd",Icirc:"\u00ce",Iuml:"\u00cf",ETH:"\u00d0",Ntilde:"\u00d1",Ograve:"\u00d2",Oacute:"\u00d3",Ocirc:"\u00d4",Otilde:"\u00d5",Ouml:"\u00d6",Oslash:"\u00d8",Ugrave:"\u00d9",Uacute:"\u00da",Ucirc:"\u00db",Uuml:"\u00dc",Yacute:"\u00dd",THORN:"\u00de",szlig:"\u00df",agrave:"\u00e0",aacute:"\u00e1",acirc:"\u00e2",atilde:"\u00e3",auml:"\u00e4",aring:"\u00e5",aelig:"\u00e6",ccedil:"\u00e7",egrave:"\u00e8",eacute:"\u00e9",ecirc:"\u00ea",euml:"\u00eb",igrave:"\u00ec",iacute:"\u00ed",icirc:"\u00ee",iuml:"\u00ef",eth:"\u00f0",ntilde:"\u00f1",ograve:"\u00f2",oacute:"\u00f3",ocirc:"\u00f4",otilde:"\u00f5",ouml:"\u00f6",oslash:"\u00f8",ugrave:"\u00f9",uacute:"\u00fa",ucirc:"\u00fb",uuml:"\u00fc",yacute:"\u00fd",thorn:"\u00fe",yuml:"\u00ff",fnof:"\u0192",Alpha:"\u0391",Beta:"\u0392",Gamma:"\u0393",Delta:"\u0394",Epsilon:"\u0395",Zeta:"\u0396",Eta:"\u0397",Theta:"\u0398",Iota:"\u0399",Kappa:"\u039a",Lambda:"\u039b",Mu:"\u039c",Nu:"\u039d",Xi:"\u039e",Omicron:"\u039f",Pi:"\u03a0",Rho:"\u03a1",Sigma:"\u03a3",Tau:"\u03a4",Upsilon:"\u03a5",Phi:"\u03a6",Chi:"\u03a7",Psi:"\u03a8",Omega:"\u03a9",alpha:"\u03b1",beta:"\u03b2",gamma:"\u03b3",delta:"\u03b4",epsilon:"\u03b5",zeta:"\u03b6",eta:"\u03b7",theta:"\u03b8",iota:"\u03b9",kappa:"\u03ba",lambda:"\u03bb",mu:"\u03bc",nu:"\u03bd",xi:"\u03be",omicron:"\u03bf",pi:"\u03c0",rho:"\u03c1",sigmaf:"\u03c2",sigma:"\u03c3",tau:"\u03c4",upsilon:"\u03c5",phi:"\u03c6",chi:"\u03c7",psi:"\u03c8",omega:"\u03c9",thetasym:"\u03d1",upsih:"\u03d2",piv:"\u03d6",bull:"\u2022",hellip:"\u2026",prime:"\u2032",Prime:"\u2033",oline:"\u203e",frasl:"\u2044",weierp:"\u2118",image:"\u2111",real:"\u211c",alefsym:"\u2135",lceil:"\u2308",rceil:"\u2309",lfloor:"\u230a",rfloor:"\u230b",lang:"\u2329",rang:"\u232a",OElig:"\u0152",oelig:"\u0153",Scaron:"\u0160",scaron:"\u0161",Yuml:"\u0178",circ:"\u02c6",tilde:"\u02dc",ensp:"\u2002",emsp:"\u2003",thinsp:"\u2009",zwnj:"\u200c",zwj:"\u200d",lrm:"\u200e",rlm:"\u200f",ndash:"\u2013",mdash:"\u2014",lsquo:"\u2018",rsquo:"\u2019",sbquo:"\u201a",ldquo:"\u201c",rdquo:"\u201d",bdquo:"\u201e",dagger:"\u2020",Dagger:"\u2021",permil:"\u2030",lsaquo:"\u2039",rsaquo:"\u203a",nbsp:"\u00a0",lt:"\u003c",gt:"\u003e"};
};
b.ConvertCharactersToEntities.ampersandReplacerInEntities="_reEditor_TELERIK_Entities";
b.ConvertCharactersToEntities.ampersandCharacterReplacer="_reEditor_TELERIK_Character";
b.ConvertCharactersToEntities.ampersandEntityReplacer="_reEditor_TELERIK_Entity";
b.ConvertCharactersToEntities.prototype={getHtmlContent:function(l){if(l==""){return l;
}var p=this.parseHtml(l);
var r="";
var q=this.createRegEx();
var m=this.entities;
for(var n=0;
n<p.length;
n++){var o=p[n].content;
if(p[n].isTagOrComment){r+=o;
continue;
}o=o.replace(new RegExp("&amp;","gm"),b.ConvertCharactersToEntities.ampersandEntityReplacer);
o=this.reverseEntitiesToCharacters(o);
o=o.replace(new RegExp("&","gm"),b.ConvertCharactersToEntities.ampersandCharacterReplacer);
o=o.replace(q,function(u,v,t){for(var s in m){if(m[s]==u){return b.ConvertCharactersToEntities.ampersandReplacerInEntities+s+";";
}}return u;
});
r+=o;
}r=this.restoreMarkedSymbols(r);
return r;
},parseHtml:function(m){var v=/<\/?\w+(:\w+)*(?:\s+\w+(?:\-\w+)*(:\w+)*(?:\s*=\s*(?:"(?:\s|.)*?"|'(?:\s|.)*?'|[^'">\s]+)?)*)*\s*\/?>/gmi;
var l=this.getComments(m);
var n=this.breakContent(l,m);
if(n.length==0){n.push({isComment:false,content:m});
}var u=[];
for(var r=0;
r<n.length;
r++){var o=n[r].content;
if(o==""){continue;
}if(n[r].isComment){u.push(this.newElement(o,true));
continue;
}var t=[];
var s=v.exec(o);
while(s){t.push(s);
s=v.exec(o);
}var w=0;
for(var q=0;
q<t.length;
q++){if(w<t[q].index){var x=o.substring(w,t[q].index);
u.push(this.newElement(x,false));
}u.push(this.newElement(t[q][0],true));
w=t[q].index+t[q][0].length;
}if(o.length>w){var p=o.substring(w,o.length);
u.push(this.newElement(p,false));
}}return u;
},breakContent:function(l,m){var q="-->";
var n=[];
for(var r=0;
r<l.length;
r++){var p=m.substring(l[r].startIndex,l[r].endIndex+q.length);
if(r==0){if(l[r].startIndex==0){n.push({isComment:true,content:p});
}else{var o=m.substring(0,l[r].startIndex);
n.push({isComment:false,content:o});
n.push({isComment:true,content:p});
}}else{var t=l[r-1].endIndex+q.length;
var u=m.substring(t,l[r].startIndex);
n.push({isComment:false,content:u});
n.push({isComment:true,content:p});
}if(r==l.length-1){var s=m.substring(l[r].endIndex+q.length,m.length);
n.push({isComment:false,content:s});
}}return n;
},getComments:function(o){var t=/(<!--)|(-->)/gm;
var u="<!--";
var p="-->";
var m=[];
var n=[];
var s=t.exec(o);
while(s){var l=s[0];
var q=s.index;
var r=n.length>0?n[n.length-1]:j;
if(l==u){if(!r||r.commentStart==false){n.push({commentStart:true,index:q});
}}else{if(l==p){if(n.length!=0&&r.commentStart){m.push({startIndex:r.index,endIndex:q});
n.splice(n.length-1,1);
}}}s=t.exec(o);
}return m;
},restoreMarkedSymbols:function(m){var l=m.replace(new RegExp(b.ConvertCharactersToEntities.ampersandCharacterReplacer,"gm"),"&amp;");
l=l.replace(new RegExp(b.ConvertCharactersToEntities.ampersandReplacerInEntities,"gm"),"&");
l=l.replace(new RegExp(b.ConvertCharactersToEntities.ampersandEntityReplacer,"gm"),"&amp;");
return l;
},createRegEx:function(){var n="[";
var l=this.entities;
for(var m in l){n+=l[m];
}n+="]";
return new RegExp(n,"g");
},newElement:function(l,m){return{content:l,isTagOrComment:m};
},reverseEntitiesToCharacters:function(n){var l=this.entities;
for(var m in l){n=n.replace(new RegExp("&"+m+";","gm"),l[m]);
}return n;
}};
b.ConvertCharactersToEntities.registerClass("Telerik.Web.UI.Editor.ConvertCharactersToEntities",b.Filter);
b.PdfExportFilter=function(){b.PdfExportFilter.initializeBase(this);
this.set_isDom(true);
this.set_enabled(true);
this.set_name("PdfExportFilter");
this.set_description("This filter fixes some pdf export issues.");
};
b.PdfExportFilter.prototype={getHtmlContent:function(l){this.set_document(l.ownerDocument);
this.filterContent(l);
this.set_document(null);
return l;
},filterContent:function(l){var p=l.getElementsByTagName("TABLE");
for(var m=0,n=p.length;
m<n;
m++){var o=p[m];
this._forceWidthToTable(o);
this._forceColGroupToTable(o);
}},set_document:function(l){this._document=l;
},_forceWidthToTable:function(l){var m=l.getAttribute("width");
l.style.width=m||l.style.width||0;
l.removeAttribute("width");
},_forceColGroupToTable:function(p){var m=p.getElementsByTagName("colgroup");
if(m.length==0){var o=this._document.createElement("colgroup");
var l=this._getTableColCount(p);
for(var n=0;
n<l;
n++){o.appendChild(this._document.createElement("col"));
}p.insertBefore(o,p.firstChild);
}},_getTableColCount:function(q){var m=0;
if(q){if(q.rows.length>0){var l=q.rows[0].cells;
for(var o=0,p=l.length;
o<p;
o++){var n=l[o].getAttribute("colSpan")||1;
m+=parseInt(n,10);
}}}return m;
}};
b.PdfExportFilter.registerClass("Telerik.Web.UI.Editor.PdfExportFilter",b.Filter);
b.FixParagraphsWithSingleBrFilter=function(){b.FixParagraphsWithSingleBrFilter.initializeBase(this);
this.set_isDom(true);
this.set_enabled(true);
this.set_name("FixParagraphsWithSingleBrFilter");
this.set_description("This filter converts single BR elements to &nbsp; enetity in paragraphs");
this._parentElementsSelector="p";
this._brRegExp=/^\s*<br[^>]*>\s*$/ig;
this._nbspRegExp=/^\s*&nbsp;\s*$/ig;
};
b.FixParagraphsWithSingleBrFilter.prototype={getHtmlContent:function(l){return this._applyRegExpToContent(l,this._brRegExp,"&nbsp;");
},getDesignContent:function(l){return this._applyRegExpToContent(l,this._nbspRegExp,"<br />");
},_applyRegExpToContent:function(l,m,n){$telerik.$(this._parentElementsSelector,l).each(function(p,o){if(o.innerHTML.match(m)){$telerik.$(o).html(n);
}});
return l;
}};
b.FixParagraphsWithSingleBrFilter.registerClass("Telerik.Web.UI.Editor.FixParagraphsWithSingleBrFilter",b.Filter);
b.CleanResizableHandles=function(){b.CleanResizableHandles.initializeBase(this);
this.set_isDom(true);
this.set_enabled(true);
this.set_name("CleanResizableHandles");
this.set_description("Removes the elements of the Resizable's handles");
};
b.CleanResizableHandles.prototype={getHtmlContent:function(l){$telerik.$(".rrHandle[rel='rrWidget']",l).remove();
return l;
}};
b.CleanResizableHandles.registerClass("Telerik.Web.UI.Editor.CleanResizableHandles",b.Filter);
b.StripCommentsFilter=function(){b.StripCommentsFilter.initializeBase(this);
this.set_isDom(true);
this.set_enabled(true);
this.set_name("StripCommentsFilter");
this.set_description("This filter strips comments is strip option is set in the get_html method.");
};
b.StripCommentsFilter.prototype={getHtmlContent:function(l){$telerik.$('span[class^="reComment"], font[class^="reComment"]',l).each(function(){b.Utils.removeNode(this);
});
return l;
}};
b.StripCommentsFilter.registerClass("Telerik.Web.UI.Editor.StripCommentsFilter",b.Filter);
b.MetaTagAttributesFilter=function(){var l=this;
b.MetaTagAttributesFilter.initializeBase(l);
l.set_isDom(false);
l.set_enabled(true);
l.set_name(h);
l.set_description("Removes meta tag attributes such as http-equiv='refresh'");
};
b.MetaTagAttributesFilter.prototype={getDesignContent:function(l){var n=/(<meta[^>]*?)(http-equiv\s*=\s*[\'\"]refresh[\'\"])([^>]*?>)/gi,m="";
m=l.replace(n,"$1$3");
return m;
}};
b.MetaTagAttributesFilter.registerClass(i+d+h,b.Filter);
$telerik.toEditorFiltersManager=function(l){return l;
};
$telerik.findEditorFiltersManager=$find;
b.FiltersManager=function(){b.FiltersManager.initializeBase(this);
this._filters=[];
this._enableXhtmlFilter=true;
this._convertToXhtmlFilter=new b.ConvertToXhtmlFilter();
};
b.FiltersManager.prototype={clear:function(){Array.clear(this._filters);
},get_enableXhtmlFilter:function(){return this._enableXhtmlFilter;
},set_enableXhtmlFilter:function(l){this._enableXhtmlFilter=l;
},add:function(l){Array.add(this._filters,l);
},addAt:function(l,m){Array.insert(this._filters,m,l);
},remove:function(l){Array.remove(this._filters,l);
},removeFilterByName:function(n){for(var m=0;
m<this._filters.length;
m++){var l=this._filters[m];
if(l&&n==l.get_name()){this.removeAt(m);
}}},removeAt:function(l){Array.removeAt(this._filters,l);
},getFilterAt:function(l){return this._filters[l];
},getFilterByName:function(n){for(var m=0;
m<this._filters.length;
m++){var l=this._filters[m];
if(l&&n==l.get_name()){return l;
}}},getDesignContent:function(m){var l=m;
for(var p=0;
p<this._filters.length;
p++){var o=this._filters[p];
if((!o.get_isDom())&&(false!=o.get_enabled())&&o.getDesignContent){try{l=o.getDesignContent(l);
}catch(n){alert("Error while executing filter "+o.get_name()+" - "+n.toString());
}}}return l;
},getDesignContentDom:function(l){for(var o=0;
o<this._filters.length;
o++){var n=this._filters[o];
if((n.get_isDom())&&(false!=n.get_enabled())&&n.getDesignContent){try{l=n.getDesignContent(l);
}catch(m){alert("Error while executing filter "+n.get_name()+" - "+m.toString());
}}}return l;
},getHtmlContent:function(m){var p,o;
for(p=0;
p<this._filters.length;
p++){o=this._filters[p];
if((o.get_isDom())&&(false!=o.get_enabled())&&o.getHtmlContent){try{m=o.getHtmlContent(m);
}catch(n){alert("Error while executing filter "+o.get_name()+" - "+n.toString());
}}}var l;
if(this.get_enableXhtmlFilter()){try{l=this._convertToXhtmlFilter.getHtmlContent(m);
}catch(n){alert("Error while executing filter XHTML - "+n.toString());
}}else{l=$telerik.getOuterHtml(m);
}l=l.replace(/<body\s*\/>/i,"<body></body>").trim();
for(p=0;
p<this._filters.length;
p++){o=this._filters[p];
if((!o.get_isDom())&&(false!=o.get_enabled())&&o.getHtmlContent){try{l=o.getHtmlContent(l);
}catch(n){alert("Error while executing filter "+o.get_name()+" - "+n.toString());
}}}return l;
}};
b.FiltersManager.registerClass("Telerik.Web.UI.Editor.FiltersManager",Sys.Component);
})($telerik.$);
Type.registerNamespace("Telerik.Web.UI.Editor");
(function(a,b,c){b.RestorePoint=function(e,d){this.Window=e;
this.Document=e.document;
this.container=(d)?d:this.Document.body;
this.update();
this.Update=this.update;
this.Restore=this.restore;
this.Select=this.select;
};
if($telerik.isIE&&document.selection){b.RestorePoint.prototype={update:function(){try{this.HtmlText=this.container.innerHTML;
var e=this.Document.selection.createRange();
if(e.length){this.SourceIndex=e.item(0).sourceIndex;
}else{this.oldRange=e;
this.parentElement=e.parentElement();
this.StartBookmark=e.getBookmark();
}}catch(d){}},restore:function(d){c.setElementInnerHtml(this.container,this.HtmlText);
this.select(d);
},select:function(d){var g;
if(null!=this.SourceIndex){try{g=this.Document.body.createControlRange();
g.addElement(this.Document.all(this.SourceIndex));
g.select();
}catch(e){}}else{if(null!=this.StartBookmark){var f;
try{f=(this.parentElement&&this.parentElement.tagName=="TD");
}catch(e){}if(c.isEditorContentArea(this.container)||f){g=this.Document.body.createTextRange();
if(this.useOldRange&&f){g=this.oldRange;
}else{g.moveToBookmark(this.StartBookmark);
}try{if(this.shouldSelectAfterMoveToBookmark(g)){g.select();
}if(true==d&&g.collapse){g.collapse();
}}catch(e){}}}}},shouldSelectAfterMoveToBookmark:function(d){return Sys.Browser.version>=9||$telerik.$.contains(this.container,d.parentElement())||this.container==d.parentElement();
}};
}else{b.RestorePoint.prototype={restore:function(){try{c.setElementInnerHtml(this.container,this.HtmlText);
this.select();
}catch(d){}},select:function(){try{this.Window.focus();
this._moveToBookmark(this.Window.getSelection(),this.Bookmark);
}catch(d){}},update:function(){try{this.HtmlText=this.container.innerHTML;
this.Bookmark=this._bookmarkSelection(this.Window.getSelection());
}catch(d){}},_bookmarkSelection:function(d){if(d){return{anchorNodeBookmark:new b.SelectionBookmark(this.Window,d.anchorNode),anchorOffset:d.anchorOffset,focusNodeBookmark:new b.SelectionBookmark(this.Window,d.focusNode),focusOffset:d.focusOffset,isCollapsed:d.isCollapsed};
}else{return{};
}},_moveToBookmark:function(g,f){var d=f.anchorNodeBookmark.select();
var e=f.focusNodeBookmark.select();
g.collapse(d,f.anchorOffset);
if(!f.isCollapsed){this._extendSelection(g,e,f.focusOffset);
}},_extendSelection:function(g,d,e){if(g.extend){g.extend(d,e);
}else{var f=b.DomRange.toDomRange(g.getRangeAt(0));
f[(c.isTextNode(d)||e!=0)?"setEnd":"setStart"](d,e);
f.select();
}}};
}b.RestorePoint.registerClass("Telerik.Web.UI.Editor.RestorePoint",null);
b.SelectionBookmark=function(e,d){this.Window=e;
this.NodePath=this._findNodePath(this.Window.document.documentElement,d);
};
b.SelectionBookmark.prototype={select:function(){var e=this._findNode(this.Window.document.documentElement,this.NodePath);
try{c.selectElement(this.Window,e);
}catch(d){}return e;
},_findNodePath:function(g,f){var e,h;
for(var d=0;
d<g.childNodes.length;
d++){e=g.childNodes[d];
h=this._findNodePath(e,f);
if(""!=h){return""+d+","+h;
}if(e==f){return""+d;
}}return"";
},_findNode:function(g,f){var d=f.split(",");
for(var e=0;
e<d.length;
e++){g=g.childNodes[d[e]];
}return g;
}};
b.SelectionBookmark.registerClass("Telerik.Web.UI.Editor.SelectionBookmark",null);
})($telerik.$,Telerik.Web.UI.Editor,Telerik.Web.UI.Editor.Utils);
Type.registerNamespace("Telerik.Web.UI.Editor");
$telerik.toEditorSelection=function(a){return a;
};
$telerik.findEditorSelection=$find;
(function(a,b,d){var c=["img","table"];
b.Selection=function(e){this._window=e;
this.isSafari=$telerik.isSafari;
this.isOpera=$telerik.isOpera;
this.GetRange=this.getRange;
this.GetParentElement=this.getParentElement;
this.IsControl=this.isControl;
this.GetText=this.getText;
this.GetHtmlText=this.getHtml;
this.PasteHtml=this.pasteHtml;
this.Collapse=this.collapse;
};
b.Selection.prototype={selectElement:function(e){return d.selectElement(this._window,e);
},pasteHtml:function(k,f){var p=this,j=p._window.document,o=b.DomRange.toDomRange(p.getRange(true)),g=new b.HtmlCommentsStorage(),q=g.shouldStoreComments();
if(q){k=g.markComments(k);
}var i=j.createElement("div");
i.innerHTML=k;
if(q){g.restoreComments(i);
}var m=new b.NestedElementsFix(i,p);
var e=m.getBlockElements();
var h=j.createElement("span");
o.insertNode(h);
p._fireEvent("pasteDom",i,h);
var n=h.parentNode;
while(i.firstChild){n.insertBefore(i.firstChild,h);
}var l=p._getPreviousSibling(h);
n.removeChild(h);
m.set_context(n);
m.applyFix(e);
p._setCursor(l,o);
},_fireEvent:function(h,g,f){if(!this.trigger){return;
}var e=a.extendEventArgs(new Sys.EventArgs(),{eventName:h,element:g,cursor:f});
this.trigger(h,e);
},_getPreviousSibling:function(e){var f=e.previousSibling;
while(f){if(!this._isEmptyTextNode(f)){return f;
}f=f.previousSibling;
}return e.previousSibling;
},_setCursor:function(e,f){if(e){if(d.isTextNode(e)&&!d.isTextNodeEmpty(e)){d._setCursorInTextNode(f,e,e.length,e.length);
}else{if(d.isTag(e,"table")){this._ensureBrAfterTable(e);
this._setCursorInTheFirstTableCell(e,f);
}else{this._setCursorAfterNode(e,f);
}}}},_setCursorAfterNode:function(f,g){var e=this._getNextNode(f);
if(e){if(d.isTextNode(e)){d._setCursorInTextNode(g,e,0,0);
return;
}else{if(!d.canHaveChildren(e)){g.setStartBefore(e);
}else{g.selectNodeContents(e);
}}}else{g.setStartAfter(f);
}g.collapse(true);
g.select();
},_ensureBrAfterTable:function(e){if(!e.nextSibling){e.parentNode.appendChild(this._window.document.createElement("BR"));
}},_setCursorInTheFirstTableCell:function(g,f){var e=a("td:first",g)[0];
if(e){f.selectNodeContents(e);
if(e.innerHTML!="&nbsp;"){f.collapse(true);
}f.select();
}},_getNextNode:function(f){var g=f;
var e=g.nextSibling;
while(e&&this._isEmptyTextNode(e)){e=e.nextSibling;
}if(e){return e;
}while(!g.nextSibling){g=g.parentNode;
if(d.isEditorContentArea(g)){return null;
}}return f!=g?this._getNextNode(g):null;
},_isEmptyTextNode:function(e){return d.isTextNode(e)&&d.isTextNodeEmpty(e);
},selectRange:function(h){if(!h){return;
}var g=this._window;
if(h.select){h.select();
}else{if(g.getSelection){var i=g.getSelection();
if(i.removeAllRanges){i.removeAllRanges();
i.addRange(h);
}else{var e=h.baseNode;
if(null==e){e=g.document.body;
}var f=h.extentNode;
if(null==f){f=g.document.body;
}i.setBaseAndExtent(e,h.startOffset,f,h.endOffset);
}}}},getBrowserSelection:function(){if(!this._window){return null;
}if(this._window.document.selection&&!window.opera){return this._window.document.selection;
}else{if(this._window.getSelection){return this._window.getSelection();
}}return null;
},getRange:function(g){var k=this._window;
if(!k){return null;
}var e=k.document,f=!!e.selection,j=k.getSelection&&(!f||g);
if(j){var i=k.getSelection();
if(!i||i.rangeCount<1){return null;
}var h=null;
if(i.getRangeAt){h=i.getRangeAt(0);
}else{h=e.createRange();
h.setStart(i.anchorNode,i.anchorOffset);
h.setEnd(i.focusNode,i.focusOffset);
}return h;
}else{if(f){return e.selection.createRange();
}}},getParentElement:function(){var h=this.getRange();
if(!h){return null;
}if(h.commonAncestorContainer){var m=this._window.getSelection();
var j=h.startContainer?h.startContainer:m.baseNode,f=h.endContainer?h.endContainer:m.extentNode,k=h.startOffset!=null?h.startOffset:m.baseOffset,g=h.endOffset!=null?h.endOffset:m.extentOffset;
var e=m.anchorNode.childNodes[m.anchorOffset],i=this._getSingleControlSelectionNode(m);
if(e&&(this._isControlTag(e)||(j==f&&(g-k)==1))){return e;
}else{if(i){return i;
}else{if($telerik.isSafari){var l=(m.anchorNode&&m.anchorNode.parentNode)?m.anchorNode.parentNode.tagName:"";
if(l=="TH"||l=="TD"){return m.anchorNode.parentNode;
}else{if(l=="TR"){return m.anchorNode;
}}}if(!h.commonAncestorContainer.tagName){if(this._window.document==h.commonAncestorContainer&&m.baseNode){return m.baseNode.parentNode;
}return h.commonAncestorContainer.parentNode;
}else{return h.commonAncestorContainer;
}}}}else{if(h.length){return h.item(0);
}else{if(h.parentElement){return h.parentElement();
}else{return null;
}}}},isControl:function(){if(this._window.document.selection){return(this._window.document.selection.type=="Control");
}else{var f=this._window.getSelection();
if(f.toString()!=""){return false;
}var e=f.focusNode;
if(!e||e.nodeType==1){var g=this.getParentElement();
return !!(g&&g.tagName=="IMG");
}return(e.tagName=="IMG");
}},createRangeInIE:function(){return this._window.document.selection.createRange();
},getText:function(){if(this._window.document.selection){var e=this.createRangeInIE();
if(e.length){return"";
}else{if(null!=e.text){return e.text;
}}}else{if(this._window.getSelection){return this._window.getSelection().toString();
}else{return"";
}}},getHtml:function(){var i=this._window.document.selection;
var h=null;
if(i&&!window.opera){if(i.type=="None"){return"";
}h=this.createRangeInIE();
if(h.length){return h.item(0).outerHTML;
}else{if(h.htmlText){return h.htmlText;
}else{return"";
}}}else{if(this._window.getSelection){i=this._window.getSelection();
if(null==i){return"";
}if(i.getRangeAt&&typeof(i.rangeCount)!="undefined"&&i.rangeCount==0){return"";
}if(i.getRangeAt){h=i.getRangeAt(0);
var g=this._window.document.createElement("div");
var e=h.cloneContents();
if(e){g.appendChild(e);
var f=g.innerHTML;
f=d._replaceWhitespaceBetweenTags(f," ");
return f;
}else{return"";
}}else{return i;
}}else{return"";
}}},moveToElementText:function(e){if(!e){return false;
}var g;
if(this.isSafari){g=this._window.document.createRange();
g.selectNodeContents(e);
this.selectRange(g);
this.collapse(true);
}else{if($telerik.isIE){g=this.getRange();
var f=$telerik.getLocation(e);
g.moveToPoint(f.x,f.y);
g.select();
}else{g=this.getRange();
g.selectNodeContents(e);
this.selectRange(g);
this.collapse(true);
}}},collapse:function(g){g=(g==true);
if(this._window.document.selection){var e=this.createRangeInIE();
if(e.collapse){e.collapse(g);
e.select();
}}else{if(this._window.getSelection){var f=this._window.getSelection();
if(!f.isCollapsed){if(g){f.collapseToStart();
}else{f.collapseToEnd();
}}}}},_getSingleControlSelectionNode:function(k){var m=k.anchorNode,g=k.focusNode,l=k.anchorNode.childNodes,f=k.focusNode.childNodes,n=k.anchorOffset,h=k.focusOffset,e=l[n-(l.length==n?1:0)],i=f[h-(f.length==h?1:0)];
if(this._isSingleControlNode(m,i)){return m;
}else{if(this._isSingleControlNode(g,e)){return g;
}}var j=this._surroundsSingleControlNode(k);
if(j){return j;
}},_isSingleControlNode:function(e,g){if(e===g){return true;
}var h=c;
for(var f=0;
f<h.length;
f++){if(this._isSingleTagSelection(e,h[f],g)){return true;
}}return false;
},_isSingleTagSelection:function(e,g,f){return d.isTag(e,g)&&f&&f.previousSibling===e;
},_isControlTag:function(f){var g=c;
for(var e=0;
e<g.length;
e++){if(d.isTag(f,g[e])){return true;
}}return false;
},_surroundsSingleControlNode:function(j){var e=new b.FragmentContainer(),i=b.DomRange.toDomRange(this.getRange(true)),g=new b.RangeIterator(i),f=this._isControlTag;
g.iterate(function(k){e.addNode(k);
});
var h=e.nodes;
if(e.any(f)){switch(h.length){case 1:return h[0];
case 2:case 3:if(d.isTextNode(h[0])&&i.startOffset===h[0].length&&(!h[2]||d.isTextNode(h[2]))){return h[1];
}break;
default:return false;
}}}};
b.Selection.registerClass("Telerik.Web.UI.Editor.Selection",null);
})($telerik.$,Telerik.Web.UI.Editor,Telerik.Web.UI.Editor.Utils);
Type.registerNamespace("Telerik.Web.UI");
Telerik.Web.UI._localization=function(){this._controls={};
};
Telerik.Web.UI._localization.prototype={merge:function(a,b,e){if(typeof(this._controls[a])=="undefined"){this._controls[a]={};
}if(typeof(this._controls[a][b])=="undefined"){this._controls[a][b]={};
}var c=this._controls[a][b];
for(var d in e){if(typeof(e[d])=="string"){c[d]=e[d];
}}return c;
}};
Telerik.Web.UI._localization.registerClass("Telerik.Web.UI._localization");
Telerik.Web.UI.Localization=new Telerik.Web.UI._localization();
Type.registerNamespace("Telerik.Web.UI.Editor");
Telerik.Web.UI.Editor.Markdown={};
if(typeof window.exports==="object"&&typeof require==="function"){Telerik.Web.UI.Editor.Markdown=window.exports;
}(function(){function b(e){return e;
}function c(e){return false;
}function a(){}a.prototype={chain:function(f,e){var g=this[f];
if(!g){throw new Error("unknown hook "+f);
}if(g===b){this[f]=e;
}else{this[f]=function(h){return e(g(h));
};
}},set:function(f,e){if(!this[f]){throw new Error("unknown hook "+f);
}this[f]=e;
},addNoop:function(e){this[e]=b;
},addFalse:function(e){this[e]=c;
}};
Telerik.Web.UI.Editor.Markdown.HookCollection=a;
function d(){}d.prototype={set:function(e,f){this["s_"+e]=f;
},get:function(e){return this["s_"+e];
}};
Telerik.Web.UI.Editor.Markdown.Converter=function(){var M=this.hooks=new a();
M.addNoop("plainLinkText");
M.addNoop("preConversion");
M.addNoop("postConversion");
var J;
var I;
var G;
var H;
this.makeHtml=function(P){if(J){throw new Error("Recursive call to converter.makeHtml");
}J=new d();
I=new d();
G=[];
H=0;
P=M.preConversion(P);
P=P.replace(/~/g,"~T");
P=P.replace(/\$/g,"~D");
P=P.replace(/\r\n/g,"\n");
P=P.replace(/\r/g,"\n");
P="\n\n"+P+"\n\n";
P=e(P);
P=P.replace(/^[ \t]+$/mg,"");
P=t(P);
P=A(P);
P=y(P);
P=B(P);
P=P.replace(/~D/g,"$$");
P=P.replace(/~T/g,"~");
P=M.postConversion(P);
G=I=J=null;
return P;
};
function A(P){P=P.replace(/^[ ]{0,3}\[(.+)\]:[ \t]*\n?[ \t]*<?(\S+?)>?(?=\s|$)[ \t]*\n?[ \t]*((\n*)["(](.+?)[")][ \t]*)?(?:\n+)/gm,function(V,Q,R,S,T,U){Q=Q.toLowerCase();
J.set(Q,o(R));
if(T){return S;
}else{if(U){I.set(Q,U.replace(/"/g,"&quot;"));
}}return"";
});
return P;
}function t(P){P=P.replace(/^(<(p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math|ins|del)\b[^\r]*?\n<\/\2>[ \t]*(?=\n+))/gm,L);
P=P.replace(/^(<(p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math)\b[^\r]*?.*<\/\2>[ \t]*(?=\n+)\n)/gm,L);
P=P.replace(/\n[ ]{0,3}((<(hr)\b([^<>])*?\/?>)[ \t]*(?=\n{2,}))/g,L);
P=P.replace(/\n\n[ ]{0,3}(<!(--(?:|(?:[^>-]|-[^>])(?:[^-]|-[^-])*)--)>[ \t]*(?=\n{2,}))/g,L);
P=P.replace(/(?:\n\n)([ ]{0,3}(?:<([?%])[^\r]*?\2>)[ \t]*(?=\n{2,}))/g,L);
return P;
}function L(R,Q){var P=Q;
P=P.replace(/^\n+/,"");
P=P.replace(/\n+$/g,"");
P="\n\n~K"+(G.push(P)-1)+"K\n\n";
return P;
}function y(R,P){R=k(R);
var Q="<hr />\n";
R=R.replace(/^[ ]{0,2}([ ]?\*[ ]?){3,}[ \t]*$/gm,Q);
R=R.replace(/^[ ]{0,2}([ ]?-[ ]?){3,}[ \t]*$/gm,Q);
R=R.replace(/^[ ]{0,2}([ ]?_[ ]?){3,}[ \t]*$/gm,Q);
R=n(R);
R=i(R);
R=h(R);
R=t(R);
R=s(R,P);
return R;
}function z(P){P=j(P);
P=r(P);
P=p(P);
P=l(P);
P=f(P);
P=g(P);
P=P.replace(/~P/g,"://");
P=o(P);
P=m(P);
P=P.replace(/  +\n/g," <br>\n");
return P;
}function r(Q){var P=/(<[a-z\/!$]("[^"]*"|'[^']*'|[^'">])*>|<!(--(?:|(?:[^>-]|-[^>])(?:[^-]|-[^-])*)--)>)/gi;
Q=Q.replace(P,function(S){var R=S.replace(/(.)<\/?code>(?=.)/g,"$1`");
R=E(R,S.charAt(1)=="!"?"\\`*_/":"\\`*_");
return R;
});
return Q;
}function f(P){P=P.replace(/(\[((?:\[[^\]]*\]|[^\[\]])*)\][ ]?(?:\n[ ]*)?\[(.*?)\])()()()()/g,N);
P=P.replace(/(\[((?:\[[^\]]*\]|[^\[\]])*)\]\([ \t]*()<?((?:\([^)]*\)|[^()\s])*?)>?[ \t]*((['"])(.*?)\6[ \t]*)?\))/g,N);
P=P.replace(/(\[([^\[\]]+)\])()()()()()/g,N);
return P;
}function N(ac,R,S,T,U,V,W,X){if(X==undefined){X="";
}var ab=R;
var Q=S.replace(/:\/\//g,"~P");
var P=T.toLowerCase();
var aa=U;
var Z=X;
if(aa==""){if(P==""){P=Q.toLowerCase().replace(/ ?\n/g," ");
}aa="#"+P;
if(J.get(P)!=undefined){aa=J.get(P);
if(I.get(P)!=undefined){Z=I.get(P);
}}else{if(ab.search(/\(\s*\)$/m)>-1){aa="";
}else{return ab;
}}}aa=D(aa);
aa=E(aa,"*_");
var Y='<a href="'+aa+'"';
if(Z!=""){Z=C(Z);
Z=E(Z,"*_");
Y+=' title="'+Z+'"';
}Y+=">"+Q+"</a>";
return Y;
}function l(P){P=P.replace(/(!\[(.*?)\][ ]?(?:\n[ ]*)?\[(.*?)\])()()()()/g,O);
P=P.replace(/(!\[(.*?)\]\s?\([ \t]*()<?(\S+?)>?[ \t]*((['"])(.*?)\6[ \t]*)?\))/g,O);
return P;
}function C(P){return P.replace(/>/g,"&gt;").replace(/</g,"&lt;").replace(/"/g,"&quot;");
}function O(ac,R,S,T,U,V,W,X){var ab=R;
var P=S;
var Q=T.toLowerCase();
var aa=U;
var Z=X;
if(!Z){Z="";
}if(aa==""){if(Q==""){Q=P.toLowerCase().replace(/ ?\n/g," ");
}aa="#"+Q;
if(J.get(Q)!=undefined){aa=J.get(Q);
if(I.get(Q)!=undefined){Z=I.get(Q);
}}else{return ab;
}}P=E(C(P),"*_[]()");
aa=E(aa,"*_");
var Y='<img src="'+aa+'" alt="'+P+'"';
Z=C(Z);
Z=E(Z,"*_");
Y+=' title="'+Z+'"';
Y+=" />";
return Y;
}function k(P){P=P.replace(/^(.+)[ \t]*\n=+[ \t]*\n+/gm,function(R,Q){return"<h1>"+z(Q)+"</h1>\n\n";
});
P=P.replace(/^(.+)[ \t]*\n-+[ \t]*\n+/gm,function(R,Q){return"<h2>"+z(Q)+"</h2>\n\n";
});
P=P.replace(/^(\#{1,6})[ \t]*(.+?)[ \t]*\#*\n+/gm,function(T,R,S){var Q=R.length;
return"<h"+Q+">"+z(S)+"</h"+Q+">\n\n";
});
return P;
}function n(P){P+="~0";
var Q=/^(([ ]{0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(~0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm;
if(H){P=P.replace(Q,function(W,T,U){var R=T;
var S=(U.search(/[*+-]/g)>-1)?"ul":"ol";
var V=x(R,S);
V=V.replace(/\s+$/,"");
V="<"+S+">"+V+"</"+S+">\n";
return V;
});
}else{Q=/(\n\n|^\n?)(([ ]{0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(~0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/g;
P=P.replace(Q,function(Y,T,U,V){var X=T;
var R=U;
var S=(V.search(/[*+-]/g)>-1)?"ul":"ol";
var W=x(R,S);
W=X+"<"+S+">\n"+W+"</"+S+">\n";
return W;
});
}P=P.replace(/~0/,"");
return P;
}var u={ol:"\\d+[.]",ul:"[*+-]"};
function x(Q,R){H++;
Q=Q.replace(/\n{2,}$/,"\n");
Q+="~0";
var S=u[R];
var T=new RegExp("(^[ \\t]*)("+S+")[ \\t]+([^\\r]+?(\\n+))(?=(~0|\\1("+S+")[ \\t]+))","gm");
var P=false;
Q=Q.replace(T,function(aa,X,Y,Z){var W=Z;
var V=/\n\n$/.test(W);
var U=V||W.search(/\n{2,}/)>-1;
if(U||P){W=y(v(W),true);
}else{W=n(v(W));
W=W.replace(/\n$/,"");
W=z(W);
}P=V;
return"<li>"+W+"</li>\n";
});
Q=Q.replace(/~0/g,"");
H--;
return Q;
}function i(P){P+="~0";
P=P.replace(/(?:\n\n|^)((?:(?:[ ]{4}|\t).*\n+)+)(\n*[ ]{0,3}[^ \t\n]|(?=~0))/g,function(U,R,S){var Q=R;
var T=S;
Q=q(v(Q));
Q=e(Q);
Q=Q.replace(/^\n+/g,"");
Q=Q.replace(/\n+$/g,"");
Q="<pre><code>"+Q+"\n</code></pre>";
return"\n\n"+Q+"\n\n"+T;
});
P=P.replace(/~0/,"");
return P;
}function K(P){P=P.replace(/(^\n+|\n+$)/g,"");
return"\n\n~K"+(G.push(P)-1)+"K\n\n";
}function j(P){P=P.replace(/(^|[^\\])(`+)([^\r]*?[^`])\2(?!`)/gm,function(V,R,S,T,U){var Q=T;
Q=Q.replace(/^([ \t]*)/g,"");
Q=Q.replace(/[ \t]*$/g,"");
Q=q(Q);
Q=Q.replace(/:\/\//g,"~P");
return R+"<code>"+Q+"</code>";
});
return P;
}function q(P){P=P.replace(/&/g,"&amp;");
P=P.replace(/</g,"&lt;");
P=P.replace(/>/g,"&gt;");
P=E(P,"*_{}[]\\",false);
return P;
}function m(P){P=P.replace(/([\W_]|^)(\*\*|__)(?=\S)([^\r]*?\S[\*_]*)\2([\W_]|$)/g,"$1<strong>$3</strong>$4");
P=P.replace(/([\W_]|^)(\*|_)(?=\S)([^\r\*_]*?\S)\2([\W_]|$)/g,"$1<em>$3</em>$4");
return P;
}function h(P){P=P.replace(/((^[ \t]*>[ \t]?.+\n(.+\n)*\n*)+)/gm,function(S,R){var Q=R;
Q=Q.replace(/^[ \t]*>[ \t]?/gm,"~0");
Q=Q.replace(/~0/g,"");
Q=Q.replace(/^[ \t]+$/gm,"");
Q=y(Q);
Q=Q.replace(/(^|\n)/g,"$1  ");
Q=Q.replace(/(\s*<pre>[^\r]+?<\/pre>)/gm,function(V,T){var U=T;
U=U.replace(/^  /mg,"~0");
U=U.replace(/~0/g,"");
return U;
});
return K("<blockquote>\n"+Q+"\n</blockquote>");
});
return P;
}function s(X,P){X=X.replace(/^\n+/g,"");
X=X.replace(/\n+$/g,"");
var S=X.split(/\n{2,}/g);
var T=[];
var V=/~K(\d+)K/;
var Q=S.length;
var U;
for(U=0;
U<Q;
U++){var W=S[U];
if(V.test(W)){T.push(W);
}else{if(/\S/.test(W)){W=z(W);
W=W.replace(/^([ \t]*)/g,"<p>");
W+="</p>";
T.push(W);
}}}if(!P){Q=T.length;
for(U=0;
U<Q;
U++){var R=true;
while(R){R=false;
T[U]=T[U].replace(/~K(\d+)K/g,function(Z,Y){R=true;
return G[Y];
});
}}}return T.join("\n\n");
}function o(P){P=P.replace(/&(?!#?[xX]?(?:[0-9a-fA-F]+|\w+);)/g,"&amp;");
P=P.replace(/<(?![a-z\/?\$!])/gi,"&lt;");
return P;
}function p(P){P=P.replace(/\\(\\)/g,F);
P=P.replace(/\\([`*_{}\[\]()>#+-.!])/g,F);
return P;
}function g(Q){Q=Q.replace(/(^|\s)(https?|ftp)(:\/\/[-A-Z0-9+&@#\/%?=~_|\[\]\(\)!:,\.;]*[-A-Z0-9+&@#\/%=~_|\[\]])($|\W)/gi,"$1<$2$3>$4");
var P=function(S,R){return'<a href="'+R+'">'+M.plainLinkText(R)+"</a>";
};
Q=Q.replace(/<((https?|ftp):[^'">\s]+)>/gi,P);
return Q;
}function B(P){P=P.replace(/~E(\d+)E/g,function(S,R){var Q=parseInt(R,10);
return String.fromCharCode(Q);
});
return P;
}function v(P){P=P.replace(/^(\t|[ ]{1,4})/gm,"~0");
P=P.replace(/~0/g,"");
return P;
}function e(R){if(!/\t/.test(R)){return R;
}var Q=["    ","   ","  "," "],P=0,S;
return R.replace(/[\n\t]/g,function(T,U){if(T==="\n"){P=U+1;
return T;
}S=(U-P)%4;
P=U+1;
return Q[S];
});
}var w=/(?:["'*()[\]:]|~D)/g;
function D(Q){if(!Q){return"";
}var P=Q.length;
return Q.replace(w,function(R,S){if(R=="~D"){return"%24";
}if(R==":"){if(S==P-1||/[0-9\/]/.test(Q.charAt(S+1))){return":";
}}return"%"+R.charCodeAt(0).toString(16);
});
}function E(T,Q,P){var S="(["+Q.replace(/([\[\]\\])/g,"\\$1")+"])";
if(P){S="\\\\"+S;
}var R=new RegExp(S,"g");
T=T.replace(R,F);
return T;
}function F(R,Q){var P=Q.charCodeAt(0);
return"~E"+P+"E";
}};
})();
Type.registerNamespace("Telerik.Web.UI");
$telerik.toEditor=function(a){return a;
};
$telerik.findEditor=$find;
(function(a,j){var c=Telerik.Web.UI;
var b=c.Editor;
var d=b.EditorEditType;
var i=a.proxy;
var e="focus";
var g="reInlineEditor";
var h="reInlineEditorSelected";
var f="inlineEditCompleted";
var k=b.Utils;
c.RadEditor=function(m){var l=this;
c.RadEditor.initializeBase(this,[m]);
this._bottomResizer=null;
this._tableElement=null;
this._contentAreaElement=null;
this._contentHiddenTextarea=null;
this._doctypeString=null;
this._originalHeight=null;
this._accessKeyTextbox=null;
this._contentAreaWrapper=null;
this._mode=c.EditModes.Design;
this._divContentAreaInitialized=false;
this._accEditor=null;
this._shortCutManager=new c.ShortCutManager();
this._filtersManager=new c.Editor.FiltersManager();
this._commandsManager=new c.Editor.CommandsManager();
l._modulesManager=null;
this._resizeExtender=null;
this._localization={};
this._contentAreaEventHandlers={};
this._contentAreaExternalEventHandlers={};
this._elementsResizableWidget=null;
this._onToolClickDelegate=null;
this._onWindowResizeDelegate=null;
this._saveContentDelegate=null;
l._onHiddenTextAreaFocusDelegate=null;
this.isIE=$telerik.isIE;
this.isFirefox=$telerik.isFirefox;
this.isOpera=$telerik.isOpera;
this.isIE7=$telerik.isIE7;
this._spellCheckService=null;
this._originalScrollTop=null;
this._cursorPosition=null;
this._isCursorMoving=null;
l._animationSettings={};
};
c.RadEditor.createNew=function(m){var l=new c.RadEditor(document.createElement("div"));
if(!m){l.get_contentAreaElement();
}else{l._contentAreaElement=m;
}l._contentHiddenTextarea=document.createElement("input");
l._setContentAreaHtml("",true);
l.set_editable(true);
l._ieHookToClientArea();
l._addDefaultShortCuts();
l.removeShortCut("ToggleScreenMode");
l.removeShortCut("LinkManager");
l.removeShortCut("ImageManager");
l.removeShortCut("SetToolFocus");
return l;
};
c.RadEditor.prototype={_initializeModulesManager:function(){var l=this;
if(typeof(b.ModulesManager)==="function"&&!l._isInInlineEditMode()){l._modulesManager=new b.ModulesManager(l);
}},_isInInlineEditMode:function(){var l=this;
return(l.get_editType()===d.Inline);
},get_ajaxSpellCheck:function(){return this._ajaxSpellCheck;
},set_ajaxSpellCheck:function(l){this._ajaxSpellCheck=l;
this.raiseEvent("spellCheckLoaded");
},get_spellCheckService:function(){if(!this._spellCheckService){this._spellCheckService=$create(c.SpellCheckService,this.get_spellCheckJSON(),null,null);
this._spellCheckService.add_complete(Function.createDelegate(this,this._responseReceived));
}return this._spellCheckService;
},startSpellCheck:function(){this.get_spellCheckService().spellCheck(this.get_html());
},addCustomWord:function(l){this.get_spellCheckService().addCustomWord(l);
},_responseReceived:function(m,l){},raiseEvent:function(m,l){if(m!="selectionChange"||this.get_mode()==c.EditModes.Design){c.RadEditor.callBaseMethod(this,"raiseEvent",[m,l]);
}},_initializeToolProvider:function(){var m=this,u=m.get_toolProviderID(),r=u?$find(u):null;
if(!r){return;
}var q=r.get_dialogOpener();
m.set_dialogOpener(q);
var l=r.get_contextMenusJSON();
if(l&&l.concat){m.set_contextMenusJSON(l.concat([]));
}var p=r.get_modulesJSON();
if(p&&p.concat){m.set_modulesJSON(p.concat([]));
}var t=m.get_toolContainer();
t.innerHTML="";
m.set_toolJSON([]);
var n=r.get_toolHTML();
t.innerHTML=n;
var o=r.get_toolJSON().concat([]);
m.set_toolJSON(o);
if(r.get_spellCheckJSON){m.set_spellCheckJSON(r.get_spellCheckJSON());
}if(r.get_ajaxSpellCheckScriptReference){var s=r.get_ajaxSpellCheckScriptReference();
if(s){m.set_ajaxSpellCheckScriptReference(s);
}}m.set_links(r.get_links());
m.set_colors(r.get_colors());
m.set_fontNames(r.get_fontNames());
m.set_fontSizes(r.get_fontSizes());
m.set_symbols(r.get_symbols());
m.set_realFontSizes(r.get_realFontSizes());
m.set_snippets(r.get_snippets());
m.set_cssClasses(r.get_cssClasses());
m.set_cssFiles(r.get_cssFiles());
m.set_languages(r.get_languages());
m.set_paragraphs(r.get_paragraphs());
m.set_formatSets(r.get_formatSets());
m.set_enableUndoRedo(r.get_enableUndoRedo());
},get_toolHTML:function(){var l=this.get_toolContainer().cloneNode(true);
return l.innerHTML;
},get_toolContainer:function(){return this._view.toolBarContainer();
},get_mainTable:function(){return $get(this.get_id()+"Wrapper");
},_ieHookToClientArea:function(){var l=this;
window.setTimeout(function(){if($telerik.isIE){var n=l.get_contentArea();
if(!n){return;
}try{var q=c.Editor.Utils.storeBrowserPosition();
var m=document.activeElement;
if(m&&m.nodeName===l.get_contentAreaElement()){var p=document.body.createTextRange();
if(q&&q.y>0){p.moveToElementText(l.get_contentAreaElement());
}else{p.moveStart("textedit",p.text.length);
}p.collapse(true);
p.select();
if(q&&q.y>0){c.Editor.Utils.restoreBrowserPosition();
}}}catch(o){}}},0);
},_isEditorRightToLeft:function(){var l=this._isRightToLeft;
if(l==null){var m=this.get_element();
if(m){l=this._isRightToLeft=$telerik.isRightToLeft(m);
}}return l;
},initialize:function(){var l=this;
var o;
c.RadEditor.callBaseMethod(this,"initialize");
this.raiseEvent("init",Sys.EventArgs.Empty);
l._initializeModulesManager();
this._view=Telerik.Web.UI.Editor.ViewFactory.getView(this);
this._sizer=Telerik.Web.UI.Editor.UI.SizerFactory.getSizer(this);
this._initializeToolProvider();
if(this._renderMode==c.RenderMode.Classic){o=this.get_mainTable();
this._originalHeight=o.style.height;
}this._initializeLocalization();
this._addFilters();
this._addDefaultShortCuts();
this._createUI();
var n=this.isVisible();
if(this._renderMode==c.RenderMode.Classic){o=$get(this.get_id()+"_BottomTable");
if(o){o.style.display="";
}}this._createTools();
var m=$get(this.get_id()+"ContentHiddenTextarea");
if(m){this._contentHiddenTextarea=m;
}if(this.get_enableAriaSupport()){this._applyAriaSupport();
}this._setContentAreaHtml(this.get_contentHiddenTextareaValue(),true);
if(!this.get_enableUndoRedo()){this.get_contentWindow()._radEditorEnableUndoRedo=false;
}this._registerClientValidation();
this._registerPostBackHandlers();
this.whitespaceTracker=new c.Editor.EmptyWhitespaceCharTracker(this);
this.whitespaceTracker.startTracking();
this.nodesTracker=new c.Editor.NodesTracker(this);
this.nodesTracker.startTracking();
if(!this._isEditModeEnabled(c.EditModes.Design)){if(this._isEditModeEnabled(c.EditModes.Html)){this.set_mode(c.EditModes.Html);
}else{this.set_mode(c.EditModes.Preview);
}}this._ieHookToClientArea();
this._fixIEVisibilityProblems(true);
this._fixMozillaDOMProblems(true);
if(this._modulesManager){this._modulesManager.initialize();
}this.set_initialContent();
this._applyAccessKey();
if(this.get_isInAccessibleMode()){this._accEditor=new c.AccessibleRadEditorBase(this);
}if(this.get_enableTrackChanges()||this.get_enableComments()){this._trackChangesLoad();
}if(!$telerik.isIE&&!$telerik.isFirefox){this._initializeResizableWidget();
}this._initRightToLeft();
this._enableFormElementsSelecting();
this._enableTextFieldsTyping();
if(l._shouldAutoResizeHeight()){this._sizer.makeAutoResizeHeight(n);
if($telerik.isFirefox){this.add_submit(Function.createDelegate(this._sizer,this._sizer.onSubmitSetEditorHeight));
}if(n){this._postponeResizeIframeHeight();
}this.add_selectionChange(Function.createDelegate(this,this._resizeContentArea));
}else{this._sizer.setContentElementHeight();
}this._makeResizeable(this.get_enableResize());
this.add_commandExecuting(Function.createDelegate(this,this._commandExecutingHandler));
this.add_commandExecuted(Function.createDelegate(this,this._commandExecutedHandler));
this._initializeImmutableElements();
this._initCleanUpModules();
this.raiseEvent("load",Sys.EventArgs.Empty);
if(!$telerik.isIE&&!$telerik.isFirefox){if(!this.isVisible()){this.raiseEvent("firstShow");
}}},_shouldAutoResizeHeight:function(){var l=this;
return l.get_autoResizeHeight()||l._isInInlineEditMode();
},_addInlineEditModeStyles:function(){this._addInlineEditorStyle(g);
},_addInlineEditorSelectedStyles:function(){this._addInlineEditorStyle(h);
},_addInlineEditorStyle:function(l){var m=this;
var n=m.get_element();
a(n).addClass(l);
},_removeInlineEditorSelectedStyles:function(){var l=this;
var m=l.get_element();
a(m).removeClass(h);
},_postponeResizeIframeHeight:function(){setTimeout(Function.createDelegate(this,function(){this._resizeContentArea();
}),300);
},_commandExecutingHandler:function(m,l){if(!m.get_enableImmutableElements()){return;
}var n=m.getSelectedElement();
if(n&&c.Editor.Utils.isImmutableNode(n)){return l.set_cancel(true);
}},_commandExecutedHandler:function(m,l){if(!m.get_enableImmutableElements()){return;
}if(/^(?:Un|Re)do$/.test(l.get_commandName())){c.Editor.Utils.restoreImmutableElements(m);
c.Editor.Utils.revertOriginalImmutables(m);
}},_initializeImmutableElements:function(){var l=this;
if(!l.get_enableImmutableElements()){return;
}c.Editor.Utils.getImmutableElements(this).each(function(m,n){l.setNodeImmutability(n);
});
},setNodeImmutability:function(n){if(!this.get_enableImmutableElements()){return;
}n.setAttribute("contentEditable",false);
$telerik.addCssClasses(n,["reUnselectable"]);
a(n).find("*").addBack().attr("unselectable","on");
var m=this._immutableElements;
if(!m){m=this._immutableElements={};
}var l=new Date().getTime();
if(m[l.toString()]&&m[l.toString()]!=n){while(m[l.toString()]){l++;
}}l=l.toString();
n.setAttribute(c.Editor.Utils.immutableElementId,l);
m[l]=n;
},removeNodeImmutability:function(m){var l=m.getAttribute(c.Editor.Utils.immutableElementId);
m.removeAttribute("contentEditable");
this._cleanUnselectableAttributes(m);
m.removeAttribute(c.Editor.Utils.immutableElementId);
if(!l||!this._immutableElements||!this._immutableElements[l]){return;
}delete this._immutableElements[l];
},_cleanUnselectableAttributes:function(l){$telerik.removeCssClasses(l,["reUnselectable"]);
if(!l.className){l.removeAttribute("class");
}a(l).find("*").addBack().removeAttr("unselectable");
},_initializeResizableWidget:function(){if(this._elementsResizableWidget){this._elementsResizableWidget.dispose();
}this.selectionChangeProxy=a.proxy(this._elementResizingSelectionChangeHandler,this);
this.add_selectionChange(this.selectionChangeProxy);
this.add_modeChange(a.proxy(function(m,l){if(m.get_mode()==2&&this._elementsResizableWidget){this._disposeElementResizableWidget();
}},this));
this.add_submit(a.proxy(function(){if(this._elementsResizableWidget){this._disposeElementResizableWidget();
}},this));
},_elementResizingSelectionChangeHandler:function(){var m=this._getElementForResizing(this.getSelectedElement());
if(m&&!c.Editor.Utils.isImmutableNode(m)){if(this._elementsResizableWidget&&this._elementsResizableWidget._element!=m){this._disposeElementResizableWidget();
}if(!this._elementsResizableWidget){this._elementsResizableWidget=this._getResizable(m);
var l=new Telerik.Web.UI.Editor.GenericCommand("Resize "+m.tagName.toLowerCase(),this.get_contentWindow(),this);
var n=this;
this._elementsResizableWidget.add_resizeStart(function(o){n.get_contentArea().removeAttribute("contenteditable");
});
this._elementsResizableWidget.add_resizeEnd(function(o){n.get_contentArea().setAttribute("contenteditable","true");
n.executeCommand(l);
n._cleanHandlesFromRestorePiont(l);
n._reInitResizable(o);
});
this._markHandlesForContentFilter();
}}else{if(this._elementsResizableWidget){this._disposeElementResizableWidget();
}}},_getCleanResizableHandlesFilter:function(){var l=this.get_filtersManager()?this.get_filtersManager().getFilterByName("CleanResizableHandles"):null;
if(!l){l=new Telerik.Web.UI.Editor.CleanResizableHandles();
}return l;
},_cleanHandlesFromRestorePiont:function(l){if(!l.RestorePoint2){return;
}var m=document.createElement("div");
m.innerHTML=l.RestorePoint2.HtmlText;
l.RestorePoint2.HtmlText=this._getCleanResizableHandlesFilter().getHtmlContent(m).innerHTML;
},_getResizable:function(l){return new Telerik.Web.UI.Widgets.Resizable(l,{liveResize:true,useTinyHandles:true,ownerDocument:this.get_document()});
},_disposeElementResizableWidget:function(){if(this._elementsResizableWidget){this._elementsResizableWidget.dispose();
this._elementsResizableWidget=null;
}if(this._selectionOrgBorder){this._selectionOrgBorder=null;
}},_reInitResizable:function(l){l.dispose();
this._elementsResizableWidget=null;
this._elementResizingSelectionChangeHandler();
},_getElementForResizing:function(n){var m=null,l=n;
if(n&&n.tagName&&n.tagName.toLowerCase()=="img"){return n;
}while(l&&l!=this.get_contentAreaElement()&&l!=$get(this.get_id()+"Center")){if(l.tagName&&l.tagName.toLowerCase()=="table"){m=l;
break;
}l=l.parentNode;
}return m;
},_markHandlesForContentFilter:function(){var m=this._elementsResizableWidget._handlesCollection;
for(var l in m){m[l]._element.setAttribute("rel","rrWidget");
}},_initRightToLeft:function(){if(this._isEditorRightToLeft()){var n=this.get_element();
var o=this.get_contentAreaElement();
Sys.UI.DomElement.addCssClass(n,"reRtl");
var m=o.contentDocument||o.contentWindow?o.contentWindow.document:null;
if(m){this._setElementStyleProperty(m.body,"direction","rtl");
this._setElementStyleProperty(m.body,"textAlign","right");
}}var l=this.get_dialogOpener();
l.set_additionalQueryString(l.get_additionalQueryString()+"&isRtl="+!!this._isEditorRightToLeft());
},_enableFormElementsSelecting:function(){if(this.get_mode()!=Telerik.Web.UI.EditModes.Design){return;
}this._formElementsSelection=new Telerik.Web.UI.Editor.FormElementsSelection(this);
this._formElementsSelection.enableFormElementsSelecting();
},_enableTextFieldsTyping:function(){if(this.get_mode()!=Telerik.Web.UI.EditModes.Design){return;
}this._textFieldsTyping=new Telerik.Web.UI.Editor.TextFieldsTyping(this);
this._textFieldsTyping.enableTextFieldsTyping();
},dispose:function(){var m=this;
if(this._emptyMessageContainer){$clearHandlers(this._emptyMessageContainer);
this._emptyMessageContainer=null;
}if(this.get_isInAccessibleMode()){this._accEditor=null;
}if(typeof(Sys.WebForms)!="undefined"&&typeof(Sys.WebForms.PageRequestManager)!="undefined"&&this._saveContentDelegate){var p=Sys.WebForms.PageRequestManager.getInstance();
if(p){p.remove_initializeRequest(this._saveContentDelegate);
}p=null;
}if(this._contentHiddenTextarea&&this._contentHiddenTextarea.form&&this._saveContentDelegate){$telerik.removeExternalHandler(this._contentHiddenTextarea.form,"submit",this._saveContentDelegate);
}if(this.whitespaceTracker){this.whitespaceTracker.dispose();
}if(this.nodesTracker){this.nodesTracker.dispose();
}var l=this.get_contentAreaElement();
if(l){if(this._formElementsSelection){this._formElementsSelection.disableFormElementsSelecting();
}if(this._textFieldsTyping){this._textFieldsTyping.disableTextFieldsTyping();
}$clearHandlers(l);
try{l.parentNode.removeChild(l);
}catch(n){}l=null;
}try{this._disposeEvents();
}catch(n){}this._fixMozillaDOMProblems(false);
this._fixIEVisibilityProblems(false);
this._makeResizeable(false);
m._onHiddenTextAreaFocusDelegate=null;
this._onToolClickDelegate=null;
this._registerWindowResizeHandler(false);
if(this._isFullScreen){this._enableBodyScroll();
}this.set_dialogOpener(null);
this._saveContentDelegate=null;
this._registerModeChangeHandler(false);
if(this._insertLink){this._insertLink.dispose();
this._insertLink=null;
}if(this._insertImage){this._insertImage.dispose();
this._insertImage=null;
}if(this._accessKeyTextbox){$clearHandlers(this._accessKeyTextbox);
this._accessKeyTextbox.removeAttribute("accessKey");
this._accessKeyTextbox=null;
}if(this._immutableElements){for(var o in this._immutableElements){delete this._immutableElements[o];
}}if(this._view){this._view.dispose();
}c.RadEditor.callBaseMethod(this,"dispose");
},_applyAccessKey:function(){var l=this.get_element().getAttribute("accessKey");
if(l){this.get_element().removeAttribute("accessKey");
var m=document.createElement("input");
m.setAttribute("name",this.get_id()+"EditorAccessKey");
m.setAttribute("type","text");
m.setAttribute("id",this.get_id()+"EditorAccessKey");
m.setAttribute("accessKey",l);
this._accessKeyTextbox=m;
$addHandlers(this._accessKeyTextbox,{focus:this.setFocus},this);
var n=document.createElement("div");
n.style.width="0px";
n.style.height="0px";
n.style.overflow="hidden";
n.appendChild(this._accessKeyTextbox);
this.get_element().appendChild(n);
}},_resizeContentArea:function(){this._sizer.resizeIframeHeight();
},_makeResizeable:function(l){if(this._renderMode==c.RenderMode.Classic){this._removeCurrentResizeExtender();
if(!l){return;
}if(!this._tableElement){return;
}if(!this._bottomResizer){this._bottomResizer=this._view.resizerHandle();
}if(this._bottomResizer){if(this.isIE){this._bottomResizer.style.styleFloat="right";
}if(this.isOpera&&document.compatMode=="CSS1Compat"){this._bottomResizer.parentNode.removeChild(this._bottomResizer);
this._bottomResizer=null;
}}else{return;
}var m={se:this._bottomResizer};
this._resizeExtender=new c.ResizeExtender(this,this.get_element(),m,this._tableElement);
}else{if(this._renderMode==c.RenderMode.Lite){if(this._resizableWidget){this._resizableWidget.dispose();
}if(!l){return;
}this._initialConstraints=this._calcInitialConstraints();
var n={liveResize:true,enableFrameOverlay:true,handles:[{direction:"SE",element:this._view.resizerHandle()}],constraints:this._initialConstraints};
this._resizableWidget=new Telerik.Web.UI.Widgets.Resizable(this.get_element(),n);
this._resizableWidget.add_resizing(a.proxy(this._onResizable,this));
this._resizableWidget.add_resizeEnd(a.proxy(this._onResizableEnd,this));
}}},_calcInitialConstraints:function(){var m=30;
var n=Math.max(a(this._view.zone("Left")).outerHeight(),a(this._view.zone("Right")).outerHeight());
var l=a(this._view.modulesContainer()).outerHeight()+a(this._view.modesRowContainer()).outerHeight()+a(this._view.toolBarContainer()).outerHeight();
return{minWidth:Math.ceil(a(this._element).innerWidth()),minHeight:Math.ceil(Math.max(n,l)+m)};
},_setSizingConstraints:function(){var n=this,o=n.get_element(),l=a(o),p=n._resizableWidget;
if(p){var m=this._initialConstraints||{minWidth:l.outerWidth(),minHeight:l.outerHeight()};
p.set_constraints(m);
}},_removeCurrentResizeExtender:function(){if(this._resizeExtender){this._resizeExtender.dispose();
this._resizeExtender=null;
}},_getInvisibleParent:function(){return $telerik.getInvisibleParent(this.get_element());
},isVisible:function(){return(this._getInvisibleParent()==null);
},_fixIEVisibilityProblems:function(m){if(typeof(this.get_element().onpropertychange)=="undefined"){return;
}if(m){var l=this._getInvisibleParent();
if(l){this._onIEParentVisibilityChangeDelegate=Function.createDelegate(this,this._onIEParentVisibilityChange);
this._invisibleParent=l;
$telerik.addHandler(this._invisibleParent,"propertychange",this._onIEParentVisibilityChangeDelegate);
}}else{if(this._invisibleParent&&this._onIEParentVisibilityChangeDelegate){$telerik.removeHandler(this._invisibleParent,"propertychange",this._onIEParentVisibilityChangeDelegate);
this._onIEParentVisibilityChangeDelegate=null;
this._invisibleParent=null;
}}},_fixMozillaDOMProblems:function(n){var l=this.get_element();
if(l.onpropertychange||l.onpropertychange===null){return;
}if(n){var m=this._getInvisibleParent();
if(m){this._invisibleParent=m;
this._onMozillaParentVisibilityChangeDelegate=Function.createDelegate(this,this._onMozillaParentVisibilityChange);
m.addEventListener("DOMAttrModified",this._onMozillaParentVisibilityChangeDelegate,false);
}this._onMozillaParentNodeChangedDelegate=Function.createDelegate(this,this._onMozillaParentNodeChanged);
document.addEventListener("DOMNodeInserted",this._onMozillaParentNodeChangedDelegate,false);
}else{if(this._invisibleParent&&this._onMozillaParentVisibilityChangeDelegate){this._invisibleParent.removeEventListener("DOMAttrModified",this._onMozillaParentVisibilityChangeDelegate,false);
this._onMozillaParentVisibilityChangeDelegate=null;
this._invisibleParent=null;
}if(this._onMozillaParentNodeChangedDelegate){document.removeEventListener("DOMNodeInserted",this._onMozillaParentNodeChangedDelegate,false);
this._onMozillaParentNodeChangedDelegate=null;
}}},_onIEParentVisibilityChange:function(m){m=m.rawEvent;
if(!m){return;
}if(m.propertyName=="style.display"||m.propertyName=="className"){var l=$telerik.getCurrentStyle(this._invisibleParent,"display");
if(l!="none"){this.raiseEvent("firstShow");
this.onParentNodeChanged();
this._fixIEVisibilityProblems(false);
}}},_onMozillaParentVisibilityChange:function(l){if(l.attrName=="style"||l.attrName=="class"){var m=l.target;
if((l.currentTarget==l.target)&&"none"!=$telerik.getCurrentStyle(m,"display")){window.setTimeout(Function.createDelegate(this,function(){if(!this._editorFirstVisible){this._editorFirstVisible=true;
this.raiseEvent("firstShow");
this.onParentNodeChanged();
}this.set_editable(true);
}),0);
}}},_onMozillaParentNodeChanged:function(l){if(!l.target||!this.get_element()){return;
}var m=$telerik.isDescendantOrSelf(l.target,this.get_element());
if(m){if($telerik.isFirefox){this.onParentNodeChanged();
}else{window.setTimeout(Function.createDelegate(this,this.onParentNodeChanged),0);
}}},onParentNodeChanged:function(){if(this.get_contentAreaMode()!=c.EditorContentAreaMode.Iframe){return;
}this.whitespaceTracker.stopTracking();
this.nodesTracker.stopTracking();
var l=this.get_html(true);
this.get_contentAreaElement();
var m=this.get_mode();
this.set_mode(m);
this._setContentAreaHtml(l,true);
this.reAttachExternalEvents();
this.set_html(l);
this._enableFormElementsSelecting();
this._enableTextFieldsTyping();
this.whitespaceTracker.startTracking();
this.nodesTracker.startTracking();
},onResizeStart:function(){var l=this.get_element();
this.resizeStartPosition={position:l.style.position,top:l.style.top,left:l.style.left};
this._resizeSelection=this.getSelection().getRange();
this._sizer.onResizeStart();
},onResizeEnd:function(){if(this.resizeStartPosition){var l=this.get_element();
$telerik.$(l).css({position:this.resizeStartPosition.position||"",top:this.resizeStartPosition.top||"",left:this.resizeStartPosition.left||""});
this.resizeStartPosition=null;
}this._sizer.onResizeEnd();
this.get_toolAdapter().repaint(true);
if(!this.isIE){return;
}this.setActive();
if(this._resizeSelection){var m=null;
if(this._resizeSelection.commonParentElement){m=this._resizeSelection.commonParentElement();
}else{if(this._resizeSelection.parentElement){m=this._resizeSelection.parentElement();
}}if(m&&(this.get_document()==m.ownerDocument)){this.getSelection().selectRange(this._resizeSelection);
}this._resizeSelection=null;
}},_onEditorResizing:function(){if(this._sizer&&this._sizer.onResizing){this._sizer.onResizing();
}},_onResizable:function(m,l){this._sizer.onResizing();
this.get_toolAdapter().repaint();
},_onResizableEnd:function(m,l){this.get_toolAdapter().repaint(true);
},_initializeLocalization:function(){this._localization=c.Localization.merge("RadEditor",this.get_language().toLowerCase(),this._localization);
},getSelectedElement:function(){return this.getSelection().getParentElement();
},getSelection:function(){return new c.Editor.Selection(this.get_contentWindow());
},getSelectionHtml:function(){return this.getSelection().getHtml();
},getEditorSelectionRange:function(){var l=this.getSelection().getRange();
var m=this.getSelectedElement();
if(l!=null&&m!=null&&m.ownerDocument!=this.get_document()){l=null;
}return l;
},selectElement:function(l,m){if(c.Editor.Utils.selectElement(this.get_contentWindow(),l)&&false!=m){this.raiseEvent("selectionChange",Sys.EventArgs.Empty);
}},undo:function(l){this._commandsManager.undo(l);
},redo:function(l){this._commandsManager.redo(l);
},executeCommand:function(m,n,l){if(!m.get_window()){m.set_window(this.get_contentWindow());
}if(false!=n&&!this.isOpera){this.setFocus();
}this._commandsManager.execute(m,l);
},executeBrowserCommand:function(m,l,r,n){if((this.get_enableTrackChanges()||this.get_enableComments())&&m.indexOf("Justify")==0){var o=this.getSelection();
var p=o.getParentElement();
if(p){if(p.getAttribute("Name")!=null){if(p.getAttribute("Name").indexOf("_wp")==0){return;
}}}}var q=this.getLocalizedString(m);
this.executeCommand(new c.Editor.BrowserCommand(q,this.get_contentWindow(),m,r,this));
this.setActive();
this.setFocus();
if(true==n){this.raiseEvent("selectionChange",Sys.EventArgs.Empty);
}},createElement:function(r,p,o,m,n,q){var l=this.get_document().createElement(r);
if(p){l.style.width=p;
}if(o){l.style.height=o;
}if(null!=m){l.id=m;
}if(null!=n){l.name=n;
}if(null!=q){l.value=q;
}return l;
},createRestorePoint:function(){return new c.Editor.RestorePoint(this.get_contentWindow(),this.get_contentArea());
},getToolState:function(n,m){if(n=="Undo"){return this.get_commandsManager().isUndoAvailable()?c.Editor.CommandStates.Off:c.Editor.CommandStates.Disabled;
}else{if(n=="Redo"){return this.get_commandsManager().isRedoAvailable()?c.Editor.CommandStates.Off:c.Editor.CommandStates.Disabled;
}}if(n=="FormatPainterApply"||n=="FormatPainterClear"){return(this.get_currentFormatting())?c.Editor.CommandStates.Off:c.Editor.CommandStates.Disabled;
}else{var l=c.Editor.UpdateCommandsArray[n];
if(l&&l.getState){return l.getState(this.get_contentWindow(),this,m);
}}},getToolValue:function(n,m){var l=c.Editor.UpdateCommandsArray[n];
if(l&&l.getValue){if(l.set_editor){l.set_editor(this);
}return l.getValue(this.get_contentWindow(),m);
}},_addFilters:function(){var l=this;
var m=this.get_filtersManager();
m.clear();
var n=this.usesContentFilter("ConvertToXhtml");
m.set_enableXhtmlFilter(n);
if(this.usesContentFilter("ConvertInlineStylesToAttributes")){m.add(new c.Editor.ConvertInlineStylesToAttributesFilter());
}else{if(n){m.add(new c.Editor.CleanAttributesFilter());
if($telerik.isFirefox||$telerik.isSafari){m.add(new c.Editor.MozillaRemoveLastBrFilter());
}}}l._addEnabledFilter("RemoveScripts",new c.Editor.StripScriptsFilter());
l._addEnabledFilter("EncodeScripts",new c.Editor.EncodeScriptsFilter());
l._addEnabledFilter("FixUlBoldItalic",new c.Editor.FixUlBoldItalic());
m.add(new c.Editor.FixNestedLists());
l._addEnabledFilter("StripCssExpressions",new c.Editor.StripCssExpressionsFilter());
l._addEnabledFilter("StripDomEventAttributes",new c.Editor.StripDomEventAttributesFilter());
l._addEnabledFilter("ConvertFontToSpan",new c.Editor.ConvertFontToSpanFilter());
l._addEnabledFilter("OptimizeSpans",new c.Editor.OptimizeSpans());
l._addEnabledFilter("FixEnclosingP",new c.Editor.FixEnclosingP());
l._addEnabledFilter("ConvertCharactersToEntities",new c.Editor.ConvertCharactersToEntities());
if($telerik.isIE){m.add(new c.Editor.IEKeepObjectDesignFilter());
m.add(new c.Editor.IEKeepObjectParamsFilter());
m.add(new c.Editor.IEKeepCommentsFilter());
m.add(new c.Editor.IEFixEmptyParagraphs());
l._addEnabledFilter("IECleanAnchors",new c.Editor.IECleanAnchorsFilter());
}if(!$telerik.isIE&&!$telerik.isOpera){if(!$telerik.isSafari){m.add(new c.Editor.MozillaKeepFlash(this.get_mozillaFlashOverlayImage()));
}else{m.add(new c.Editor.FixParagraphsWithSingleBrFilter());
}m.add(new c.Editor.MozillaKeepStylesString());
m.add(new c.Editor.MozillaKeepStylesDom());
l._addEnabledFilter("MozEmStrong",new c.Editor.MozEmStrongFilter());
}l._addEnabledFilter("ConvertTags",new c.Editor.ConvertTagsFilter());
if($telerik.isOpera||$telerik.isSafari||$telerik.isChrome){m.add(new c.Editor.CleanResizableHandles());
}m.add(new c.Editor.StripJunkFilter());
m.add(new c.Editor.RemoveExtraBrakes());
m.add(new b.MetaTagAttributesFilter());
l._addEnabledFilter("MakeUrlsAbsolute",new c.Editor.MakeUrlsAbsolute());
l._addEnabledFilter("IndentHTMLContent",new c.Editor.IndentHTMLContentFilter());
l._addEnabledFilter("PdfExportFilter",new c.Editor.PdfExportFilter());
},_addEnabledFilter:function(m,l){if(this.usesContentFilter(m)){this.get_filtersManager().add(l);
}},applyFiltersForEmbedContent:function(n){var o=n+"";
var l=this.get_filtersManager().getFilterByName("IEKeepObjectParamsFilter");
var m=this.get_filtersManager().getFilterByName("MozillaKeepFlash");
if(l){o=l.getDesignContent(o);
}if(m){var p=this.get_document().createElement("div");
Telerik.Web.UI.Editor.Utils.setElementInnerHtml(p,o);
p=m.getDesignContent(p);
o=p.innerHTML;
}return o;
},usesContentFilter:function(l){if(typeof(l)==="string"){l=c.EditorFilters[l];
}var m=l&&!!(this.get_contentFilters()&l);
return m;
},addShortCut:function(l,m){if(this._shortCutManager){this._shortCutManager.addShortCut(l,m);
}},removeShortCut:function(l){if(this._shortCutManager){this._shortCutManager.removeShortCut(l);
}},setShortCut:function(l,m){if(this._shortCutManager){this._shortCutManager.setShortCut(l,m);
}},_addDefaultShortCuts:function(){var o=Telerik.Web.Platform,m="CTRL",q="F11",p="F10";
if(o&&o.mac){m="CMD";
q=m+"+F11";
p=m+"+F10";
}var n=[["SelectAll",m+"+A"],["Copy",m+"+C"],["Paste",m+"+V"],["Cut",m+"+X"],["Bold",m+"+B"],["Italic",m+"+I"],["Underline",m+"+U"],["Copy",m+"+INS"],["Paste",m+"SHIFT+INS"],["ToggleScreenMode",q],["LinkManager",m+"+K"],["ImageManager",m+"+G"],["SetToolFocus",p]];
if(this.get_enableUndoRedo()){n.push(["Undo",m+"+Z"]);
n.push(["Redo",m+"+Y"]);
}for(var l=0;
l<n.length;
l++){this.addShortCut(n[l][0],n[l][1]);
}if(this.isIE){this.addShortCut("InsertTab","TAB");
}else{this.addShortCut("InsertTabMozilla","TAB");
}this.addShortCut("InsertShiftTab","SHIFT+TAB");
this.addShortCut("EnterNewLine","ENTER");
if(this.get_newLineMode()==Telerik.Web.UI.EditorNewLineModes.Br){if(this.isIE){this.addShortCut("ShiftEnter","SHIFT+ENTER");
this.addShortCut("InsertParagraph",m+"+ENTER");
}else{if(this.isFirefox){this.addShortCut("EnterParagraphMozilla",m+"+ENTER");
}else{if($telerik.isSafari){this.addShortCut("InsertParagraphSafari",m+"+ENTER");
}}}}if($telerik.isSafari){this.addShortCut("ShiftEnterSafari","SHIFT+ENTER");
}},bubbleKeyEventToBrowser:function(){this._shortcutHit=false;
},attachEventHandler:function(l,m){this._attachCashableEvent(l,m,this._contentAreaExternalEventHandlers);
},attachInternalHandler:function(l,m){this._attachCashableEvent(l,m,this._contentAreaEventHandlers);
},_attachCashableEvent:function(m,n,l){if(m.startsWith("on")){m=m.replace("on","");
}this._attachExternalHandler(m,n);
if(!l[m]){l[m]=[];
}l[m].push(n);
},_attachExternalHandler:function(m,n){var l=this.get_contentAreaMode()==c.EditorContentAreaMode.Div?this.get_contentArea():this.get_document();
$telerik.addExternalHandler(l,m,n);
},reAttachExternalEvents:function(){var m=this._contentAreaExternalEventHandlers;
for(var l in m){var n=m[l];
for(var o=0;
o<n.length;
o++){this._attachExternalHandler(l,n[o]);
}}},detachEventHandler:function(m,n){if(m.startsWith("on")){m=m.replace("on","");
}var l=this.get_contentAreaMode()==c.EditorContentAreaMode.Div?this.get_contentArea():this.get_document();
$telerik.removeExternalHandler(l,m,n);
},_disposeEvents:function(){this._detachCashableEvents(this._contentAreaExternalEventHandlers);
this._contentAreaExternalEventHandlers={};
this._detachEvents();
},_detachEvents:function(){this._detachCashableEvents(this._contentAreaEventHandlers);
this._contentAreaEventHandlers={};
this._attachBodyHandlers(false);
},_detachCashableEvents:function(m){for(var o in m){var l=m[o];
if(l.length!=null){for(var q=0;
q<l.length;
q++){var p=l[q];
if(typeof(p)=="function"){try{this.detachEventHandler(o,p);
}catch(n){}}}}}},get_TopZone:function(){return $get(this.get_id()+"Top");
},_createTools:function(){if(!this.get_toolAdapter()){var m=this.get_toolContainer();
var l=eval(this.get_toolAdapterType());
if(this._onToolClickDelegate==null){this._onToolClickDelegate=Function.createDelegate(this,this._onToolClick);
}this.set_toolAdapter($create(l,{editor:this,toolJSON:this.get_toolJSON(),contentAreaMode:this.get_contentAreaMode()},{toolClick:this._onToolClickDelegate},null,m));
}},_onToolClick:function(m,l){if((this.get_enableTrackChanges()||this.get_enableComments())&&m._name=="Cut"&&l._commandName=="Cut"){if(!this._canEditSelection()){alert(this.get_localization()["caneditselection"]);
return false;
}}this.fire(m.get_name(),l);
},getContextMenuByTagName:function(l){var m=this.get_toolAdapter();
if(m&&m.getContextMenuByTagName){return m.getContextMenuByTagName(l);
}},getToolByName:function(m){var l=this.get_toolAdapter();
if(l){return l.getToolByName(m);
}return null;
},getLocalizedString:function(m,l){if(!m){return l;
}var n=this.get_localization()[m];
if(null==n){n=this.get_localization()[m.toLowerCase()];
}return n;
},setFocus:function(){var o=this;
try{if($telerik.isIE&&this.getSelection().isControl()&&!o._isInInlineEditMode()){return;
}var m=this.get_mode()!=c.EditModes.Html?this.get_contentWindow():this.get_textArea();
if(this.get_contentAreaMode()==c.EditorContentAreaMode.Div){m=this.get_contentArea();
}if(m&&m.focus){if($telerik.isIE){var l=this.get_document().activeElement;
if(l&&l==m){return;
}}if(!o._isInInlineEditMode()){m.focus();
}}}catch(n){}},setActive:function(){if(this._emptyMessageContainer){this._hideEmptyMessage();
}if($telerik.isIE&&this.getSelection().isControl()){return;
}var l=this._getCurrentArea();
if(l&&l.setActive){l.setActive();
}},setActiveIfElementIsNotInContent:function(){if(this._emptyMessageContainer){this._hideEmptyMessage();
}if($telerik.isIE&&this.getSelection().isControl()){return;
}var n=this._getCurrentArea();
var l=this.get_document().activeElement;
var m=k.isAncestorOf(n,l);
if(n&&n.setActive&&!m){n.setActive();
}},_getCurrentArea:function(){var l=this;
return l.get_mode()==c.EditModes.Html?l.get_textArea():l.get_contentArea();
},set_visible:function(m){var l=this.get_element();
if(l){l.style.display=m?"":"none";
}this.set_editable(m);
},enableEditing:function(o,m,s){var l=this.get_toolAdapter();
var n=function(){};
if(!m){m=c.EditingOptions.All;
}this._editingOptions=m;
this._optionalIgnoredTools=s;
if(this.usesEditingOption("ContextMenus")){if(l){l.enableContextMenus(o);
}}if(this.usesEditingOption("EditModes")){if(!o){this._originalEditModeRef=this.set_mode;
this.set_mode=n;
}else{if(this._originalEditModeRef){this.set_mode=this._originalEditModeRef;
this._originalEditModeRef=null;
}}}if(this.usesEditingOption("Tools")){if(l){if(!o){l.setToolState(null,c.Editor.CommandStates.Disabled);
if(s){var p=[];
for(var q in s){var t=l.getToolByName(q);
if(t){p[p.length]=t;
}}l.setToolState(p);
}this._originalSetToolStateRef=l.setToolState;
l.setToolState=n;
}else{if(this._originalSetToolStateRef){l.setToolState=this._originalSetToolStateRef;
this._originalSetToolStateRef=null;
}}}}if(this.usesEditingOption("Modules")){var r=this._modulesManager;
if(r){r.setModulesVisible(o);
}}if(this.usesEditingOption("Typing")){if(!o){this._disableTypingDelegate=$telerik.cancelRawEvent;
this.attachInternalHandler("keypress",this._disableTypingDelegate);
}else{if(this._disableTypingDelegate){this.detachEventHandler("keypress",this._disableTypingDelegate);
this._disableTypingDelegate=null;
}}}if(this.usesEditingOption("Tab")){if(!o){this.removeShortCut("InsertTab");
}else{this.setShortCut("InsertTab","TAB");
}}if(o){if(l){l.setToolState(null,c.Editor.CommandStates.Off);
}this.raiseEvent("selectionChange",Sys.EventArgs.Empty);
}},usesEditingOption:function(l){if(typeof(l)==="string"){l=c.EditingOptions[l];
}return l&&!!(l&this._editingOptions);
},set_editable:function(l){var m=this;
if($telerik.isIE||$telerik.isOpera||this.get_contentAreaMode()==c.EditorContentAreaMode.Div){window.setTimeout(function(){try{m.get_contentArea().setAttribute("contentEditable",""+l);
if($telerik.isIE){m.get_document().execCommand("2D-Position",false,true);
}}catch(n){}},0);
}else{window.setTimeout(function(){try{m.get_document()["designMode"]=l?"on":"off";
if(l){m.get_document().execCommand("UseCSS",false,true);
m.get_document().execCommand("styleWithCSS",false,false);
}}catch(n){}},0);
}},get_editable:function(){if($telerik.isIE||$telerik.isOpera||this.get_contentAreaMode()==c.EditorContentAreaMode.Div){return this.get_contentArea().getAttribute("contentEditable",2);
}else{return(this.get_document()["designMode"]=="on");
}},enableContentArea:function(l){if(this.isIE){this.get_contentArea().setAttribute("contentEditable",""+l);
}},showExternalDialog:function(y,l,z,s,o,n,x,t,m,u,v,q){var p=this.getEditorSelectionRange();
var r=this;
var w=function(B,A){window.setTimeout(function(){if(p!=null){try{r.getSelection().selectRange(p);
}catch(C){}}if(o&&A!=null){var D=o(B,A);
if(false==D){return;
}r.raiseEvent("selectionChange",Sys.EventArgs.Empty);
}r.setFocus();
},50);
};
this.get_dialogOpener().openUrl(y,l,z,s,w,n,x,t,m,u,v,q);
},showDialog:function(o,l,m){var n=this.getEditorSelectionRange();
var q=this;
var s=function(v,u){window.setTimeout(function(){if(n!=null&&o!="FindAndReplace"){try{q.getSelection().selectRange(n);
}catch(w){}}if(m&&u!=null){var x=m(v,u);
if(false==x){return;
}q.raiseEvent("selectionChange",Sys.EventArgs.Empty);
}q.setFocus();
},50);
};
var p=this.get_dialogOpener();
if(o=="InsertLink"||o=="InsertImage"||o=="InsertTableLight"){var r=this.get_skin();
if(r=="Bootstrap"){l.height=220;
l.width=370;
l.stripPopupHeight=true;
}if(r=="Glow"||r=="Silk"){l.height=230;
l.width=370;
l.stripPopupHeight=true;
}if(this.get_isSkinTouch()){l.height=287;
l.width=386;
}p.openLight(o,l,s);
}else{p.open(o,l,s);
}if(this.isIE){var t=this.get_dialogOpener()._getDialogContainer(o);
if(!t||t._DRAG_ATTACHED){return;
}t._DRAG_ATTACHED=true;
t.add_dragEnd(function(){if(n!=null){try{q.getSelection().selectRange(n);
}catch(u){}finally{q.get_toolAdapter()._showToolbarHolder(false);
}}});
}},_getModeButtonsWrapper:function(){return this._view.modeButtonsContainer();
},_registerModeChangeHandler:function(l){var m=this._getModeButtonsWrapper();
if(!m){return;
}if(l){this._onModeButtonClickDelegate=Function.createDelegate(this,this._onModeButtonClick);
$addHandler(m,"click",this._onModeButtonClickDelegate);
}else{if(this._onModeButtonClickDelegate){$removeHandler(m,"click",this._onModeButtonClickDelegate);
this._onModeButtonClickDelegate=null;
}}},_onModeButtonClick:function(l){var m=this._view.getModeFromEvent(l)||this.get_mode();
if(m!=this.get_mode()){this.set_mode(m);
}return $telerik.cancelRawEvent(l);
},_changeModeUI:function(l){this._view.changeMode(l);
},_isEditModeEnabled:function(l){return l&this.get_editModes()?true:false;
},get_mode:function(){return this._mode;
},set_mode:function(p){if(!this.validateMaxHtmlLength()){this.displayMaxHtmlLengthErrorMessage();
return false;
}if(!this.validateMaxTextLength()){this.displayMaxTextLengthErrorMessage();
return false;
}this._setEditableDelegate=Function.createDelegate(this,function(){if(this._setEditableDelegate){this.remove_editReady(this._setEditableDelegate);
var q=(this._mode==l.Design);
this.set_editable(q);
this.toggleEnhancedEdit(q);
this._setEditableDelegate=null;
}});
this.add_editReady(this._setEditableDelegate);
var n=this._mode;
var l=c.EditModes;
if(p!=l.Design&&this._emptyMessageContainer){this._hideEmptyMessage();
}this.whitespaceTracker.reset();
this.nodesTracker.reset();
var o=Telerik.Web.UI.Editor.Utils;
if(p==l.Preview&&n!=l.Html){o.setTargetsForPreview(this);
}else{if(n==l.Preview){o.restoreTargetsAfterPreview(this);
}}if(n==l.Html||p==l.Html){if(p==l.Html&&this.get_enableImmutableElements()){o.replaceImmutableElements(this);
}var m=this.get_html(true);
this._mode=p;
this._showTextArea(this._mode==l.Html);
this.set_html(m);
if(p==l.Preview){o.setTargetsForPreview(this);
}if(p!=l.Html&&this.get_enableImmutableElements()){o.restoreImmutableElements(this);
}}else{this._mode=p;
this._showTextArea(this._mode==l.Html);
}this._changeModeUI(p);
if(this._mode!=l.Preview){this.setFocus();
if(!(this.isFirefox&&(!this.get_document()||!this.get_contentArea()))){this.set_editable(true);
}if(this._mode==l.Design){this.toggleEnhancedEdit(true);
}}else{this.set_editable(false);
this.toggleEnhancedEdit(false);
}if(p==l.Design&&$telerik.isFirefox){this.get_contentAreaElement().blur();
}else{this.setFocus();
}this.raiseEvent("modeChange",Sys.EventArgs.Empty);
if(this._sizer){this._sizer.modeChanged(p);
}if(this._resizableWidget){this._setSizingConstraints();
}},get_enableImmutableElements:function(){return this._enableImmutableElements;
},set_enableImmutableElements:function(n){var m=this._enableImmutableElements;
n=!!n;
if(m==n){return;
}if(!this.get_contentArea||!this.get_contentArea()){this._enableImmutableElements=n;
return;
}if(n){this._enableImmutableElements=n;
this._initializeImmutableElements();
}else{if(this._immutableElements){var l=this;
c.Editor.Utils.getImmutableElements(l).each(function(p,o){l.removeNodeImmutability(o);
});
this._enableImmutableElements=n;
}}},_getHtmlModeTextarea:function(){var m=this;
if(!m._htmlModeTextarea){var l=m.get_contentAreaElement();
var o=m._htmlModeTextarea=l.ownerDocument.createElement("textarea");
var n={"box-sizing":"border-box",margin:"0px",border:"0px","font-style":"normal","font-family":"Tahoma","font-size":"11px",color:"#000080",width:"100%",resize:"none",display:"none"};
if($telerik.isIE7||(!("box-sizing" in l.style))){n["padding-right"]="0px";
n.overflow="scroll";
n["word-break"]="break-all";
}$telerik.$(o).css(n).appendTo(l.parentNode);
}return m._htmlModeTextarea;
},get_textArea:function(){return this._getHtmlModeTextarea();
},_showTextArea:function(p){var m=this;
var l=m.get_contentAreaElement();
var n=m._getHtmlModeTextarea();
var o=m.get_contentAreaMode()==c.EditorContentAreaMode.Div;
if(p){var q=m._sizer;
if(($telerik.isSafari||$telerik.isIE9)&&!o){m.hideViewElement(l);
}else{q.hideDesignViewElement(l);
}n.style.display="block";
}else{if(($telerik.isSafari||$telerik.isIE9)&&!o){m.showViewElement(l);
}else{l.style.display="";
}n.style.display="none";
}if(m._isInInlineEditMode()){m._setShowToolbarHandlerToHiddenTextArea(n,p);
}},_setShowToolbarHandlerToHiddenTextArea:function(m,n){var l=this;
if(m){if(n){l._onHiddenTextAreaFocusDelegate=i(l._onHiddenTextAreaFocus,l);
a(m).onEvent(e,l._onHiddenTextAreaFocusDelegate);
}else{a(m).offEvent(e,l._onHiddenTextAreaFocusDelegate);
l._onHiddenTextAreaFocusDelegate=null;
}}},_onHiddenTextAreaFocus:function(l){var m=this;
var n=m.get_toolAdapter();
l.stopPropagation();
n._showToolbarHolder(true);
m._addInlineEditorSelectedStyles();
},hideViewElement:function(l){l.style.width="0px";
l.style.height="0px";
},showViewElement:function(l){l.style.width="100%";
l.style.height="2px";
},_setContentAsText:function(m){var l=this.get_textArea();
if(l){l.value=m;
}},_getContentAsText:function(){var l=this.get_textArea();
if(l&&l.value){var m=l.value;
return m;
}return"";
},set_html:function(m,q,p,o){var n=c.EditModes;
if(this.get_mode()!=n.Html){var l=new c.Editor.GenericCommand(q?q:"Set HTML",this.get_contentWindow(),this);
this._setContentAreaHtml(m);
this.executeCommand(l,p);
if(false!=o){this.raiseEvent("selectionChange",Sys.EventArgs.Empty);
}if(this.get_emptyMessage()&&(!m||m.trim().length==0)&&this.get_mode()==n.Design){this._setEmptyMessage();
c.Editor.CommandList.SetToolFocus("SetToolFocus",this,null);
}}else{this._setContentAsText(m);
}},get_html:function(q,w){var o=null;
var n="";
var l;
var t=this.get_mode();
var u=c.EditModes;
if(t==u.Preview){c.Editor.Utils.restoreTargetsAfterPreview(this);
}if(t==u.Html){return this._getContentAsText();
}else{if(this.get_enableImmutableElements()){l=c.Editor.Utils.getImmutableElements(this);
if(l.length){if(!this._immutableElements){this._initializeImmutableElements();
}c.Editor.Utils.replaceImmutableElements(this);
}}if(this.get_fullPage()){if(this.get_document()){o=this.get_document().getElementsByTagName("HTML")[0];
o=c.Editor.Utils.cloneNodeWithChildren(o);
var m=this._getAllSheets(o);
for(var p=0;
p<m.length;
p++){var r=m[p];
var s=r.getAttribute("id");
if(s&&s.indexOf("RADEDITORSTYLESHEET")==0){r.parentNode.removeChild(r);
}}if($telerik.isIE||$telerik.isOpera){o.getElementsByTagName("BODY")[0].removeAttribute("contentEditable");
}}}else{if(this.get_contentArea()){if(true==q){o=c.Editor.Utils.cloneNodeWithChildren(this.get_contentArea());
}else{o=this.get_contentArea();
}}}}if(o){if(w&&(c.EditorStripHtmlOptions&&w)==c.EditorStripHtmlOptions.Comments){var v=new c.Editor.StripCommentsFilter();
o=v.getHtmlContent(o);
}if(true==q){n=this.get_filtersManager().getHtmlContent(o);
n=this._stripBodyTagFromContent(n);
}else{n=this.get_fullPage()?$telerik.getOuterHtml(o):o.innerHTML;
}}if(this.get_fullPage()&&this._doctypeString){n=this._doctypeString+"\n"+n;
}if(this.get_enableImmutableElements()&&l&&l.length){n=c.Editor.Utils.setImmutablesHtml(n,this);
c.Editor.Utils.restoreImmutableElements(this);
}return n;
},set_initialContent:function(l){if(l!=null){this._initialContent=l;
}else{this._initialContent=this.get_html(true);
}},get_initialContent:function(){return this._initialContent;
},get_text:function(p){var m=this;
var n="";
var o=m.get_mode()==c.EditModes.Html;
var l=o?m.get_textArea():m.get_contentArea();
if(l){n=l[o?"value":"innerHTML"];
}var q=b.Utils._stripAllExceptNewLines(m,n);
q=q.replace(/<\/?[^>]*>/ig,"\n");
if(p){if(p.trimText){q=q.replace(/(^\s+)|(\s+$)/g,"");
}if(p.removeMultipleSpaces){q=q.replace(/ +/g," ");
}}return q;
},_getUniqueStyleSheetId:function(l){return"RADEDITORSTYLESHEET"+l;
},_getAllSheets:function(n){if(!n){alert(this.get_localization()["getallsheetscalledwithnodocumenterror"]);
}var m=n.getElementsByTagName("link");
var p=n.getElementsByTagName("style");
var l=[];
var q;
for(q=0;
m[q];
q++){var o=m[q].rel?m[q].rel:m[q].getAttribute("rel");
if(typeof(o)=="string"&&o.toLowerCase().indexOf("style")+1){Array.add(l,m[q]);
}}for(q=0;
p[q];
q++){Array.add(l,p[q]);
}return l;
},_getClassName:function(n){var o=n&&n.selectorText?n.selectorText:"";
var m=o.lastIndexOf(".");
if(m==-1){return"";
}var l=o.indexOf(" ",m);
if(-1==l){l=o.indexOf(":",m);
}if(-1==l){l=o.length;
}return o.substring((m+1),l);
},_createCssFilterObject:function(){if(this._cssClassesHash){return;
}var l=this.get_cssClasses();
if(l&&l.length>0){var o={};
var n=l.length;
for(var m=0;
m<n;
m++){var p=l[m][0];
var q=l[m][1];
o[p.replace(/(.*?)\./ig,function(r){return r.toUpperCase();
})]=q;
}this._cssClassesHash=o;
}},_getFilteredCssClasses:function(o){this._createCssFilterObject();
if(o&&this._cssClassesHash){var l=[];
var n=o.length;
for(var m=0;
m<n;
m++){var q=o[m];
var p=this._checkCssFilter(q[1].selectorText);
if(p){q[2]=p;
l[l.length]=q;
}}return l;
}else{return o;
}},_checkCssFilter:function(l){if(!l||!this._cssClassesHash){return null;
}return this._cssClassesHash[l.replace(/(.*?)\./ig,function(m){return m.toUpperCase();
})];
},getCssArray:function(q){var o=this.get_document();
var n=[];
for(var m=0;
m<o.styleSheets.length;
m++){var p=o.styleSheets[m];
try{this._getStyleSheetRules(n,p,q);
}catch(l){}}n=this._getFilteredCssClasses(n);
return n;
},_getStyleSheetRules:function(n,u,v){var m=u.href;
if(m&&m.indexOf("WebResource.axd?")>-1){return;
}if(m&&m.indexOf(this.get_contentAreaCssFile())>-1){return;
}var l=(u.rules)?u.rules:u.cssRules;
if($telerik.isIE&&u.imports){for(var p=0;
p<u.imports.length;
p++){this._getStyleSheetRules(n,u.imports[p],v);
}}for(var o=0;
o<l.length;
o++){var s=l[o];
if(s&&s.cssText){var w=s.cssText.toLowerCase();
if(w.indexOf("@import")>=0&&s.parentStyleSheet&&s.styleSheet&&s.parentStyleSheet!=s.styleSheet){this._getStyleSheetRules(n,s.styleSheet,v);
continue;
}}var t=s&&s.selectorText?s.selectorText:"";
var q=t.lastIndexOf(".");
if(q<0){continue;
}q=t.lastIndexOf(":");
if(q>0){continue;
}var r=this._getClassName(s);
if(r!="reContentArea"){n[n.length]=[r,s];
}}},copyStyleSheets:function(z,C){if(null==z&&null==C){return;
}var m=0;
var D=null;
if(C.styleSheets.length==0){if(C.createStyleSheet){C.createStyleSheet();
}else{var n=C.createElement("style");
n.media="all";
n.type="text/css";
var v=C.getElementsByTagName("head")[0];
v.appendChild(n);
D=n;
}}if(C.styleSheets[0]){D=C.styleSheets[0];
}for(var q=0;
q<z.styleSheets.length;
q++){try{var A=z.styleSheets[q];
var o=A.href;
var t=false;
if($telerik.isFirefox){if(A.ownerNode&&A.ownerNode.tagName.toLowerCase()=="style"){t=true;
}}if(o&&!t){continue;
}if(A.media){var s=A.media;
if(s.mediaText!=null){s=s.mediaText;
}if(s&&s!="all"&&s!="screen"){continue;
}}var l=(A.rules)?A.rules:A.cssRules;
for(var r=0;
r<l.length;
r++){var x=l[r];
if(D.addRule){var y=x.selectorText;
var u=x.style.cssText;
if(u&&y){D.addRule(y,u,m);
}}else{if(D.insertRule){D.insertRule(x.cssText,m);
}else{var B=x.selectorText+"{"+x.style.cssText+"}";
var w=C.createTextNode(B);
D.appendChild(w);
}}m++;
}}catch(p){}}},_contentAreaCommonInitialization:function(){var l=c.Editor.PopupController;
if(l){l.detachFromDocument(this.get_document());
l.attachToDocument(this.get_document());
}this._initEvents();
if(this.isVisible()){this.raiseEvent("firstShow");
}if(this.get_mode()!=c.EditModes.Preview){this.set_editable(true);
}else{this.set_editable(false);
}this.toggleEnhancedEdit(true);
if(this.get_document()&&this.get_contentArea()){this.raiseEvent("editReady",Sys.EventArgs.Empty);
}this._divContentAreaInitialized=true;
},_contentFrameLoadFunction:function(){this._execLoadFunctionSecondTime=false;
try{this.set_document(this.get_contentAreaElement().contentWindow.document);
this.set_contentWindow(this.get_contentAreaElement().contentWindow);
var l=this.get_document().body;
this.set_contentArea(l);
this.get_filtersManager().getDesignContentDom(l);
var s=0;
c.Editor.Utils.addStyleSheet(this.get_contentAreaCssFile(),this.get_document(),this._getUniqueStyleSheetId(s++));
var u=this.get_tableLayoutCssFile();
if(u){c.Editor.Utils.addStyleSheet(u,this.get_document(),this._getUniqueStyleSheetId(s++));
}var m=this.get_cssFiles(),p,t;
if(m.length>0){for(p=0;
p<m.length;
p++){t=this._getUniqueStyleSheetId(s++);
c.Editor.Utils.addStyleSheet(m[p],this.get_document(),t);
}}else{if(!this.get_fullPage()){this.copyStyleSheets(document,this.get_document());
var r=this._getAllSheets(document);
for(p=0;
p<r.length;
p++){t=this._getUniqueStyleSheetId(s++);
var q=r[p];
if(q.tagName=="LINK"){var n=q.href;
if(!n||n.indexOf("WebResource.axd?")>-1){continue;
}if(q.rel&&q.rel.toLowerCase()!="stylesheet"){continue;
}if(q.media&&q.media!="all"&&q.media!="screen"){continue;
}c.Editor.Utils.addStyleSheet(q.getAttribute("href"),this.get_document(),t);
}}}}this._contentAreaCommonInitialization();
}catch(o){}},_extractDoctype:function(l){var m=new RegExp("(<!DOCTYPE[^>]+>)","g");
var n=l.match(m);
return n?n[0]:"";
},_setEmptyMessage:function(l){if(this.get_mode()!=c.EditModes.Design){return;
}if(l!=null){var n=this.get_contentArea().innerHTML.trim();
if(n&&n!="<br>"&&n!="<p>&nbsp;</p>"&&n!="<br />"){return;
}}var p=this.get_emptyMessage();
if(p){if(!this._emptyMessageContainer){var o=this._emptyMessageContainer=document.createElement("div");
var m=this.get_contentAreaElement();
m.parentNode.insertBefore(o,m);
o.style.zIndex=m.style.zIndex+1;
o.style.position="absolute";
$telerik.addCssClasses(o,["reEmptyMessage"]);
if($telerik.isIE&&!$telerik.isIE9Mode){o.style.filter="alpha(opacity=40)";
}else{o.style.opacity="0.4";
}c.Editor.Utils.setElementInnerHtml(o,p);
this.add_selectionChange(Function.createDelegate(this,this._hideEmptyMessageOnSelectionChange));
$addHandlers(o,{mousedown:this._hideEmptyMessageOnMouseDown},this);
$addHandlers(m,{blur:this._setEmptyMessage},this);
}else{this._emptyMessageContainer.style.display="";
}}},_hideEmptyMessageOnSelectionChange:function(l){this._hideEmptyMessage();
},_hideEmptyMessageOnMouseDown:function(l){if(this._emptyMessageContainer){if(l.rawEvent.preventDefault){l.rawEvent.preventDefault();
}l.returnValue=false;
this.raiseEvent("selectionChange",Sys.EventArgs.Empty);
var m=this;
setTimeout(function(){m.setFocus();
},0);
return false;
}},_hideEmptyMessage:function(){this._emptyMessageContainer.style.display="none";
},_setContentAreaHtml:function(q,p){if(!q||q.trim().length==0){this._setEmptyMessage();
}var r=this.get_filtersManager().getDesignContent(q);
var s=null;
if(-1!=r.toLowerCase().indexOf("<html")){this.set_fullPage(true);
s=r;
this._doctypeString=this._extractDoctype(s);
}else{this.set_fullPage(false);
}if(this.get_fullPage()&&this.get_contentAreaMode()==c.EditorContentAreaMode.Div){alert(this.get_localization()["SetToIframeForFullHTMLError"]);
r=Telerik.Web.UI.Editor.Utils.stripHtmlHeadBodyTags(r);
this.set_fullPage(false);
}r=this._markExistingEmptyParagraphs(r);
if(this.get_contentAreaMode()==c.EditorContentAreaMode.Div){this.set_contentArea(this.get_contentAreaElement());
var l=this.get_contentArea();
this.set_document(l.ownerDocument);
this.set_contentWindow(window);
if(r.match(/<form[\s>]/i)){alert(this.get_localization()["FormElementsAreSupportedByIframeError"]);
r="";
}c.Editor.Utils.setElementInnerHtml(l,r);
this.get_filtersManager().getDesignContentDom(l);
if(!this._divContentAreaInitialized){this._contentAreaCommonInitialization();
}}else{if(null!=s||true==p){if(!s){if($telerik.isSafari){s="<!DOCTYPE html><html><head><style></style></head><body>"+r+"</body></html>";
}else{var u="";
if($telerik.isOpera){u=" style='height:100%'";
}s="<head><style></style></head><body"+u+">"+r+"</body>";
}}if($telerik.isFirefox){var t=Function.createDelegate(this,function(){if(this._execLoadFunctionSecondTime){this._contentFrameLoadFunction();
}});
$addHandler(this.get_contentAreaElement(),"load",t);
}try{var m=this.get_contentAreaElement().contentWindow.document;
m.open();
m.write(s);
m.close();
this._execLoadFunctionSecondTime=false;
if(m.body){this._contentFrameLoadFunction();
}else{this._execLoadFunctionSecondTime=true;
}}catch(o){}}else{c.Editor.Utils.setElementInnerHtml(this.get_contentArea(),r);
this.get_filtersManager().getDesignContentDom(this.get_contentArea());
}}var n=this._checkForBrokenParagraphs();
if(n){this._fixBrokenParagraphs(r);
}},_markExistingEmptyParagraphs:function(l){var m=l+"";
m=m.replace(/<p><\/p>|<p([^>]+)><\/p>|<p[^\/+]\/>/gi,'<p$1 _rdEditor_exists="1">&nbsp;</p>');
return m;
},_checkForBrokenParagraphs:function(){var o=false;
var n=this.get_contentArea().getElementsByTagName("p");
for(var l=n.length-1;
l>=0;
l--){var m=n[l];
if(!m.hasChildNodes()){if(!m.getAttribute("_rdEditor_exists")){o=true;
}}m.removeAttribute("_rdEditor_exists");
}return o;
},_fixBrokenParagraphs:function(l){if(this.get_contentAreaMode()!=c.EditorContentAreaMode.Div){l=Telerik.Web.UI.Editor.Utils.stripHtmlHeadBodyTags(l);
}var m=this.get_contentArea();
l=l.replace(/<p ([^>]+)>|<p>/ig,'<div $1 _rdEditor_temp="1">');
l=l.replace(/<\/p>/gi,"</div>");
c.Editor.Utils.setElementInnerHtml(m,l);
var r=m.getElementsByTagName("DIV");
for(var n=r.length-1;
n>=0;
n--){var q=r[n];
if(q.getAttribute("_rdEditor_temp")){var s=this.get_document().createElement("P");
$telerik.getOuterHtml(q.cloneNode(false)).replace(/([a-z0-9\-_]+)=/gi,function(u,p){var v;
if(p.toLowerCase()!=="_rdeditor_temp"){v=q.getAttribute(p);
if(!v&&p==="class"){v=q.className;
}s.setAttribute(p,v);
}});
for(var o=0;
o<q.childNodes.length;
o++){s.appendChild(q.childNodes[o].cloneNode(true));
}if(q.swapNode){q.swapNode(s);
}else{var t=q.parentNode;
t.insertBefore(s,q);
t.removeChild(q);
}}}this.get_filtersManager().getDesignContentDom(m);
},_createUI:function(){if(this._created){return;
}this._registerModeChangeHandler(true);
this._tableElement=this.get_mainTable();
var l=$get(this.get_id()+"Center");
var m=this.get_contentAreaElement();
if($telerik.isMobileSafari&&this.get_contentAreaMode()==c.EditorContentAreaMode.Iframe){var n=document.createElement("div");
a(n).addClass("reIframeWrapperIOS");
n.appendChild(m);
l.appendChild(n);
this._contentAreaWrapper=n;
}else{l.appendChild(m);
}this._created=true;
},repaint:function(){c.RadEditor.callBaseMethod(this,"repaint");
var l=this.get_toolAdapter();
l.repaint(true);
this._sizer.onRepaint(this.isVisible());
},_updateEditorSize:function(l,m){this.repaint();
},_fixMoreSizeIssues:function(){this.repaint();
},_setElementStyleProperty:function(l,m,n){l.style[m]=n;
},setSize:function(m,l){this._sizer.setEditorSize(m,l);
},pasteHtml:function(q,p,o,n,m){if(!this.get_editable()){return;
}this._disposeElementResizableWidget();
if(q.match(/^<script/ig)){q="<span id='_rdEditor_temp'>&nbsp;</span>"+q;
}var l=new c.EditorCommandEventArgs(p,null,q);
if(false==this._executeCommandEvent("pasteHtml",p,l)){return;
}if(q!=l.get_value()){q=l.get_value();
}var r=this.getLocalizedString(p);
var s=this.get_mode();
if(c.EditModes.Design==s){this.setFocus();
this._fireDeleteSelectionCmd(true);
var w=new c.Editor.PasteHtmlCommand(r,this.get_contentWindow(),q,o,this);
this.executeCommand(w,null,m);
if(n!=false){this.raiseEvent("selectionChange",Sys.EventArgs.Empty);
}}else{if(c.EditModes.Html==s){var y=this.get_textArea();
if(this.isIE&&this.get_document().selection){y.setActive();
var x=document.selection.createRange();
x.text=q;
}else{if(y.setSelectionRange){var v=y.selectionStart;
var u=y.selectionEnd;
var t=q;
y.value=y.value.substring(0,v)+t+y.value.substring(u);
y.setSelectionRange(v+t.length,v+t.length);
this.setFocus();
}}}}a("#_rdEditor_temp",this.get_document()).remove();
},fire:function(n,l){if(n!="Copy"){this._saveTypedContent(true,"editor.fire Copy executing");
}if(false==this._executeCommandEvent("commandExecuting",n,l)){return;
}if(this._optionalIgnoredTools&&!this._optionalIgnoredTools[n]){return;
}this.setActive();
this._pendingTextTypeCmd=null;
var o=c.Editor.CommandList[n];
var t=false;
if(o){t=(false!=o(n,this,l));
}else{alert("The command "+n+" is not implemented yet.");
}if(t){if(!$telerik.isOpera){this.setFocus();
}this.raiseEvent("selectionChange",Sys.EventArgs.Empty);
}if((this.get_enableTrackChanges()||this.get_enableComments())&&(n=="Copy"||n=="Cut")){var q=Telerik.Web.UI.Editor.TrackChangesSelection.locateElementInRange(this.getSelection().getRange(),"placeholder");
var s=(q.inRange&&q.rangeType=="Selectable")?"PlaceHolder":"";
var r=this.createRestorePoint();
var m={contentFromEditor:true,contentHTML:Telerik.Web.UI.Editor.Utils.getClipboardAsHtml(this),fromSelectionType:s};
this.set_clipboardData(m);
r.select();
}this._executeCommandEvent("commandExecuted",n,l);
try{if(n=="Undo"&&!$telerik.isIE&&this.get_contentArea().innerHTML.toLowerCase().trim()=="<br>"){this.get_contentArea().innerHTML="<br>";
}}catch(p){}},_executeCommandEvent:function(n,m,l){if(!l){l=new c.EditorCommandEventArgs(m);
}this.raiseEvent(n,l);
return !(l.get_cancel&&l.get_cancel());
},_onWindowResize:function(){var l=this._getViewportBounds();
this.setSize(l.width,l.height,false);
},_registerWindowResizeHandler:function(l){if(l){this._onWindowResizeDelegate=Function.createDelegate(this,this._onWindowResize);
$addHandler(window,"resize",this._onWindowResizeDelegate);
}else{if(this._onWindowResizeDelegate){$removeHandler(window,"resize",this._onWindowResizeDelegate);
this._onWindowResizeDelegate=null;
}}},_getViewportBounds:function(){var l=$telerik.getClientBounds();
var m=document.documentElement.scrollLeft||document.body.scrollLeft;
var n=document.documentElement.scrollTop||document.body.scrollTop;
l.scrollLeft=m;
l.scrollTop=n;
return l;
},_handleParentsWithOverflow:function(r){var l,q;
if(false==r){if(!this._parentsWithOverflow){return;
}l=this._parentsWithOverflow;
var n=l.length;
for(var m=0;
m<n;
m++){var o=l[m];
if(o[0]){q=o[0].style;
q.overflow=o[1];
q.height=o[2];
q.tableLayout=o[3];
q.position=o[4];
}}this._parentsWithOverflow=null;
}else{this._parentsWithOverflow=[];
l=this._parentsWithOverflow;
var p=this.get_element().parentNode;
while(p&&p.tagName!="BODY"){q=p.style;
l[l.length]=[p,q.overflow,q.height,q.tableLayout,q.position];
q.position="static";
q.tableLayout="auto";
q.overflow="visible";
q.height="auto";
p=p.parentNode;
}}},isFullScreen:function(){return this._isFullScreen;
},_disableBodyScroll:function(){this._preFullScreenBodyStyle=[document.body.scroll,document.body.style.margin,""];
document.body.scroll="no";
document.body.style.margin="0px";
if(document.documentElement){this._preFullScreenBodyStyle[2]=document.documentElement.style.overflow;
document.documentElement.style.overflow="hidden";
}this._handleParentsWithOverflow(true);
},_enableBodyScroll:function(){if(!this._preFullScreenBodyStyle){return;
}document.body.scroll=this._preFullScreenBodyStyle[0];
try{document.body.style.margin=this._preFullScreenBodyStyle[1];
}catch(l){}document.documentElement.style.overflow=this._preFullScreenBodyStyle[2];
this._handleParentsWithOverflow(false);
this._preFullScreenBodyStyle=null;
},toggleScreenMode:function(){var m=this;
var o=m.get_element();
if(!m._isFullScreen){this._disableBodyScroll();
m._isFullScreen=true;
var p=o.style.height;
if(p=="auto"||isNaN(parseInt(p,10))){p=o.offsetHeight+"px";
}var q=o.style.width;
if(q=="auto"||isNaN(parseInt(q,10))){q=o.offsetWidth+"px";
}m._preFullScreenBounds={width:q,height:p};
m._onWindowResize();
if($telerik.isOpera){o.style.position="fixed";
o.style.left="0px";
o.style.top="0px";
}else{m._preFullScreenBrowserRect=m._getViewportBounds();
var n=$telerik.getLocation(o);
setTimeout(function(){c.Editor.Utils.restoreBrowserPosition(n.x,n.y);
},0);
}m._registerWindowResizeHandler(true);
if(this._resizeExtender){this._resizeExtender.enable(false);
$telerik.setVisible(this._bottomResizer,false);
}}else{m._registerWindowResizeHandler(false);
this._enableBodyScroll();
m._isFullScreen=false;
var l=m._preFullScreenBounds;
m.setSize(l.width,l.height,false);
if($telerik.isOpera){o.style.position="";
o.style.left="";
o.style.top="";
}else{var r=m._preFullScreenBrowserRect;
c.Editor.Utils.restoreBrowserPosition(r.scrollLeft,r.scrollTop);
}if(this._resizeExtender){this._resizeExtender.enable(true);
$telerik.setVisible(this._bottomResizer,true);
}}m.set_editable(true);
m.setFocus();
var s=m.getToolByName("ToggleScreenMode");
if(s){s.setOn(m._isFullScreen);
}this.raiseEvent("toggleScreenMode",Sys.EventArgs.Empty);
},validateMaxTextLength:function(o){var n=this.get_maxTextLength();
if(n>0){if(!o){o="";
}var l=this.get_text(true)+o;
var m=b.Utils._getCharactersCount(l);
return n>=m;
}return true;
},validateMaxHtmlLength:function(l){var m=this.get_maxHtmlLength();
if(m>0){if(!l){l="";
}return m>=this.get_html(true).length+l.length;
}return true;
},displayMaxHtmlLengthErrorMessage:function(){alert(this.get_localization()["exceededhtmllength"]+" "+this.get_maxHtmlLength()+". "+this.get_localization()["reducetheconentlength"]+".");
},displayMaxTextLengthErrorMessage:function(){alert(this.get_localization()["exceededtextlength"]+" "+this.get_maxTextLength()+". "+this.get_localization()["reducetheconentlength"]+".");
},get_contentHiddenTextareaValue:function(){if(this._contentHiddenTextarea){return c.Editor.Utils.decodePostbackContent(this._contentHiddenTextarea.value);
}else{return"";
}},set_contentHiddenTextareaValue:function(l){$telerik.$(this._contentHiddenTextarea).text(c.Editor.Utils.encodePostbackContent(l));
},get_localization:function(){return this._localization;
},_createIframe:function(){var l=document.createElement("iframe");
l.frameBorder="0";
l.src="javascript:'<html></html>';";
var m=l.style;
m.width="100%";
m.height="2px";
m.margin="0px";
m.padding="0px";
return l;
},get_contentAreaElement:function(){if((this.get_contentAreaMode()==c.EditorContentAreaMode.Iframe)&&(this._contentAreaElement&&(!this._contentAreaElement.contentWindow||!this._contentAreaElement.contentWindow.document))){if(this._contentAreaElement.parentNode){this._contentAreaElement.parentNode.removeChild(this._contentAreaElement);
}this._contentAreaElement=null;
}if(!this._contentAreaElement){var l;
if(this.get_contentAreaMode()==c.EditorContentAreaMode.Div){l=document.createElement("div");
l.setAttribute("id",this.get_id()+"_contentDiv");
l.className="reContentArea";
}else{l=this._createIframe();
if(!$telerik.isIE){l.innerHTML="Your browser does not support inline frames or is currently configured not to display inline frames.";
}l.setAttribute("id",this.get_id()+"_contentIframe");
}l.setAttribute("title","Rich text editor with ID "+this.get_id());
this._contentAreaElement=l;
if(this.get_enableAriaSupport()){this._contentAreaElement.setAttribute("role","textbox");
}}return this._contentAreaElement;
},get_shortCutManager:function(){return this._shortCutManager;
},get_filtersManager:function(){return this._filtersManager;
},get_commandsManager:function(){return this._commandsManager;
},get_modulesManager:function(){return this._modulesManager;
},get_useClassicDialogs:function(){return this.get_dialogOpener().get_useClassicDialogs();
},set_useClassicDialogs:function(l){this.get_dialogOpener().set_useClassicDialogs(l);
},get_qualifiedSkin:function(){var l=this.get_skin();
return"RadEditor."+l;
},_applyAriaSupport:function(){this.get_element().setAttribute("role","presentation");
var r=this.get_toolContainer();
this._applyAriaForLayoutTables();
var o;
if(r){r.setAttribute("role","toolbar");
var s=r.getElementsByTagName("ul");
for(o=0;
o<s.length;
o++){s[o].setAttribute("role","presentation");
}}var p=this._getModeButtonsWrapper();
p.setAttribute("role","presentation");
var l=p.getElementsByTagName("*");
for(o=0;
o<l.length;
o++){var m=l[o];
var q=m.tagName.toLowerCase()=="a"?"button":"presentation";
m.setAttribute("role",q);
}var n=this._contentHiddenTextarea;
if(n){n.setAttribute("aria-hidden","true");
}},_applyAriaForLayoutTables:function(){var o=this.get_mainTable();
if(o){o.setAttribute("role","presentation");
}var l=$get(this.get_id()+"_BottomTable");
if(l){l.setAttribute("role","presentation");
}var r=o.getElementsByTagName("tr");
for(var m=0;
m<r.length;
m++){var q=r[m];
q.setAttribute("role","presentation");
var p=q.getElementsByTagName("td");
for(var n=0;
n<p.length;
n++){p[n].setAttribute("role","presentation");
}}},_updateHiddenTextarea:function(){var s=this.get_html(true);
if(this.get_mode()==c.EditModes.Html&&this.get_contentFilters()!=c.EditorFilters.None){if(!this._textSubmitFrame){var p=this._createIframe();
if(p){this._textSubmitFrame=p;
var q=this._textSubmitFrame.style;
q.position="absolute";
q.height="0px";
q.width="0px";
this.get_contentAreaElement().parentNode.appendChild(this._textSubmitFrame);
}}if(this._textSubmitFrame){var n=this._textSubmitFrame.contentWindow.document;
var o=this.get_filtersManager().getDesignContent(s);
var r=-1!=o.toLowerCase().indexOf("<html");
var l=r?this._extractDoctype(o):"";
if(!$telerik.isIE6||window.location.protocol!="https:"){n.designMode="off";
}var t=n.open("text/html","replace");
var v=r?o:"<html><head><title>New Document</title></head><body>"+o+"</body></html>";
if(typeof(t)=="undefined"){t=n;
}t.write(v);
t.close();
if(t.body){this.get_filtersManager().getDesignContentDom(t.body);
var m=r?t.getElementsByTagName("HTML")[0]:t.body;
s=l+this.get_filtersManager().getHtmlContent(m);
s=this._stripBodyTagFromContent(s);
}}}if(this.get_mode()==c.EditModes.Preview){Telerik.Web.UI.Editor.Utils.restoreTargetsAfterPreview(this);
}if(this.get_enableImmutableElements()){var u=new RegExp(" "+c.Editor.Utils.immutableElementId+"=['\"]?[0-9]{13}['\"]?","gm");
s=s.replace(u,"");
}this.set_contentHiddenTextareaValue(s);
return s;
},_stripBodyTagFromContent:function(m){m=m.trim();
var n=(this.get_contentAreaMode()==c.EditorContentAreaMode.Div)?"<div":"<body";
var l=m.match(new RegExp(n+"[^>]*>","i"));
if(l&&l.index==0){m=m.substring(m.indexOf(">")+1,m.length-2-n.length);
m=m.trim();
}return m;
},_registerClientValidation:function(){if(typeof(Page_ClientValidate)=="function"){var l=Page_ClientValidate;
Page_ClientValidate=Function.createDelegate(this,function(o){var m=this.get_element();
if(m){var n=this._updateHiddenTextarea();
m.value=n;
m.setAttribute("value",n);
}m=null;
return l(o);
});
}},saveContent:function(m,l){if(this._saveContentDelegate){var n=null;
if(!this.validateMaxHtmlLength()){n=1;
}else{if(!this.validateMaxTextLength()){n=2;
}}if(n){if(l){if(l.set_cancel){l.set_cancel(true);
}}else{if(n==1){this.displayMaxHtmlLengthErrorMessage();
}else{if(n==2){this.displayMaxTextLengthErrorMessage();
}}}$telerik.cancelRawEvent(m);
return false;
}else{this.raiseEvent("submit",Sys.EventArgs.Empty);
this._updateHiddenTextarea();
}}},_registerPostBackHandlers:function(){this._saveContentDelegate=Function.createDelegate(this,this.saveContent);
var m=this._contentHiddenTextarea.form;
if(m){$telerik.addExternalHandler(m,"submit",this._saveContentDelegate);
}if(typeof(__doPostBack)!="undefined"){var r=this._saveContentDelegate;
var p=__doPostBack;
__doPostBack=function(u,t){r();
p(u,t);
};
}if(typeof(Sys.WebForms)!="undefined"&&typeof(Sys.WebForms.PageRequestManager)!="undefined"){var o=Sys.WebForms.PageRequestManager.getInstance();
if(o){if(null!=o._originalDoPostBack){var s=this._saveContentDelegate;
var q=o._originalDoPostBack;
o._originalDoPostBack=function(u,t){s();
q(u,t);
};
}if(null!=o._onSubmitStatements&&!$telerik.isIE){var n=this;
var l={};
Array.add(o._onSubmitStatements,function(){var t=n.saveContent(null,l);
return(t!=j)?t:true;
});
}else{o.add_initializeRequest(this._saveContentDelegate);
}}o=null;
}m=null;
},toggleEnhancedEdit:function(n){if(this.get_contentAreaMode()==c.EditorContentAreaMode.Div){var l=this.get_contentArea();
if(typeof(n)=="undefined"||null==n){n=(l.className.indexOf("reContentAreaToggle")>-1)?false:true;
}if(n){Sys.UI.DomElement.addCssClass(l,"reContentAreaToggle");
}else{Sys.UI.DomElement.removeCssClass(l,"reContentAreaToggle");
}this.updateToggleTableBorderToolState(n);
return n;
}else{if($telerik.isSafari&&typeof(n)!="undefined"&&false==this.disableContentAreaStylesheet(n)){var m=this;
setTimeout(function(){m.disableContentAreaStylesheet(n);
},200);
}else{return this.disableContentAreaStylesheet(n);
}}},disableContentAreaStylesheet:function(n){var m=this.get_document();
if(!m||!m.getElementById){return false;
}var l=m.getElementById(this._getUniqueStyleSheetId(0));
if(l){if(n==null){n=l.disabled;
}l.disabled=!n;
this.updateToggleTableBorderToolState(n);
return n;
}else{return false;
}},updateToggleTableBorderToolState:function(m){var l=this.getToolByName("ToggleTableBorder");
if(l&&l.setOn){l.setOn(m);
}},pasteHyperLink:function(q,m){var l=this.getSelection().getParentElement();
var p=l.parentNode;
if(l!=null&&l.tagName=="A"&&($telerik.isFirefox||($telerik.isIE&&l.style.cssText!=""&&!((p.tagName=="FONT"||p.tagName=="SPAN")&&p.children.length==1)))){l.parentNode.removeChild(l);
}else{if($telerik.isSafari&&p&&p.nodeName=="A"){p.parentNode.removeChild(p);
}else{this.fire("Unlink");
}}var n=c.Editor.Utils.getOuterHtml(q);
if($telerik.isIE){n=this._replaceHeadingInsideLink(n);
if(q.getElementsByTagName("P").length==1){n=this.replaceParagraphAndAnchor(n);
var o=l;
while(o){if(o.tagName=="P"){o.parentNode.removeChild(o);
break;
}o=o.parentNode;
}}}n=n.replace(/<br[^>]*><\/a>$/ig,"</a><br />");
this.pasteHtml(n,m);
},replaceParagraphAndAnchor:function(l){var m=l+"";
m=m.replace(/(<A[^>]*>)\s*(<P[^>]*>)/ig,"$2$1");
m=m.replace(/(<\/P[^>]*>)\s*(<\/A[^>]*>)/ig,"$2$1");
return m;
},_replaceHeadingInsideLink:function(l){var m=l+"";
m=m.replace(/(<A[^>]*>)\s*(<h\d{1}[^>]*>)/ig,"$2$1");
m=m.replace(/(<\/h\d{1}[^>]*>)\s*(<\/A[^>]*>)/ig,"$2$1");
return m;
},_saveTypedContent:function(m,l){if(this._pendingTextTypeCmd){this._pendingTextTypeCmd.update();
}if(true!=m){this._pendingTextTypeCmd=null;
}},_attachBodyHandlers:function(n){var l=null;
if(this.get_document()&&this.get_contentArea()){l=this.get_contentArea();
}if(!l){return;
}if(n){this._onResizeStartDelegate=Function.createDelegate(this,this._onResizeStart);
this._onResizeEndDelegate=Function.createDelegate(this,this._onResizeEnd);
this._onDropDelegate=Function.createDelegate(this,this._onDrop);
$telerik.addExternalHandler(l,"resizestart",this._onResizeStartDelegate);
$telerik.addExternalHandler(l,"resizeend",this._onResizeEndDelegate);
$telerik.addExternalHandler(l,"drop",this._onDropDelegate);
if($telerik.isIE||$telerik.isFirefox){this._onDragEndDelegate=Function.createDelegate(this,this._onDragEnd);
this._onDragStartDelegate=Function.createDelegate(this,this._onDragStart);
$telerik.addExternalHandler(l,"dragend",this._onDragEndDelegate);
$telerik.addExternalHandler(l,"dragstart",this._onDragStartDelegate);
}var m=this._shouldAutoResizeHeight();
if(($telerik.isIE6||$telerik.isIE7||$telerik.isIE8)&&!m){this._onEditorResizeDelegate=Function.createDelegate(this,this._onEditorResizing);
$telerik.$(this.get_element()).on("resize",this._onEditorResizeDelegate);
}this._onPasteDelegate=Function.createDelegate(this,l.setActive&&l.ownerDocument.queryCommandSupported("Paste")?this._onPaste:this._onBeforePaste);
$telerik.addExternalHandler(l,"paste",this._onPasteDelegate);
if(m){this._resizeContentAreaDelegate=Function.createDelegate(this,this._resizeContentArea);
$telerik.addExternalHandler(l,"keyup",this._resizeContentAreaDelegate);
}}else{if(this._onResizeStartDelegate){$telerik.removeExternalHandler(l,"resizestart",this._onResizeStartDelegate);
}if(this._onResizeEndDelegate){$telerik.removeExternalHandler(l,"resizeend",this._onResizeEndDelegate);
}if(this._onDropDelegate){$telerik.removeExternalHandler(l,"drop",this._onDropDelegate);
}if(this._onDragEndDelegate){$telerik.removeExternalHandler(l,"dragend",this._onDragEndDelegate);
}if(this._onDragStartDelegate){$telerik.removeExternalHandler(l,"dragstart",this._onDragStartDelegate);
}if(this._onEditorResizeDelegate){$telerik.$(this.get_element()).off("resize",this._onEditorResizeDelegate);
}if(this._resizeContentAreaDelegate){$telerik.removeExternalHandler(l,"keyup",this._resizeContentAreaDelegate);
}$telerik.removeExternalHandler(l,"paste",this._onPasteDelegate);
this._resizeContentAreaDelegate=null;
this._onEditorResizeDelegate=null;
this._onResizeStartDelegate=null;
this._onResizeEndDelegate=null;
this._onDropDelegate=null;
this._onDragEndDelegate=null;
this._onDragStartDelegate=null;
this._onPasteDelegate=null;
this._onBeforePasteDelegate=null;
}},_initEvents:function(){var l=this;
if(!this.isIE){this.attachInternalHandler("keypress",function(n){if(l._onKeyPressed(n)){n.preventDefault();
return false;
}});
if($telerik.isSafari){this.attachInternalHandler("click",Function.createDelegate(this,function(n){if(n.srcElement.tagName=="IMG"){this.selectElement(n.srcElement);
}}));
}if(this.isFirefox&&this.get_contentAreaMode()!=c.EditorContentAreaMode.Div){this.attachInternalHandler("click",function(n){if(!l.get_editable()){return;
}window.setTimeout(function(){l.set_editable(true);
l.setFocus();
},100);
});
}}this.attachInternalHandler("keypress",this._preventEnterPropagation);
this.attachInternalHandler("keydown",function(n){if(l.isOpera){return l._onKeyDown(n);
}else{l._onKeyDown(n);
}if($telerik.isSafari){var p=l._shortCutManager.isShortCutHit(n);
if(null!=p){var o=p.get_name();
switch(o){case"Bold":case"Italic":case"Underline":$telerik.cancelRawEvent(n);
break;
}}}});
this.attachInternalHandler("mousedown",function(){l.setActiveIfElementIsNotInContent();
l._saveTypedContent(false,"Saving typed content onmousedown");
l._mouseDownOnContentArea=true;
});
this.attachInternalHandler("keyup",Function.createDelegate(this,this._onKeyUp));
var m=Function.createDelegate(this,function(n){if(this.get_enableTrackChanges()||this.get_enableComments()){this._setCursorPosition();
}this.raiseEvent("selectionChange",Sys.EventArgs.Empty);
});
this.attachInternalHandler("mouseup",m);
if($telerik.isSafari){$addHandler(this.get_contentWindow().document,"mouseup",function(n){if(l._mouseDownOnContentArea){l.raiseEvent("selectionChange",Sys.EventArgs.Empty);
}l._mouseDownOnContentArea=false;
});
}$telerik.addExternalHandler(document.body,"dragend",Function.createDelegate(this,this._onDocumentDragEnd));
this._attachBodyHandlers(true);
},_initCleanUpModules:function(){this._innerListCleanUp=new b.InnerListDeleteCleanUp(this);
},_cleanUpAfterDelete:function(){this._innerListCleanUp.cleanUp();
},_setCursorPosition:function(){var l=0;
var n=this;
if(document.selection){try{var o=n.get_contentWindow().document.selection.createRange();
o.moveStart("character",-n.get_text().length);
l=o.text.length;
}catch(m){}}this._cursorPosition=l;
this._setCursorMoving(true);
},_setCursorMoving:function(l){this._isCursorMoving=l;
},_getCursorMoving:function(){return this._isCursorMoving;
},_shouldCancelKeyEvent:function(l){if(!$telerik.isFirefox){return false;
}if(!this.get_enableImmutableElements()){return false;
}if(l.ctrlKey||l.altKey){return false;
}var p=c.Editor.Utils,o=this.getSelection().getRange();
if(!o){return false;
}var m=function(q){return p.isTextNode(q)&&p.isImmutableNode(q);
};
if((o.collapsed&&m(o.commonAncestorContainer))||(m(o.startContainer)||m(o.endContainer))){var n=l.keyCode;
if(l.shiftKey&&n==13){return true;
}if(n==8||n==32||n==46){return true;
}if(!p.isSystemKey(n)&&!p.isCursorMovingKey(n)){return true;
}}return false;
},_onKeyDown:function(o){var p=this;
var x;
if(p.get_mode()==c.EditModes.Preview){return;
}if(p._shouldCancelKeyEvent(o)){return $telerik.cancelRawEvent(o);
}var s=o.keyCode;
var l=p.get_contentAreaMode();
var n=p.get_document();
if(l==c.EditorContentAreaMode.Iframe&&$telerik.isMobileSafari){this.setFocus();
}if(s==8||s==46){if(this._fireDeleteSelectionCmd(true,true)){return $telerik.cancelRawEvent(o);
}if(s==46){if($telerik.isOpera&&$telerik.OperaVersion<11){n.execCommand("Delete");
this.get_contentArea().contentEditable=true;
if(l!=c.EditorContentAreaMode.Div){n.designMode="on";
}this.get_contentArea().focus();
return $telerik.cancelRawEvent(o);
}}this._shortcutHit=false;
if(this.getSelectionHtml()){this._saveTypedContent(false,"Saving typed content before allowing delete to proceed..");
var t=this.getLocalizedString("Typing");
if(this.get_enableTrackChanges()){t=Telerik.Web.UI.Editor.TrackChangesCommandStrings.Delete;
}this._pendingTextTypeCmd=new c.Editor.TextTypeCommand(t,this.get_contentWindow(),this);
this._hasDeleteExecuted=true;
}if(this.isIE&&n.selection){var y=function(){var G=p.getSelectedElement();
if(G&&G.tagName=="EMBED"){G.setAttribute("hidden","true");
G.setAttribute("id","FileToDelete");
window.setTimeout(function(){var H=n.getElementById("FileToDelete");
if(H.parentNode&&H.parentNode.removeChild){H.parentNode.removeChild(H);
}},100);
$telerik.cancelRawEvent(o);
return true;
}};
var w=y();
if(w){return false;
}try{x=n.selection.createRange();
var v=null;
if(x&&x.duplicate){v=x.duplicate();
}if(8==o.keyCode){x.moveStart("character",-1);
}else{x.moveEnd("character",1);
}if(x.parentElement().tagName=="EMBED"){x.select();
y();
if(v&&v.select){v.select();
}}}catch(q){}var z=new c.Editor.Selection(this.get_contentWindow());
if(z&&z.isControl()){var r=false,A=null;
if(this.get_enableTrackChanges()||this.get_enableComments()){A=z.getParentElement();
if(A){if(A.getAttribute("Name")!=null){if(A.getAttribute("Name").indexOf("_wp")==0||A.getAttribute("Name").indexOf("forCaption")==0){r=true;
}}}}var B=z.getRange();
B.execCommand("Delete");
if(r){var F=new c.Editor.Selection(this._contentWindow);
A=F.getParentElement();
if(A){if(A.isContentEditable){A.removeNode();
}}}$telerik.cancelRawEvent(o);
}}if(this.get_enableTrackChanges()||this.get_enableComments()){if(s==8||s==46){var E=this.getToolByName("AddComment");
if(E){E.set_enabled(false);
}}}if($telerik.isFirefox||(s==8&&$telerik.isIE)){var m=new b.DeleteFix(p);
m.applyFix(o);
}return;
}var D=o.target?o.target:o.srcElement;
if(D&&"INPUT"!=D.tagName){var C=this._shortCutManager.isShortCutHit(o);
if(null!=C&&C.get_name()=="Copy"){this._shortcutHit=false;
return;
}this._shortcutHit=(null!=C);
if(this._shortcutHit){this.fire(C.get_name());
}else{if(c.Editor.Utils.isCursorMovingKey(o.keyCode)){if(!this._hasCursorMoved){this._saveTypedContent(false,"Saving typed content before letting the cursor move");
}this._hasCursorMoved=true;
return;
}if(32==o.keyCode||13==o.keyCode||!c.Editor.Utils.isSystemKey(o.keyCode)){this._fireDeleteSelectionCmd();
if(this._hasCursorMoved){this._pendingTextTypeCmd=new c.Editor.TextTypeCommand(this.getLocalizedString("Typing"),this.get_contentWindow(),this);
this.executeCommand(this._pendingTextTypeCmd);
this._hasCursorMoved=false;
return;
}if(!this._pendingTextTypeCmd){this._pendingTextTypeCmd=new c.Editor.TextTypeCommand(this.getLocalizedString("Typing"),this.get_contentWindow(),this);
this.executeCommand(this._pendingTextTypeCmd);
this.raiseEvent("selectionChange",Sys.EventArgs.Empty);
}}}if(this._shortcutHit){if($telerik.isIE||$telerik.isSafari){var u=C.get_name();
if(this.get_enableTrackChanges()||this.get_enableComments()){if($telerik.isSafari&&u=="Paste"){return;
}if(u=="Enter"){$telerik.cancelRawEvent(o);
return;
}if(u=="Cut"){if(!this.get_lockFormatting()||Telerik.Web.UI.Editor.CommandList.CopyFromEditor(this)){if(this._origCutRange!=null){this._origCutRange.select();
this._origCutRange=null;
}return true;
}}}else{if(u=="Cut"||u=="Paste"){return;
}}$telerik.cancelRawEvent(o);
}}}},_fireDeleteSelectionCmd:function(p,m){var o=this.shouldTrackChanges&&this.shouldTrackChanges();
var l=new c.Editor.DeleteSelectionCommand(this,{complete:m});
var n=l.getState(this.get_contentWindow(),this);
if(!o&&(n!==c.Editor.CommandStates.Disabled)){this.executeCommand(l,true,p);
return true;
}return false;
},_preventEnterPropagation:function(l){if(l.keyCode==Sys.UI.Key.enter){if(l.stopPropagation){l.stopPropagation();
}l.cancelBubble=true;
}},_onKeyUp:function(m){if(this.get_enableTrackChanges()||this.get_enableComments()){if(this.get_copyCommandHit()){var n=Telerik.Web.UI.Editor.TrackChangesSelection.locateElementInRange(this.getSelection().getRange(),"placeholder");
var p=(n.inRange&&n.rangeType=="Selectable")?"PlaceHolder":"";
var o=this.createRestorePoint();
var l={contentFromEditor:true,contentHTML:Telerik.Web.UI.Editor.Utils.getClipboardAsHtml(this),fromSelectionType:p};
this.set_clipboardData(l);
o.select();
}}this._cleanUpAfterDelete();
if(this._hasDeleteExecuted){if(this._pendingTextTypeCmd){this.executeCommand(this._pendingTextTypeCmd);
}this._pendingTextTypeCmd=null;
this._hasDeleteExecuted=false;
return;
}if(this._pendingTextTypeCmd){return;
}if(this._pendingCutPasteCommand){this.executeCommand(this._pendingCutPasteCommand);
this._pendingCutPasteCommand=null;
}if(this._shortcutHit){return false;
}this.raiseEvent("selectionChange",Sys.EventArgs.Empty);
},_onKeyPressed:function(l){if(!this._pendingTextTypeCmd){this.raiseEvent("selectionChange",Sys.EventArgs.Empty);
}if(this._shortcutHit&&!this._pendingCutPasteCommand){return true;
}},_onPaste:function(o){var n=this;
if(n.get_stripFormattingOptions()==c.StripFormattingOptions.NoneSupressCleanMessage){return;
}var p=n.getSelection().getRange(),m=c.Editor.Utils.getClipboardAsHtml(n),q=n.usesContentFilter("RemoveScripts"),l=c.Editor.Utils.cleanPastedContent(m,n.get_stripFormattingOptions(),n.get_localization()["askwordcleaning"],q,n);
if(l){window.setTimeout(function(){n.getSelection().selectRange(p);
n.pasteHtml(l,"Paste");
},5);
}return $telerik.cancelRawEvent(o);
},_onBeforePaste:function(r){if(!r){return;
}var o=this,y=b.Utils,m=o.get_document(),t=o.getSelection(),v=o.get_stripFormattingOptions(),u=!(v&c.StripFormattingOptions.AllExceptNewLines||v&c.StripFormattingOptions.All);
if(u&&!y.containsHtmlAtClipboard(r)){var q=new b.ClipboardImagesProvider().getImages(r);
if(q.length>0){var n=b.DomRange.toDomRange(t.getRange(true));
n.deleteContents();
for(var p=0;
p<q.length;
p++){n.insertNode(q[p]);
}return $telerik.cancelRawEvent(r);
}}if(v==c.StripFormattingOptions.NoneSupressCleanMessage){return;
}o._pendingCutPasteCommand=null;
var s=o.createRestorePoint(),l=o.get_contentArea(),x=c.Editor.Utils.getPasteContainer(l);
if(x.setActive){x.setActive();
}else{var w=m.createRange();
if(w.selectNodeContents){w.selectNodeContents(x);
}t.selectRange(w);
}if(!o.afterPasteDelegate){o.afterPasteDelegate=Function.createDelegate(o,o._onAfterPaste);
}window.setTimeout(function(){o.afterPasteDelegate(s,x);
},0);
},_onAfterPaste:function(p,q){var n=this,r=c.Editor.Utils;
var m=q.innerHTML;
if($telerik.isSafari){m=m.replace(/<div[^>]+class=\"telerik_paste_container\"[^>]*><br><\/div>/gi,"<br/>");
m=m.replace(/<div[^>]+class=\"telerik_paste_container\"[^>]*>(.*?)<\/div>/gi,"$1<br/>");
m=m.replace(/<br[/\s]*>$/i,"");
}r.clearPasteContainer(q);
p.select();
var o=n.usesContentFilter("RemoveScripts");
var l=r.cleanPastedContent(m,n.get_stripFormattingOptions(),n.get_localization()["askwordcleaning"],o,n);
n.pasteHtml(l,"Paste");
},_onResizeStart:function(l){var n=this.getSelectedElement();
if(n==l.srcElement){var m=this.get_localization()["ResizeCommand"]||"Resize";
this._pendingResizeCmd=new c.Editor.GenericCommand(m,this.get_contentWindow(),this);
}},onResizing:function(l){if($telerik.isMobileSafari&&this._contentAreaWrapper){this._contentAreaWrapper.style.height=l.height+"px";
}this.get_toolAdapter().repaint();
},_onResizeEnd:function(l){if(this._pendingResizeCmd){this.executeCommand(this._pendingResizeCmd);
}},_onDragStart:function(m){var l=this.get_contentWindow().document;
c.Editor.Utils.storeOriginalPathsAndAttributes(this.get_contentArea());
if($telerik.isFirefox){if(this.get_enableImmutableElements()&&m.target&&c.Editor.Utils.isImmutableNode(m.target)){return $telerik.cancelRawEvent(m);
}return;
}var q=this.get_localization()["MoveCommand"]||"Move";
this._pendingMoveCommand=new c.Editor.GenericCommand(q,this.get_contentArea(),this);
this._startRange=null;
if(!m.ctrlKey&&!m.ctrlLeft){this._startRange=l.selection?l.selection.createRange():l.body.createTextRange();
if(this._startRange.length){var p=l.body.createTextRange();
var n=this._startRange.item(0);
if("IMG"==n.tagName&&"A"==n.parentNode.tagName&&n.parentNode.childNodes.length==1){n=n.parentNode;
}c.Editor.Utils.storeOriginalPathsAndAttributes(n);
try{p.moveToElementText(n);
this._startRange=p;
}catch(o){}}}},_onDragEnd:function(m){var l=this.get_contentWindow().document;
c.Editor.Utils.restoreOriginalPathsAndAttributes(this.get_contentArea());
if($telerik.isFirefox){return;
}if(this._pendingMoveCommand){if(this._startRange){var p=l.selection?l.selection.createRange():l.body.createTextRange();
if(p.length){var q=l.body.createTextRange();
try{q.moveToElementText(p.item(0));
}catch(o){}p=q;
}try{if(p.compareEndPoints&&0!=p.compareEndPoints("StartToStart",this._startRange)&&0!=p.compareEndPoints("EndToEnd",this._startRange)){this._startRange.execCommand("Delete",false,null);
}}catch(n){}}this.executeCommand(this._pendingMoveCommand);
this._pendingMoveCommand=null;
this.raiseEvent("selectionChange",Sys.EventArgs.Empty);
}},_onDrop:function(l){setTimeout($telerik.$.proxy(function(){c.Editor.Utils.restoreOriginalPathsAndAttributes(this.get_contentArea());
},this),0);
this._saveTypedContent(false,"on drop operation executing");
var m=this.get_localization()["Drop"]||"Drop external content";
this._pendingDockCommand=new c.Editor.GenericCommand(m,this.get_contentWindow(),this);
},_onDocumentDragEnd:function(l){if(!this._pendingDockCommand){return;
}this.executeCommand(this._pendingDockCommand);
this._pendingDockCommand=null;
this.raiseEvent("selectionChange",Sys.EventArgs.Empty);
},_trackChangesLoad:function(){var l=this,m=l.getToolByName("EnableTrackChangesOverride");
if(m){m.setOn(l.get_enableTrackChanges()?0:1);
}this.set_canRejectTrackChange(l.set_canAcceptTrackChange());
if(l.get_enableComments()){Telerik.Web.UI.Editor.TrackChanges.initialize(l);
l.attachInternalHandler("onkeydown",function(n){Telerik.Web.UI.Editor.TrackChanges.checkInsertionPoint(l.getSelectedElement(),l);
});
}}};
a.registerControlProperties(c.RadEditor,{ajaxSpellCheckScriptReference:"",spellAllowAddCustom:true,spellCheckJSON:{},enableUndoRedo:true,toolAdapter:null,fullPage:null,dialogOpener:null,ribbonBar:null,links:[],colors:["","#000000","#eeece1","#1f497d","#4f81bd","#c0504d","#9bbb59","#8064a2","#4bacc6","#f79646","#ffffff","#7f7f7f","#ddd9c3","#c6d9f0","#dbe5f1","#f2dcdb","#ebf1dd","#e5e0ec","#dbeef3","#fdeada","#f2f2f2","#595959","#c4bd97","#8db3e2","#b8cce4","#e5b9b7","#d7e3bc","#ccc1d9","#b7dde8","#fbd5b5","#d8d8d8","#3f3f3f","#938953","#548dd4","#95b3d7","#d99694","#c3d69b","#b2a2c7","#92cddc","#fac08f","#bfbfbf","#262626","#494429","#17365d","#366092","#953734","#76923c","#5f497a","#31859b","#e36c09","#a5a5a5","#0c0c0c","#1d1b10","#0f243e","#244061","#632423","#4f6128","#3f3151","#205867","#974806","#c00000","#ff0000","#ffc000","#ffff00","#92d050","#00b050","#00b0f0","#0070c0","#002060","#7030a0"],fontNames:["Arial","Courier New","Garamond","Georgia","MS Sans Serif","Segoe UI","Tahoma","Times New Roman","Verdana"],fontSizes:[1,2,3,4,5,6,7],symbols:["&#8364;","&#162;","&#163;","&#165;","&#164;","&#169;","&#174;","&#8482;","&#177;","&ne;","&#8776;","&#8804;","&#8805;","&#247;","&#215;","&#8734;","&#189;","&#188;","&#190;","&#178;","&#179;","&#8240;","&#182;","&#167;","&#945;","&#946;","&#916;","&#181;","&#937;","&#8721;","&#216;","&ang;","&#186;","&#171;","&raquo;","&#183;","&#8226;","&#8224;","&#8225;","&#402;"],realFontSizes:["8px","9px","10px","11px","12px","13px","14px","16px","18px","20px","22px","24px","26px","28px","32px","36px","48px","72px"],snippets:[],cssClasses:[],cssFiles:[],languages:[],paragraphs:[["<p>","Normal"],["<h1>","<h1>Heading 1</h1>"],["<h2>","<h2>Heading 2</h2>"],["<h3>","<h3>Heading 3</h3>"],["<h4>","<h4>Heading 4</h4>"],["<h5>","<h5>Heading 5</h5>"],["<h6>","<h6>Heading 6</h6>"],["<dir>","<dir>Directory List</dir>"],["<menu>","<menu>Menu List</menu>"],["<pre>","<pre>Formatted</pre>"],["<address>","<address>Address</address>"]],formatSets:[],toolsWidth:null,maxTextLength:null,maxHtmlLength:null,toolProviderID:null,autoResizeHeight:false,toolbarMode:c.EditorToolbarMode.Default,editModes:c.EditModes.All,stripFormattingOptions:c.StripFormattingOptions.None,contentFilters:c.EditorFilters.DefaultFilters,newLineMode:c.EditorNewLineModes.P,contentAreaCssFile:"",tableLayoutCssFile:"",mozillaFlashOverlayImage:"FlashManager.gif",toolAdapterType:"",enableResize:true,toolJSON:[],modulesJSON:[],contextMenusJSON:[],skin:"Default",language:"en-us",contentWindow:null,document:null,contentArea:null,contentAreaMode:c.EditorContentAreaMode.Iframe,isInAccessibleMode:false,enableAriaSupport:false,enableComments:false,enableTrackChanges:false,emptyMessage:"",isSkinTouch:false,currentFormatting:null,editType:d.Normal});
a.registerControlEvents(c.RadEditor,["firstShow","pasteHtml","editReady","submit","commandExecuted","commandExecuting","selectionChange","domChange","init","load","modeChange","toggleScreenMode","spellCheckLoaded","pasteDom","pasteBlockElement",f]);
c.RadEditor.registerClass("Telerik.Web.UI.RadEditor",c.RadWebControl);
})($telerik.$);
Type.registerNamespace("Telerik.Web.UI");
(function(){var a=Telerik.Web.UI;
a.AccessibleRadEditorBase=function(c){c.set_useClassicDialogs(true);
c.removeShortCut("InsertTab");
c.addShortCut("<h2>","ALT+2");
c.addShortCut("<h3>","ALT+3");
c.addShortCut("<h4>","ALT+4");
c.addShortCut("<h5>","ALT+5");
c.addShortCut("<p>","CTRL+SHIFT+C");
c.addShortCut("TableWizard","CTRL+SHIFT+T");
this.makeAccessibleTools(c);
var b=c.get_toolAdapter();
b.setFocus=function(){var e=$telerik.getElementByClassName(c.get_element(),"reToolbarWrapper","DIV");
if(e){var d=e.getElementsByTagName("INPUT")[0];
window.setTimeout(function(){if(d&&d.focus){d.focus();
}},100);
return false;
}};
c.add_commandExecuting(Function.createDelegate(this,this.editorCommandExecuting));
};
a.AccessibleRadEditorBase.prototype={editorCommandExecuting:function(e,b){if(!b||!b.get_commandName){return;
}var d=b.get_commandName();
if(d=="LinkManager"){if($telerik.isIE){e.get_document().execCommand("CreateLink",true,null);
}else{var j=window.prompt("Enter a URL:","http://");
if(j){e.get_document().execCommand("CreateLink",false,j);
}}e.setFocus();
b.set_cancel(true);
}else{if(d=="MoveFocusToTextEditor"){if($telerik.isIE){e.get_document().body.focus();
}else{e.setFocus();
}b.set_cancel(true);
}else{if(d=="Underline"||d=="Italic"){b.set_cancel(true);
}else{if(d=="<h2>"||d=="<h3>"||d=="<h4>"||d=="<h5>"||d=="<p>"){e.fire("FormatBlock",{value:d});
b.set_cancel(true);
}else{if(d=="InsertTable"){var h=window.prompt("Enter row and column count separated by space, followed by optional heading row index and heading column index","");
if(null!=h){var k=h.split(" ");
var i=k[0]?parseInt(k[0].trim(),10):0;
var c=k[1]?parseInt(k[1].trim(),10):0;
if(i&&c&&!isNaN(i)&&!isNaN(c)){var f=Telerik.Web.UI.Editor.Utils.createTable(i,c);
this.updateHeadingRows(f,k[2]?parseInt(k[2].trim(),10)-1:-1);
this.updateHeadingColumns(f,k[3]?parseInt(k[3].trim(),10)-1:-1);
var g=Telerik.Web.UI.Editor.Utils.getOuterHtml(f);
e.pasteHtml(g,d);
}}b.set_cancel(true);
}}}}}},makeAccessibleTools:function(c){var j=c.get_toolAdapter().get_tools();
for(var e=0;
e<j.length;
e++){var h=j[e];
var k=Object.getType(h);
var g=null;
if(k==Telerik.Web.UI.EditorSplitButton||k.inheritsFrom(Telerik.Web.UI.EditorSplitButton)){g=this.replaceSplitButton(h,c);
}else{if(k==Telerik.Web.UI.EditorDropDown||k.inheritsFrom(Telerik.Web.UI.EditorDropDown)){g=this.replaceDropdown(h,c);
}else{g=this.replaceButton(h,c);
}}if(g){var d=h.get_element();
d.parentNode.insertBefore(g,d);
d.style.display="none";
if(g.tagName.toUpperCase()=="SELECT"){var b=h.get_name();
g.id=c.get_id()+"_"+b;
var f=document.createElement("label");
f.htmlFor=g.id;
f.style.top="-10000px";
f.style.left="-10000px";
f.style.position="absolute";
f.innerHTML=h.get_text();
d.parentNode.insertBefore(f,g);
}}}if($telerik.isIE){this.fixIEFocusProblem(j[0].get_element().previousSibling,true);
this.fixIEFocusProblem(j[j.length-1].get_element().previousSibling,false);
}},fixIEFocusProblem:function(b,e){var d=b.parentNode.parentNode.getElementsByTagName("INPUT");
var f=e?d[1]:d[d.length-2];
var c=true;
b.onfocus=function(g){if(c){if(f){f.focus();
}c=false;
window.setTimeout(function(){b.focus();
window.setTimeout(function(){c=true;
},10);
},10);
}};
},replaceButton:function(f,d){var e=document.createElement("input");
e.type="button";
e.title=f.get_text();
var c=f.get_name();
var b=c;
if(c=="MoveFocusToTextEditor"){b="Custom";
}e.className="reAccessibleTool "+b;
e.onclick=function(){d.fire(c);
};
return e;
},replaceSplitButton:function(d,b){var c=d.get_name();
if(c=="Undo"||c=="Redo"||c=="InsertTable"){return this.replaceButton(d,b);
}else{alert("No implementation for converting split button "+c+" into an accessible tool");
}},replaceDropdown:function(l,b){var h=document.createElement("select");
h.style.width=l.get_element().getElementsByTagName("SPAN")[0].style.width;
var e=[];
if(l.get_name()=="FormatBlock"){e=b.get_paragraphs();
}h.options[0]=new Option("-------------------------------","");
for(var c=0;
c<e.length;
c++){var d=e[c];
var m=d[0];
var k=d[1];
var j=b.get_shortCutManager().findShortCutByName(m);
if(j){k+=" ("+j.get_shortCutString()+")";
}h.options[h.options.length]=new Option(k,m);
}var g=false;
h.onclick=function(){if(g==true){f();
}else{if(h.click){h.click();
}g=true;
}};
h.onkeydown=function(i){if(!i){i=window.event;
}if(i.keyCode==13){f();
}else{return true;
}};
function f(){g=false;
var i=h[h.selectedIndex].value;
if(i){b.fire("FormatBlock",{value:i});
}h.selectedIndex=0;
}return h;
},updateHeadingRows:function(h,b){if(isNaN(b)||b<0){return;
}var k=h.getElementsByTagName("THEAD")[0];
if(!k){k=h.createTHead();
}for(var c=0;
c<=b;
c++){var g=h.rows[0];
var f=k.insertRow(-1);
for(var d=0;
d<g.cells.length;
d++){var e=h.ownerDocument.createElement(c==b?"TH":"TD");
f.insertBefore(e,null);
}h.deleteRow(h.rows.length-1);
}},updateHeadingColumns:function(h,c){if(isNaN(c)||c<0){return;
}for(var f=0;
f<h.tBodies.length;
f++){var l=h.tBodies[f];
for(var d=0;
d<l.rows.length;
d++){var g=l.rows[d];
for(var e=0;
e<g.cells.length;
e++){var b=e==c?"TH":"TD";
this.changeCellType(g.cells[e],b);
}}}},changeCellType:function(b,d){if(b.tagName.toUpperCase()!=d.toUpperCase()){var c=b.ownerDocument.createElement(d.toUpperCase());
b.parentNode.replaceChild(c,b);
}}};
a.AccessibleRadEditor=function(b){a.AccessibleRadEditor.initializeBase(this,[b]);
};
a.AccessibleRadEditor.prototype={initialize:function(){a.AccessibleRadEditor.callBaseMethod(this,"initialize");
},dispose:function(){a.AccessibleRadEditor.callBaseMethod(this,"dispose");
}};
a.AccessibleRadEditor.registerClass("Telerik.Web.UI.AccessibleRadEditor",a.RadEditor);
})();
Type.registerNamespace("Telerik.Web.UI.Editor");
(function(b,a,g,f){function d(j){var i=j.startContainer||(j.length?j.item(0):(j.commonParentElement?j.commonParentElement():j.parentElement()));
return i.nodeType==9?i:i.ownerDocument;
}function h(i){return i.defaultView||i.parentWindow;
}function e(j){if(!j){j=window;
}var i=j.document;
if(j.getSelection||i.getSelection){return j.getSelection()||i.getSelection();
}else{return null;
}}function c(){var i=e();
return i?document.createRange():document.selection?(document.selection.type=="None"?document.body.createTextRange():document.selection.createRange()):null;
}b.DomRange=function(j,i){this.options=a.extend({preventCalculateEdges:false},i||{});
this.range=j;
this._initialCalculateEdges();
};
b.DomRange.START_TO_START=0;
b.DomRange.START_TO_END=1;
b.DomRange.END_TO_END=2;
b.DomRange.END_TO_START=3;
b.DomRange.toDomRange=function(i){return(!i||b.DomRange.isInstanceOfType(i))?i:new b.DomRange(i);
};
b.DomRange.createRange=function(i){return new b.DomRange(c(i));
};
b.DomRange.rangeFromWindow=function(l){if(!l){return null;
}var i=l.document;
var k=e(l);
if(k){if(k.rangeCount<1){return null;
}var j;
if(k.getRangeAt){j=k.getRangeAt(0);
}else{j=i.createRange();
j.setStart(k.anchorNode,k.anchorOffset);
j.setEnd(k.focusNode,k.focusOffset);
}return new b.DomRange(j);
}else{if(i.selection){return new b.DomRange(i.selection.createRange());
}}return null;
};
b.DomRange.prototype={selectNodeContents:function(i){if(this.range.length){this.range.addElement(i);
}else{this.setEnd(i,i[i.nodeType===1?"childNodes":"nodeValue"].length);
this.setStart(i,0);
}},selectNode:function(i){this.setStartBefore(i);
this.setEndAfter(i);
},setStart:function(i,j){this.startContainer=i;
this.startOffset=j;
this._calculateRangeProperties();
},setEnd:function(i,j){this.endContainer=i;
this.endOffset=j;
this._calculateRangeProperties();
},setStartBefore:function(i){this.setStart(i.parentNode,g.findNodeIndex(i));
},setStartAfter:function(i){this.setStart(i.parentNode,g.findNodeIndex(i)+1);
},setEndBefore:function(i){this.setEnd(i.parentNode,g.findNodeIndex(i));
},setEndAfter:function(i){this.setEnd(i.parentNode,g.findNodeIndex(i)+1);
},insertNode:function(m){var i=this._updateBrowserRange();
if(i.insertNode){this.range.insertNode(m);
}else{if(i.pasteHTML){var j=d(i);
i.collapse(true);
i.pasteHTML("<span id='__insertNodeBefore'>a</span><span id='__insertNodeAfter'>b</span>");
var l=a("span[id=__insertNodeBefore]",j)[0];
var k=a("span[id=__insertNodeAfter]",j)[0];
k.parentNode.insertBefore(m,k);
k.parentNode.removeChild(k);
l.parentNode.removeChild(l);
}}if(g.isTextNode(this.startContainer)){this.endOffset++;
}if(m.parentNode==this.endContainer){this.endOffset++;
}},extractContents:function(){var i=this._updateBrowserRange();
if(i.extractContents){return i.extractContents();
}else{var k=document;
var l=k.createDocumentFragment();
var j=k.createElement("div");
j.innerHTML=this.getHtml();
while(j.childNodes.length){l.appendChild(j.firstChild);
}i.pasteHTML("");
return l;
}},deleteContents:function(){if(this.range.deleteContents){var i=this._updateBrowserRange();
i.deleteContents();
}else{this.extractContents();
}},cloneRange:function(){var i=this._updateBrowserRange();
if($telerik.isIE&&i.length){var k=this.cloneControlRange(i);
if(k){return new b.DomRange(k,this.options);
}}var j=null;
var l=this._cloneBrowserRange();
if(l){j=new b.DomRange(l,this.options);
j.setStart(this.startContainer,this.startOffset);
j.setEnd(this.endContainer,this.endOffset);
}return j;
},_cloneBrowserRange:function(){if(this.range.cloneRange){return this.range.cloneRange();
}else{if(this.range.duplicate){return this.range.duplicate();
}else{if($telerik.isIE&&this.range.length){return this.cloneControlRange(this.range);
}}}return null;
},cloneControlRange:function(k){var n=k.length;
if(n){var m=k.item(0);
var j=m.ownerDocument.body;
k=j.createControlRange();
for(var l=0;
l<n;
l++){k.addElement(this.range.item(l));
}return k;
}return null;
},compareBoundaryPoints:function(j,l){var i=this._updateBrowserRange();
if(i.compareBoundaryPoints){var k=i.compareBoundaryPoints(j,l.getBrowserRange());
return k;
}else{if(i.compareEndPoints){return i.compareEndPoints(this._pointPairToCompare(j),l.getBrowserRange());
}else{return 0;
}}},collapse:function(i){if(i){this.endContainer=this.startContainer;
this.endOffset=this.startOffset;
}else{this.startContainer=this.endContainer;
this.startOffset=this.endOffset;
}this._calculateRangeProperties();
},isCollapsed:function(){return this.collapsed;
},surroundContents:function(j){var i=this._updateBrowserRange();
if(i.surroundContents){j.appendChild(i.extractContents());
i.insertNode(j);
}else{j.innerHTML=i.htmlText;
i.pasteHTML(j.outerHTML);
}},toString:function(){var i=this._updateBrowserRange();
if(i.text!=f){return i.text;
}else{if(i.toString){return i.toString();
}else{return"";
}}},inRange:function(j){var i=this._updateBrowserRange();
if(i.inRange){return i.inRange(j.getBrowserRange());
}else{var l=this.compareBoundaryPoints(b.DomRange.START_TO_START,j);
var k=this.compareBoundaryPoints(b.DomRange.END_TO_END,j);
return l<1&&k>-1;
}},getBrowserRange:function(){return this._updateBrowserRange();
},getParentElement:function(){return this.commonAncestorContainer||this._getBrowserRangeParent();
},getText:function(){return this.toString();
},getHtml:function(){var i=this._updateBrowserRange();
if(i.cloneContents){var k=i.cloneContents();
var j=k.ownerDocument.createElement("div");
j.appendChild(k);
return j.innerHTML;
}else{if(i.length){return i.item(0).outerHTML;
}else{return i.htmlText||"";
}}},pasteHTML:function(l){var i=this._updateBrowserRange();
if(i.pasteHTML){i.pasteHTML(l);
}else{if(i.extractContents){var j=i.extractContents().ownerDocument;
var k=j.createElement("div");
k.innerHTML=l;
while(k.childNodes.length){i.insertNode(k.firstChild);
}}}},setCursorInEmptyNode:function(j){j.innerHTML="&#x200b;";
this.setStart(j,0);
try{this.setEnd(j,0);
}catch(i){this.setEnd(j,1);
}finally{if(!$telerik.isOpera){if(!$telerik.isIE||$telerik.isIE9Mode){this.selectNodeContents(j);
}if(!$telerik.isIE){this.deleteContents();
}}this.collapse(!$telerik.isIE||$telerik.isIE9Mode);
this.select();
if(!$telerik.isOpera){j.innerHTML="";
}}},moveStart:function(o,j){if(this.range.moveStart){return this.range.moveStart(o,j);
}else{var k=d(this.range);
var n=k.defaultView.getSelection();
var m;
if(n.modify){var i=this.cloneRange();
i.collapse(true);
i.select();
if(j>0){while(j-->0){m=n.modify("move","forward",o);
}}else{while(j++<0){m=n.modify("move","backward",o);
}}var l=n.getRangeAt(0);
i=this.cloneRange();
this.setStart(l.startContainer,l.startOffset);
i.select();
return m;
}else{return 0;
}}},moveEnd:function(o,j){if(this.range.moveEnd){return this.range.moveEnd(o,j);
}else{var k=d(this.range);
var n=k.defaultView.getSelection();
var m;
if(n.modify){var i=this.cloneRange();
i.collapse(false);
i.select();
if(j>0){while(j-->0){m=n.modify("move","forward",o);
}}else{while(j++<0){m=n.modify("move","backward",o);
}}var l=n.getRangeAt(0);
i=this.cloneRange();
this.setEnd(l.endContainer,l.endOffset);
i.select();
return m;
}else{return 0;
}}},moveToElementText:function(l){var m=this.range;
var i=d(m);
var o=this._createTempNode(i);
var k=this._createTempNode(i);
var n=m.duplicate();
var j=m.duplicate();
l.insertBefore(o,l.firstChild);
l.appendChild(k);
n.moveToElementText(o);
j.moveToElementText(k);
m.setEndPoint("EndToEnd",j);
m.setEndPoint("StartToEnd",n);
l.removeChild(o);
l.removeChild(k);
},snapToRange:function(i,j){switch(i){case b.DomRange.START_TO_START:this.setStart(j.startContainer,j.startOffset);
break;
case b.DomRange.START_TO_END:this.setStart(j.endContainer,j.endOffset);
break;
case b.DomRange.END_TO_END:this.setEnd(j.endContainer,j.endOffset);
break;
case b.DomRange.END_TO_START:this.setEnd(j.startContainer,j.startOffset);
break;
}},select:function(){var i=this._updateBrowserRange();
if(i.select){try{i.select();
}catch(k){}}else{var j=d(i);
var m=h(j);
if(m.getSelection||j.getSelection){var l=m.getSelection?m.getSelection():j.getSelection();
l.removeAllRanges();
l.addRange(i);
}}},_pointPairToCompare:function(i){return b.DomRange.START_TO_START==i?"StartToStart":b.DomRange.START_TO_END==i?"EndToStart":b.DomRange.END_TO_END==i?"EndToEnd":b.DomRange.END_TO_START==i?"StartToEnd":"";
},_setStartRangeAtNodeOffset:function(o,p,m){var k=d(this.range);
var r=k.body.createTextRange();
if(g.isTextNode(o)){var q=this._createTempNode(k);
o.parentNode.insertBefore(q,o);
this._selectTempNode(r,q);
r.moveStart("character",p);
}else{var j=o.childNodes;
if(p<j.length){var i=j[p];
if(g.isTextNode(i)){var s=this._createTempNode(k);
o.insertBefore(s,i);
this._selectTempNode(r,s);
}else{r.moveToElementText(j[p]);
}}else{if(p==j.length){var n=j.length==0;
try{if(n){o.innerHTML="a";
}}catch(l){n=false;
}r.moveToElementText(o);
r.collapse(false);
if(n){o.innerHTML="";
}}}}return r;
},normalizeEdges:function(){if(this.endContainer.nodeType==3&&this.endContainer.nodeValue.length==this.endOffset){this._snapToSibling("nextSibling");
}if(this.endContainer.nodeType==3&&this.endOffset==0){this._snapToSibling("previousSibling");
}if(this.startContainer.nodeType==3&&this.startOffset==0&&g.findNodeIndex(this.startContainer)==0){this.startContainer=this.startContainer.parentNode;
if(this.range.setStart){this.range.setStart(this.startContainer,0);
}}if(this._isBrowserRangeCollapsed()){this.startContainer=this.endContainer;
this.startOffset=this.endOffset;
}else{if(g.isTextNode(this.startContainer)&&this.startOffset==this.startContainer.nodeValue.length){var i=this.startContainer,j;
while(i&&!(j=i.nextSibling)){i=i.parentNode;
}if(i&&j){this.startContainer=j;
this.startOffset=0;
}}}this.commonAncestorContainer=g.findCommonAncestor(this.startContainer,this.endContainer);
},_snapToSibling:function(i){var j=i=="nextSibling";
var k=this.endContainer;
this.endContainer=this.endContainer.parentNode;
this.endOffset=k[i]?g.findNodeIndex(!j?k:k[i]):(j?this.endContainer.childNodes.length:0);
if(this.range.setEnd){this.range.setEnd(this.endContainer,this.endOffset);
}},_isControlRange:function(){return !!this.range.length;
},_updateBrowserRange:function(){if(this._isControlRange()||g.isTag(this.startContainer,"textarea")){return this.range;
}this._updateBrowserRangeStart();
this._updateBrowserRangeEnd();
this._updateBrowserRangeStart();
return this.range;
},_updateBrowserRangeStart:function(){var i=this.startContainer;
var j=this.startOffset;
if(this.range.setStart){this.range.setStart(i,j);
}else{this.range.setEndPoint("StartToStart",this._setStartRangeAtNodeOffset(i,j));
}},_updateBrowserRangeEnd:function(){var i=this.endContainer;
var j=this.endOffset;
if(this.range.setEnd){this.range.setEnd(i,j);
}else{this.range.setEndPoint("EndToStart",this._setStartRangeAtNodeOffset(i,j,true));
}},_initialCalculateEdges:function(i){if(this.options.preventCalculateEdges){return;
}this._calculateEdge(true,i);
this._calculateEdge(false,i);
this._calculateRangeProperties();
},_calculateEdges:function(i){this._updateBrowserRange();
this._initialCalculateEdges(i);
},_calculateEdge:function(s,x){var z=this.range;
var q=this._isBrowserRangeCollapsed();
var l=d(z);
var j=s?"startContainer":"endContainer";
var u=s?"startOffset":"endOffset";
var m=z[j];
var n=z[u]||0;
if(!m){if(z.length){var t=z.item(0);
m=t.parentNode;
n=g.findNodeIndex(t)+(s?0:1);
}else{var A,o;
var k=z.duplicate();
k.collapse(s);
var w=k.parentElement(),r=w.childNodes.length==0;
if(!g.canHaveChildren(w)||g.isTag(w,"textarea")){m=w;
}else{A=this._createTempNode(l);
o=s?"StartToStart":"StartToEnd";
var i=this._traverseToEdgeNode(o,w,k,A,0);
if(!s&&i==0){i=this._traverseToEdgeNode(o,w,k,A,-1);
m=(i==-1?A.nextSibling:A);
}m=r?w:A.nextSibling;
}if(!m){if(s&&!q){w.removeChild(A);
var v=w;
while(v==w&&this._moveCursorByCharacter(k)){w=k.parentElement();
}this._traverseToEdgeNode(o,w,k,A,0);
m=A.nextSibling;
}if(!m){var y=A.previousSibling;
if(!x&&y&&g.isTextNode(y)){this[j]=y;
this[u]=y.length||y.data.length||y.nodeValue.length;
}else{if(!this.startContainer){this.startContainer=w;
this.startOffset=g.findNodeIndex(A);
}this.endContainer=w;
this.endOffset=w[w.nodeType===1?"childNodes":"nodeValue"].length-1;
}w.removeChild(A);
return;
}}if(A){w.removeChild(A);
}k.setEndPoint(s?"EndToStart":"EndToEnd",z);
if(g.isTextNode(m)){var B=k.text,p=m.nodeValue.indexOf(B);
n=Math.max(p,0)+B.length;
}else{if(j=="startContainer"&&g.isAncestorOrSelf(m,z.parentElement())||(r&&j=="endContainer")){n=0;
}else{n=g.findNodeIndex(m);
m=m.parentNode;
}}}}this[j]=m;
this[u]=n;
},_traverseToEdgeNode:function(k,m,j,o,l){var n=this.range,i=1;
do{m.insertBefore(o,o.previousSibling);
j.moveToElementText(o);
i=j.compareEndPoints(k,n);
}while(o.previousSibling&&i>l);
return i;
},_calculateRangeProperties:function(){this.commonAncestorContainer=g.findCommonAncestor(this.startContainer,this.endContainer);
this.collapsed=this.startContainer==this.endContainer&&this.startOffset==this.endOffset;
},_getBrowserRangeParent:function(){var i=this.range;
if(i.commonAncestorContainer){return i.commonAncestorContainer;
}else{if(i.commonParentElement){return i.commonParentElement();
}else{if(i.parentElement){return i.parentElement();
}else{if(i.length){return i.item(0).parentNode;
}else{return null;
}}}}},_isBrowserRangeCollapsed:function(){var j=this.range;
try{if(j.isCollapsed){return j.isCollapsed();
}else{if(j.collapsed!==f){return j.collapsed;
}else{if(j.length!==f){return j.length==0;
}else{if(j.text!==f){return j.text=="";
}else{return this.toString()=="";
}}}}}catch(i){return true;
}},_moveCursorByCharacter:function(i){this._storeCursorPosition(i);
i.move("character");
return this._cursorHasMoved(i);
},_storeCursorPosition:function(i){this._cursorPos=this._getCursorPos(i);
},_cursorHasMoved:function(i){var k=this._cursorPos;
var j=this._getCursorPos(i);
return j.x!=k.x||j.y!=k.y;
},_getCursorPos:function(i){return{x:i.offsetLeft,y:i.offsetTop};
},_createTempNode:function(i){var j=i.createElement("span");
j.innerHTML="&#x200b;";
return j;
},_selectTempNode:function(i,j){i.moveToElementText(j);
j.parentNode.removeChild(j);
}};
b.DomRangeMemento=function(j){var i=b.DomRange.toDomRange(j);
this.collapsed=i.isCollapsed();
if(!g.isTextNode(i.startContainer)&&i.startContainer.childNodes[i.startOffset]&&!g.isTextNode(i.startContainer.childNodes[i.startOffset])){this.startContainer=i.startContainer.childNodes[i.startOffset];
this.startOffset=false;
}else{this.startContainer=i.startContainer;
this.startOffset=i.startOffset;
}if(!g.isTextNode(i.endContainer)&&i.endContainer.childNodes[i.endOffset]&&!g.isTextNode(i.endContainer.childNodes[i.endOffset])){this.endContainer=i.endContainer.childNodes[i.endOffset];
this.endOffset=false;
}else{if(!g.isTextNode(i.endContainer)&&!g.isTag(i.endContainer,"img")&&i.endContainer.childNodes>0&&!i.endContainer.childNodes[i.endOffset]){this.endContainer=i.endContainer;
this.endOffset="outside";
}else{this.endContainer=i.endContainer;
this.endOffset=i.endOffset;
}}};
b.DomRangeMemento.prototype={restoreToRange:function(i){this.compensateOffsetInIE9();
this.restoreStart(i);
if(this.endOffset===false){i.setEndBefore(this.endContainer);
}else{if(this.endOffset=="outside"){i.setEnd(this.endContainer,Math.max(1,this.endContainer.childNodes.length-1));
}else{i.setEnd(this.endContainer,this.endOffset);
}}this.restoreStart(i);
if(this.collapsed){i.collapse();
}i.select();
},restoreStart:function(i){if(this.startOffset===false){i.setStartBefore(this.startContainer);
}else{i.setStart(this.startContainer,this.startOffset);
}},compensateOffsetInIE9:function(){if(!$telerik.isIE9){return;
}if(this.beginsWithWhitespace(this.startContainer)){this.startOffset++;
}if(this.beginsWithWhitespace(this.endContainer)){this.endOffset++;
}},beginsWithWhitespace:function(i){return g.isTextNode(i)&&/^\s/.test(i.nodeValue);
}};
})(Telerik.Web.UI.Editor,$telerik.$,Telerik.Web.UI.Editor.Utils);
Type.registerNamespace("Telerik.Web.UI.Editor");
(function(b,a,g,f){function d(j){var i=j.startContainer||(j.commonParentElement?j.commonParentElement():(j.length?j.item(0):j.parentElement()));
return i.nodeType==9?i:i.ownerDocument;
}function h(i){return i.defaultView||i.parentWindow;
}function e(j){if(!j){j=window;
}var i=j.document;
if(j.getSelection||i.getSelection){return j.getSelection()||i.getSelection();
}else{return null;
}}function c(){var i=e();
return i?document.createRange():document.selection?(document.selection.type=="None"?document.body.createTextRange():document.selection.createRange()):null;
}b.DomRangeExplicit=function(j,i){this.options=a.extend({preventCalculateEdges:false},i||{});
this.range=j;
this._calculateEdges();
};
b.DomRangeExplicit.START_TO_START=0;
b.DomRangeExplicit.START_TO_END=1;
b.DomRangeExplicit.END_TO_END=2;
b.DomRangeExplicit.END_TO_START=3;
b.DomRangeExplicit.toDomRange=function(i){return(b.DomRangeExplicit.isInstanceOfType(i))?i:new b.DomRangeExplicit(i);
};
b.DomRangeExplicit.createRange=function(i){return new b.DomRangeExplicit(c(i));
};
b.DomRangeExplicit.rangeFromWindow=function(l){if(!l){return null;
}var i=l.document;
var k=e(l);
if(k){if(k.rangeCount<1){return null;
}var j;
if(k.getRangeAt){j=k.getRangeAt(0);
}else{j=i.createRange();
j.setStart(k.anchorNode,k.anchorOffset);
j.setEnd(k.focusNode,k.focusOffset);
}return new b.DomRangeExpicit(j);
}else{if(i.selection){return new b.DomRangeExpicit(i.selection.createRange());
}}return null;
};
b.DomRangeExplicit.prototype={selectNodeContents:function(i){var j=this.range;
if(j.selectNodeContents){j.selectNodeContents(i);
}else{if(this.range.length){this.range.addElement(i);
}else{if(j.moveToElementText){this.setEnd(i,i[i.nodeType===1?"childNodes":"nodeValue"].length);
this.setStart(i,0);
}}}this._calculateEdges(true);
},selectNode:function(i){var j=this.range;
if(j.selectNode){j.selectNode(i);
}else{if(j.length){j.addElement(i);
}else{if(j.moveToElementText){j.moveToElementText(i);
}}}this._calculateEdges(true);
},setStart:function(i,j){if(this.range.setStart){this.range.setStart(i,j);
}else{this.range.setEndPoint("StartToStart",this._setStartRangeAtNodeOffset(i,j));
}this._calculateEdges();
},setEnd:function(i,j){if(this.range.setEnd){this.range.setEnd(i,j);
}else{this.range.setEndPoint("EndToStart",this._setStartRangeAtNodeOffset(i,j,true));
}this._calculateEdges();
},setStartBefore:function(i){var j=this.range;
if(j.setStartBefore){j.setStartBefore(i);
this._calculateEdges();
}else{this.setStart(i.parentNode,g.findNodeIndex(i));
}},setStartAfter:function(i){var j=this.range;
if(j.setStartAfter){j.setStartAfter(i);
this._calculateEdges();
}else{this.setStart(i.parentNode,g.findNodeIndex(i)+1);
}},setEndBefore:function(i){var j=this.range;
if(j.setEndBefore){j.setEndBefore(i);
this._calculateEdges();
}else{this.setEnd(i.parentNode,g.findNodeIndex(i));
}},setEndAfter:function(i){var j=this.range;
if(j.setEndAfter){j.setEndAfter(i);
this._calculateEdges();
}else{this.setEnd(i.parentNode,g.findNodeIndex(i)+1);
}},insertNode:function(m){if(this.range.insertNode){this.range.insertNode(m);
}else{if(this.range.pasteHTML){var i=d(this.range);
var o=this.range.duplicate();
var n=this.range.duplicate();
var j=this.range.duplicate();
this.range.collapse(true);
this.range.pasteHTML("<span id='__insertNodeBefore'>a</span><span id='__insertNodeAfter'>b</span>");
var l=a("span[id=__insertNodeBefore]",i)[0];
var k=a("span[id=__insertNodeAfter]",i)[0];
k.parentNode.insertBefore(m,k);
n.moveToElementText(l);
j.moveToElementText(k);
this.range.setEndPoint("EndToEnd",o.compareEndPoints("EndToEnd",j)==1?o:j);
this.range.setEndPoint("StartToStart",o.compareEndPoints("StartToStart",n)==-1?o:n);
k.parentNode.removeChild(k);
l.parentNode.removeChild(l);
}}},extractContents:function(){if(this.range.extractContents){return this.range.extractContents();
}else{var j=document;
var k=j.createDocumentFragment();
var i=j.createElement("div");
i.innerHTML=this.getHtml();
while(i.childNodes.length){k.appendChild(i.firstChild);
}this.range.pasteHTML("");
return k;
}},deleteContents:function(){var i=this.range;
if(i.deleteContents){i.deleteContents();
}else{this.extractContents();
}},cloneRange:function(){if(this.range.cloneRange){return new b.DomRangeExplicit(this.range.cloneRange(),this.options);
}else{if(this.range.duplicate){return new b.DomRangeExplicit(this.range.duplicate(),this.options);
}else{if($telerik.isIE&&this.range.length){var i=this.cloneControlRange(this.range);
if(i){return new b.DomRangeExplicit(i,this.options);
}}}}return null;
},cloneControlRange:function(k){var n=k.length;
if(n){var m=k.item(0);
var j=m.ownerDocument.body;
k=j.createControlRange();
for(var l=0;
l<n;
l++){k.addElement(this.range.item(l));
}return k;
}return null;
},compareBoundaryPoints:function(i,k){if(this.range.compareBoundaryPoints){var j=this.range.compareBoundaryPoints(i,k.range);
return j;
}else{if(this.range.compareEndPoints){return this.range.compareEndPoints(this._pointPairToCompare(i),k.range);
}else{return 0;
}}},collapse:function(i){this.range.collapse(i);
this._calculateEdges();
},isCollapsed:function(){var i=this.range;
if(i.isCollapsed){return i.isCollapsed();
}else{if(i.collapsed!=f){return i.collapsed;
}else{if(i.length!=f){return i.length==0;
}else{if(i.htmlText!==f){return i.htmlText=="";
}else{return this.toString()=="";
}}}}},surroundContents:function(i){if(this.range.surroundContents){i.appendChild(this.range.extractContents());
this.range.insertNode(i);
}else{i.innerHTML=this.range.htmlText;
this.range.pasteHTML(i.outerHTML);
}},toString:function(){if(this.range.text!=f){return this.range.text;
}else{if(this.range.toString){return this.range.toString();
}else{return"";
}}},inRange:function(i){if(this.range.inRange){return this.range.inRange(i.range);
}else{var k=this.compareBoundaryPoints(b.DomRangeExplicit.START_TO_START,i);
var j=this.compareBoundaryPoints(b.DomRangeExplicit.END_TO_END,i);
return k<1&&j>-1;
}},getParentElement:function(){var i=this.range;
if(i.commonAncestorContainer){return i.commonAncestorContainer;
}else{if(i.commonParentElement){return i.commonParentElement();
}else{if(i.parentElement){return i.parentElement();
}else{if(i.length){return i.item(0).parentNode;
}else{return null;
}}}}},getText:function(){return this.toString();
},getHtml:function(){if(this.range.cloneContents){var j=this.range.cloneContents();
var i=j.ownerDocument.createElement("div");
i.appendChild(j);
return i.innerHTML;
}else{if(this.range.length){return this.range.item(0).outerHTML;
}else{return this.range.htmlText||"";
}}},pasteHTML:function(k){if(this.range.pasteHTML){this.range.pasteHTML(k);
}else{if(this.range.extractContents){var i=this.range.extractContents().ownerDocument;
var j=i.createElement("div");
j.innerHTML=k;
while(j.childNodes.length){this.range.insertNode(j.firstChild);
}}}},setCursorInEmptyNode:function(j){j.innerHTML="&#x200b;";
this.setStart(j,0);
try{this.setEnd(j,0);
}catch(i){this.setEnd(j,1);
}finally{if(!$telerik.isOpera){if(!$telerik.isIE||$telerik.isIE9Mode){this.selectNodeContents(j);
}if(!$telerik.isIE){this.deleteContents();
}}this.collapse(!$telerik.isIE||$telerik.isIE9Mode);
this.select();
if(!$telerik.isOpera){j.innerHTML="";
}}},moveStart:function(o,j){if(this.range.moveStart){return this.range.moveStart(o,j);
}else{var k=d(this.range);
var n=k.defaultView.getSelection();
var m;
if(n.modify){var i=this.cloneRange();
i.collapse(true);
i.select();
if(j>0){while(j-->0){m=n.modify("move","forward",o);
}}else{while(j++<0){m=n.modify("move","backward",o);
}}var l=n.getRangeAt(0);
i=this.cloneRange();
this.setStart(l.startContainer,l.startOffset);
i.select();
return m;
}else{return 0;
}}},moveEnd:function(o,j){if(this.range.moveEnd){return this.range.moveEnd(o,j);
}else{var k=d(this.range);
var n=k.defaultView.getSelection();
var m;
if(n.modify){var i=this.cloneRange();
i.collapse(false);
i.select();
if(j>0){while(j-->0){m=n.modify("move","forward",o);
}}else{while(j++<0){m=n.modify("move","backward",o);
}}var l=n.getRangeAt(0);
i=this.cloneRange();
this.setEnd(l.endContainer,l.endOffset);
i.select();
return m;
}else{return 0;
}}},moveToElementText:function(l){var m=this.range;
var i=d(m);
var o=this._createTempNode(i);
var k=this._createTempNode(i);
var n=m.duplicate();
var j=m.duplicate();
l.insertBefore(o,l.firstChild);
l.appendChild(k);
n.moveToElementText(o);
j.moveToElementText(k);
m.setEndPoint("EndToEnd",j);
m.setEndPoint("StartToEnd",n);
l.removeChild(o);
l.removeChild(k);
},snapToRange:function(i,j){var k=j.range;
if(this.range.setEndPoint){i=b.DomRangeExplicit.START_TO_START==i?"StartToStart":b.DomRangeExplicit.START_TO_END==i?"StartToEnd":b.DomRangeExplicit.END_TO_END==i?"EndToEnd":b.DomRangeExplicit.END_TO_START==i?"EndToStart":"";
this.range.setEndPoint(i,k);
this._calculateEdges();
}else{switch(i){case b.DomRangeExplicit.START_TO_START:this.setStart(k.startContainer,k.startOffset);
break;
case b.DomRangeExplicit.START_TO_END:this.setStart(k.endContainer,k.endOffset);
break;
case b.DomRangeExplicit.END_TO_END:this.setEnd(k.endContainer,k.endOffset);
break;
case b.DomRangeExplicit.END_TO_START:this.setEnd(k.startContainer,k.startOffset);
break;
}}},select:function(){if(this.range.select){this.range.select();
}else{var i=d(this.range);
var k=h(i);
if(k.getSelection||i.getSelection){var j=k.getSelection?k.getSelection():i.getSelection();
j.removeAllRanges();
j.addRange(this.range);
}}},_pointPairToCompare:function(i){return b.DomRangeExplicit.START_TO_START==i?"StartToStart":b.DomRangeExplicit.START_TO_END==i?"EndToStart":b.DomRangeExplicit.END_TO_END==i?"EndToEnd":b.DomRangeExplicit.END_TO_START==i?"StartToEnd":"";
},_setStartRangeAtNodeOffset:function(m,n,l){var k=d(this.range);
var p=k.body.createTextRange();
if(g.isTextNode(m)){var o=this._createTempNode(k);
m.parentNode.insertBefore(o,m);
this._selectTempNode(p,o);
p.moveStart("character",n+($telerik.isIE9&&l&&/^\s/.test(m.nodeValue)?1:0));
}else{var j=m.childNodes;
if(n<j.length){var i=j[n];
if(g.isTextNode(i)){var q=this._createTempNode(k);
if(l){if(i.nextSibling){m.insertBefore(q,i.nextSibling);
}else{m.appendChild(q);
}}else{m.insertBefore(q,i);
}p.moveToElementText(q);
m.removeChild(q);
}else{p.moveToElementText(j[n]);
}}else{if(n==j.length){p.moveToElementText(m);
p.collapse(!l);
}}}return p;
},normalizeEdges:function(){if(this.endContainer.nodeType==3&&this.endContainer.nodeValue.length==this.endOffset){this._snapToSibling("nextSibling");
}if(this.endContainer.nodeType==3&&this.endOffset==0){this._snapToSibling("previousSibling");
}if(this.startContainer.nodeType==3&&this.startOffset==0&&g.findNodeIndex(this.startContainer)==0){this.startContainer=this.startContainer.parentNode;
if(this.range.setStart){this.range.setStart(this.startContainer,0);
}}if(this.isCollapsed()){this.startContainer=this.endContainer;
this.startOffset=this.endOffset;
}else{if(g.isTextNode(this.startContainer)&&this.startOffset==this.startContainer.nodeValue.length){var i=this.startContainer,j;
while(i&&!(j=i.nextSibling)){i=i.parentNode;
}if(i&&j){this.startContainer=j;
this.startOffset=0;
}}}this.commonAncestorContainer=this.range.commonAncestorContainer||g.findCommonAncestor(this.startContainer,this.endContainer);
},_snapToSibling:function(i){var j=this.endContainer;
this.endContainer=this.endContainer.parentNode;
this.endOffset=j[i]?g.findNodeIndex(j[i]):(i=="nextSibling"?this.endContainer.childNodes.length:0);
if(this.range.setEnd){this.range.setEnd(this.endContainer,this.endOffset);
}},_calculateEdges:function(i){if(this.options.preventCalculateEdges){return;
}this._calculateEdge(true,i);
this._calculateEdge(false,i);
this.commonAncestorContainer=this.range.commonAncestorContainer||g.findCommonAncestor(this.startContainer,this.endContainer);
this.collapsed=this.isCollapsed();
},_calculateEdge:function(p,u){var w=this.range;
var o=this.isCollapsed();
var k=d(w);
var i=p?"startContainer":"endContainer";
var r=p?"startOffset":"endOffset";
var l=w[i];
var m=w[r]||0;
if(!l){if(w.length){var q=w.item(0);
l=q.parentNode;
m=g.findNodeIndex(q)+(p?0:1);
}else{var j=w.duplicate();
j.collapse(p);
var t=j.parentElement();
var x,n;
if(g.isTag(t,"br")){l=t;
}else{x=this._createTempNode(k);
n=p?"StartToStart":"StartToEnd";
do{t.insertBefore(x,x.previousSibling);
j.moveToElementText(x);
}while(x.previousSibling&&j.compareEndPoints(n,w)>0);
l=x.nextSibling;
}if(!l){if(p&&!o){t.removeChild(x);
var s=t;
while(s==t&&this._moveCursorByCharacter(j)){t=j.parentElement();
}do{t.insertBefore(x,x.previousSibling);
j.moveToElementText(x);
}while(x.previousSibling&&j.compareEndPoints(n,w)>0);
l=x.nextSibling;
}if(!l){var v=x.previousSibling;
if(!u&&v&&g.isTextNode(v)){this[i]=v;
this[r]=v.nodeValue.length;
}else{if(!this.startContainer){this.startContainer=t;
this.startOffset=0;
}this.endContainer=t;
this.endOffset=t[t.nodeType===1?"childNodes":"nodeValue"].length-1;
}t.removeChild(x);
return;
}}if(x){t.removeChild(x);
}j.setEndPoint(p?"EndToStart":"EndToEnd",w);
if(g.isTextNode(l)){m=j.text.length;
}else{if(i=="startContainer"&&g.isAncestorOrSelf(l,w.parentElement())){m=0;
}else{m=g.findNodeIndex(l);
l=l.parentNode;
}}}}this[i]=l;
this[r]=m;
},_moveCursorByCharacter:function(i){this._storeCursorPosition(i);
i.move("character");
return this._cursorHasMoved(i);
},_storeCursorPosition:function(i){this._cursorPos=this._getCursorPos(i);
},_cursorHasMoved:function(i){var k=this._cursorPos;
var j=this._getCursorPos(i);
return j.x!=k.x||j.y!=k.y;
},_getCursorPos:function(i){return{x:i.offsetLeft,y:i.offsetTop};
},_createTempNode:function(i){var j=i.createElement("span");
j.innerHTML="&#x200b;";
return j;
},_selectTempNode:function(i,j){i.moveToElementText(j);
j.parentNode.removeChild(j);
}};
})(Telerik.Web.UI.Editor,$telerik.$,Telerik.Web.UI.Editor.Utils);
Type.registerNamespace("Telerik.Web.UI.Editor");
(function(a,b,d){var c=function(e){this.top=e;
};
c.prototype={extractBefore:function(e){return this._traverseSide({edge:e,next:function(f){return f.previousSibling;
},insert:function(f,g){f.insertBefore(g,f.firstChild);
}});
},extractAfter:function(e){return this._traverseSide({edge:e,next:function(f){return f.nextSibling;
},insert:function(f,g){f.appendChild(g);
}});
},_traverseSide:function(j){var l=this.top,g=l.ownerDocument,h=g.createDocumentFragment(),f=j.edge;
do{var k=f.parentNode;
f=j.next(f);
while(f){var i=j.next(f);
j.insert(h,f);
f=i;
}if(k!=l){var e=k.cloneNode(false);
e.innerHTML="";
e.appendChild(h);
j.insert(h,e);
}f=k;
}while(f&&f!=l);
return h;
}};
b.DomTreeExtractor=c;
b.DomTreeExtractor.registerClass("Telerik.Web.UI.Editor.DomTreeExtractor");
})($telerik.$,Telerik.Web.UI.Editor);
Type.registerNamespace("Telerik.Web.UI.Editor");
Type.registerNamespace("Telerik.Web.UI.Editor.FragmentsCondition");
(function(a,b,e,d){var c=/^[\s\xA0]*$/;
b.RangeFragmentsTraverser=function(f){this.iterator=new b.RangeIterator(f);
this.range=this.iterator.range;
this.traversedFragments=[];
this.nodesToTraverse=[];
};
b.RangeFragmentsTraverser.prototype={traverseFragments:function(g){var j=this.nodesToTraverse;
this.iterator.iterate(function(i){j.push(i);
});
if(j.length==0){return;
}this.normalizeRangeEdgesForTables();
this.splitRangeEdges();
this.clearEmptyTextNodes(this.nodesToTraverse);
if(j.length==1&&j[0].childNodes.length){var f=j[0].childNodes;
this.nodesToTraverse=[];
for(var h=0;
h<f.length;
h++){this.nodesToTraverse.push(f[h]);
}}while(this.nodesToTraverse.length){this.collectNode(this.nodesToTraverse.shift(),g);
}this.removeDuplicatedEnd();
},collectNode:function(i,f){while(i&&this.isInRange(i)){if(!this.isSuitable(i,f)){this.removeTraversedNode(i);
if(i.firstChild){this.collectNode(i.firstChild,f);
}i=i.nextSibling;
continue;
}var g=new b.FragmentContainer();
var h=i;
while(h&&this.isSuitable(h,f)){if(f(h)){this.removeTraversedNode(h);
}i=h;
h=i.nextSibling;
g.addNode(i);
}this.storeFragment(g);
i=i?i.nextSibling:null;
}},storeFragment:function(f){if(f.nodes.length){this.traversedFragments.push(f);
}},isSuitable:function(g,f){return f(g)&&this.isInRange(g);
},isInRange:function(g){var h=this.range.cloneRange();
if(h.range.length){for(var f=0;
f<h.range.length;
f++){if(h.range.item(f)==g){return true;
}}return false;
}h.selectNodeContents(g);
return this.range.compareBoundaryPoints(Telerik.Web.UI.Editor.DomRange.END_TO_END,h)>-1;
},removeTraversedNode:function(f){var h=this.nodesToTraverse;
var g=a.inArray(f,h);
if(g!=-1){h.splice(g,1);
}},trimNodesToTraverse:function(){var g=this.nodesToTraverse;
for(var f=0;
f<g.length;
f++){if(e.isTextNode(g[f])){e.trimExtraWhitespace(g[f]);
}}},normalizeRangeEdgesForTables:function(){var g=this.nodesToTraverse;
var f=g[g.length-1];
if(e.isTag(f,"table")||e.isTag(f,"thead")||e.isTag(f,"tbody")){this.substitudeLastNodeWithChildren(f.getElementsByTagName("tr"));
this.normalizeRangeEdgesForTables();
}if(e.isTag(f,"tr")){this.substitudeLastNodeWithChildren(f.childNodes);
}},substitudeLastNodeWithChildren:function(f){var h=this.nodesToTraverse;
h.pop();
for(var g=0;
g<f.length;
g++){h.push(f[g]);
}},splitRangeEdges:function(){var j=this.nodesToTraverse;
var k=j[0];
var l=$telerik.$(k.parentNode);
var f=j[j.length-1];
var g=$telerik.$(f.parentNode);
var h=this.splitRangeEdge(f,false);
var i=this.splitRangeEdge(k,true);
if(!a.inArray(h,j)){j[j.length-1]=h;
}this.cleanUpAfterSplit(l,g);
this.removeRedundantStart(j,i);
},splitRangeEdge:function(g,j){if(!this.isContainedInRange(g)){var k=a(g.parentNode);
var h=this.range.cloneRange();
h.selectNodeContents(g);
h.snapToRange(j?b.DomRange.START_TO_START:b.DomRange.END_TO_END,this.range);
var l=null;
if(j&&$telerik.isIE9&&e.isTextNode(g)){l=g.nodeValue.replace(h.toString(),"");
}h.collapse(j);
var f=g.nodeType==9?g:g.ownerDocument;
var m=f.createElement("span");
m.className="__telerik_marker __telerik_marker_"+(j?"start":"end");
h.insertNode(m);
var i=k.find(".__telerik_marker_"+(j?"start":"end"))[0];
if(i===d){i=k.next().find(".__telerik_marker_"+(j?"start":"end"))[0];
if(i){k.append(i);
}}var n=i[j?"nextSibling":"previousSibling"];
if(l&&c.test(l)){i.previousSibling.nodeValue=l;
}return n;
}return g;
},removeRedundantStart:function(g,h){try{while(!!g.length&&!this.isContainedInRange(g[0])){g.shift();
}}catch(f){}finally{if(g.length&&g[0]==h){g[0]=h;
}else{g.unshift(h);
}}},cleanUpAfterSplit:function(k,g){var h=this.nodesToTraverse,i=this.range,j=k.find(".__telerik_marker_start")[0],f=g.find(".__telerik_marker_end")[0];
if(j){this._removeEmptyTextAroundMarker(j);
i.setStartBefore(j);
j.parentNode.removeChild(j);
}if(f){this._removeEmptyTextAroundMarker(f);
i.setEndBefore(f);
f.parentNode.removeChild(f);
}else{this.range.setEndAfter(h[h.length-1]);
}if(j||f){i.select();
}},_removeEmptyTextAroundMarker:function(f){this._removeEmptyText(f.previousSibling);
this._removeEmptyText(f.nextSibling);
},_removeEmptyText:function(f){if(f&&e.isTextNode(f)&&f.nodeValue.length===0){f.parentNode.removeChild(f);
}},removeDuplicatedEnd:function(){var g=this.traversedFragments;
if(g.length<2){return;
}var f=g.length,h=g[f-1],i=h.nodes[0],j=g[f-2],k=j.nodes[j.nodes.length-1];
while(e.isAncestorOf(k,i)){h.removeNodeAt(0);
if(h.nodes.length==0){g.pop();
break;
}i=h.nodes[0];
}},isContainedInRange:function(f){var h=this.range;
var g=h.cloneRange();
g.selectNodeContents(f);
return h.compareBoundaryPoints(Telerik.Web.UI.Editor.DomRange.START_TO_START,g)<1&&h.compareBoundaryPoints(Telerik.Web.UI.Editor.DomRange.END_TO_END,g)>-1;
},clearEmptyTextNodes:function(h){for(var g=0;
g<h.length;
){var j=h[g];
if(e.isTextNode(j)&&j.nodeValue==""){var f=h.splice(g,1)[0];
if(f.parentNode){f.parentNode.removeChild(f);
}}else{g++;
}}}};
b.RangeFragmentsTraverser.registerClass("Telerik.Web.UI.Editor.RangeFragmentsTraverser");
b.BlockFragmentsTraverser=function(f){this.options=a.extend({breakCondition:b.FragmentsCondition.isInlineNode},f||{});
this.currentFragment=new b.FragmentContainer();
};
b.BlockFragmentsTraverser.prototype={traverseFragment:function(g,h){if(!h){h=this.options.breakCondition;
}var f=this.currentFragment;
this.traverseLeft(g,h);
f.addNode(g);
this.traverseRight(g,h);
return f;
},traverseLeft:function(i,j){var f=this.currentFragment;
var g=i;
var h=[];
while((g=g.previousSibling)&&j(g)){h.push(g);
}while(h.length){f.addNode(h.pop());
}},traverseRight:function(h,i){var f=this.currentFragment;
var g=h;
while((g=g.nextSibling)&&i(g)){f.addNode(g);
}}};
b.BlockFragmentsTraverser.registerClass("Telerik.Web.UI.Editor.BlockFragmentsTraverser");
b.FragmentsCondition.isInlineNode=function(f){return f.nodeType==3||!e.isBlockElement(f);
};
b.FragmentsCondition.isInlineTag=function(f){return function(g){return b.FragmentsCondition.isInlineNode(g)&&!e.isTag(g,f);
};
};
b.FragmentsCondition.isInlineNodeForIE8=function(f){return f.nodeType==3||!e.isBlockElementOrNewLine(f);
};
b.FragmentsCondition.inlineNotLink=b.FragmentsCondition.isInlineTag("a");
b.FragmentsCondition.inlineNotLinkForIE8=function(f){return b.FragmentsCondition.isInlineNodeForIE8(f)&&!e.isTag(f,"a");
};
b.FragmentContainer=function(){this.nodes=[];
};
b.FragmentContainer.prototype={addNode:function(f){this.nodes.push(f);
},addAll:function(g){for(var f=0;
f<g.length;
f++){this.addNode(g[f]);
}},addNodeAt:function(g,f){this.nodes.splice(f,0,g);
},removeNodeAt:function(f){this.nodes.splice(f,1);
},removeNode:function(g){var f=this.indexOf(g);
if(f!=-1){this.removeNodeAt(f);
}},contains:function(f){return this.indexOf(f)!=-1;
},indexOf:function(f){return a.inArray(f,this.nodes);
},getParent:function(){return this.nodes.length?this.nodes[0].parentNode:null;
},appendTo:function(h){var j=this.nodes,f,g;
for(f=0,g=j.length;
f<g;
f++){h.appendChild(j[f]);
}},insertBefore:function(g){var j=g.parentNode;
var h=this.nodes;
for(var f=0;
f<h.length;
f++){j.insertBefore(h[f],g);
}},insertBeforeFirst:function(f){if(!this.nodes.length){return;
}var g=this.getParent();
g.insertBefore(f,this.nodes[0]);
},appendNodeAfter:function(g){if(!this.nodes.length){return;
}var h=this.getParent();
var f=this.nodes[this.nodes.length-1];
h.insertBefore(g,f.nextSibling);
},remove:function(){var j=this.getParent();
if(!j){return;
}var h=this.nodes;
for(var f=0,g=h.length;
f<g;
f++){j.removeChild(h[f]);
}},clear:function(){this.nodes.length=0;
},isEmpty:function(f){return !e.some(this.nodes,function(g){return(e.isTag(g,"img")||!e.isWhitespaceNode(g))&&(!f||!f(g));
});
},all:function(f){return e.every(this.nodes,f);
},any:function(f){return e.some(this.nodes,f);
}};
b.FragmentContainer.registerClass("Telerik.Web.UI.Editor.FragmentContainer");
})($telerik.$,Telerik.Web.UI.Editor,Telerik.Web.UI.Editor.Utils);
Type.registerNamespace("Telerik.Web.UI.Editor");
(function(a,b,d,c){b.RangeIterator=function(f,e){this.options=a.extend({normalizeEdges:$telerik.isIE&&!$telerik.isIE9Mode},e||{});
f=this.range=b.DomRange.toDomRange(f);
if(this.range.isCollapsed()){return;
}this._normalizeRangeEdges();
var g=f.commonAncestorContainer;
this._next=f.startContainer==g&&!d.isTextNode(f.startContainer)?f.startContainer.childNodes[f.startOffset]:d.findAncestorUntil(g,f.startContainer);
this._end=f.endContainer==g&&!d.isTextNode(f.endContainer)?f.endContainer.childNodes[f.endOffset]:d.findAncestorUntil(g,f.endContainer).nextSibling;
};
b.RangeIterator.prototype={iterate:function(e){var f=this.nextNode();
while(f){if(this._hasSubTree(f)){this._buildSubTraverser(f).iterate(e);
}else{e(f);
}f=this.nextNode();
}},nextNode:function(){var e=this._next;
this._next=e&&e.nextSibling!=this._end?e.nextSibling:null;
return e;
},_hasSubTree:function(e){return !d.isTextNode(e)&&d.canHaveChildren(e)&&(d.isAncestorOrSelf(e,this.range.startContainer)||d.isAncestorOrSelf(e,this.range.endContainer));
},_buildSubTraverser:function(e){var f=this.range.cloneRange();
f.selectNodeContents(e);
if(d.isAncestorOrSelf(e,this.range.startContainer)){f.setStart(this.range.startContainer,this.range.startOffset);
}if(d.isAncestorOrSelf(e,this.range.endContainer)){f.setEnd(this.range.endContainer,this.range.endOffset);
}return new b.RangeIterator(f,a.extend({},this.options));
},_normalizeRangeEdges:function(){if(this.options.normalizeEdges){this.range.normalizeEdges();
}},_collectEdgeNode:function(f,g,e){return d.isTextNode(f)||(e&&d.isTextNode(f.childNodes[g]))?f:f.childNodes[g];
}};
b.RangeIterator.registerClass("Telerik.Web.UI.Editor.RangeIterator");
})($telerik.$,Telerik.Web.UI.Editor,Telerik.Web.UI.Editor.Utils);
Type.registerNamespace("Telerik.Web.UI.Editor");
(function(a,b,d,c){b.RangeTraverser=function(e){this.iterator=new b.RangeIterator(e);
this.range=this.iterator.range;
this.traversedNodes=[];
};
b.RangeTraverser.prototype={traverse:function(){var f=this.traversedNodes;
var e=function(g){if(g.nodeType==3||g.tagName.toLowerCase()=="img"){f.push(g);
}else{g=g.firstChild;
while(g){e(g);
g=g.nextSibling;
}}};
this.iterator.iterate(e);
}};
b.RangeTraverser.registerClass("Telerik.Web.UI.Editor.RangeTraverser");
b.RangeBlockTraverser=function(e){this.iterator=new b.RangeIterator(e);
this.range=this.iterator.range;
this.traversedNodes=[];
};
b.RangeBlockTraverser.prototype={traverse:function(i){i=i||Function.emptyFunction;
var g=this.traversedNodes;
this.iterator.iterate(function(j){g.push(j);
});
if(!g.length){var h=this.range;
var f=[d.isTextNode(h.startContainer)?h.startContainer:h.startContainer.childNodes[h.startOffset],d.isTextNode(h.endContainer)?h.endContainer:h.endContainer.childNodes[h.endOffset],h.commonAncestorContainer];
while(f.length!=0&&g.length==0){var e=f.shift();
if(e&&!i(e)){g.push(e);
}}}this.edgesToBlock(g,i);
return g;
},edgesToBlock:function(j,k){j[0]=d.getBlockParentUntil(j[0],k);
j[j.length-1]=d.getBlockParentUntil(j[j.length-1],k);
var e=j[0];
var g=j[j.length-1];
for(var f=1;
f<j.length-1;
f++){var h=j[f];
if(!d.isBlockElement(h)&&(d.isAncestorOf(e,h)||d.isAncestorOf(g,h))){j.splice(f,1);
f--;
}}}};
b.RangeBlockTraverser.registerClass("Telerik.Web.UI.Editor.RangeBlockTraverser");
})($telerik.$,Telerik.Web.UI.Editor,Telerik.Web.UI.Editor.Utils);
Type.registerNamespace("Telerik.Web.UI.Editor");
(function(a,b,c){b.TrackerBase=function(d){var e=this;
e.editor=d;
e.nodes=[];
};
b.TrackerBase.prototype={_zeroWidthCharacter:"\u200b",stopTracking:function(){var d=this;
d.detachEvents();
d.isTracking=false;
},createTrackedNode:function(g){var h=this;
var d=h.getTrackableChars();
var e=g||h.editor.get_document();
var f=e.createTextNode(d);
h.trackNode(f);
return f;
},getTrackableChars:function(){return this._zeroWidthCharacter;
},trackNode:function(d){this.nodes.push(d);
},cleanUpNodes:function(){var f=this,e=f.nodes;
while(e.length){var d=e.pop();
f._cleanUpNode(d);
}},_cleanUpNode:function(d){if(c.isTextNode(d)){this.removeFirstZeroWidthChar(d);
}else{a(d).remove();
}},removeFirstZeroWidthChar:function(g){var h=this._zeroWidthCharacter;
try{if(!g||!g.nodeValue){return;
}if($telerik.isIE){g.nodeValue=g.nodeValue.replace(new RegExp("["+h+"]+",""),"");
}else{var f=g.nodeValue.indexOf(h);
if(f!=-1){g.deleteData(f,1);
}}}catch(d){}},reset:function(){this.cleanUpNodes();
},dispose:function(){var d=this;
d.stopTracking();
d.editor=null;
}};
Telerik.Web.UI.Editor.TrackerBase.registerClass("Telerik.Web.UI.Editor.TrackerBase");
})($telerik.$,Telerik.Web.UI.Editor,Telerik.Web.UI.Editor.Utils);
Type.registerNamespace("Telerik.Web.UI.Editor");
(function(a,b,d,c){b.EmptyWhitespaceCharTracker=function(e){var f=this;
b.EmptyWhitespaceCharTracker.initializeBase(f,[e]);
f.cleanUpDelegate=Function.createDelegate(f,f.cleanUpWhitespace);
f.cleanUpKeypressDelegate=Function.createDelegate(f,f.cleanUpWhitespaceKeypress);
};
b.EmptyWhitespaceCharTracker.prototype={startTracking:function(){var g=this,f=g.editor,e=f.get_contentArea();
g.isTracking=true;
f.add_submit(g.cleanUpDelegate);
a(e).on("keypress",g.cleanUpKeypressDelegate);
$telerik.addExternalHandler(e,"mousedown",g.cleanUpDelegate);
$telerik.addExternalHandler(e,"touchstart",g.cleanUpDelegate);
},cleanUpWhitespaceKeypress:function(f){var i=this;
if(!i.shouldCleanUp(f)){return;
}var h=i.nodes;
while(h.length){var g=h.pop();
i._cleanUpNodeKeypress(g);
}},_cleanUpNodeKeypress:function(f){var g=this,e=15;
if(d.isTextNode(f)){setTimeout(function(){g.removeFirstZeroWidthChar(f);
},e);
}else{a(f).remove();
}},cleanUpWhitespace:function(f){var g=this;
if(!g.shouldCleanUp(f)){return;
}g.cleanUpNodes();
},shouldCleanUp:function(f){return f.type!="keypress"||!$telerik.isChrome||(f.keyCode>32&&f.keyCode<40);
},detachEvents:function(){var g=this,f=g.editor,e=f.get_contentArea();
f.remove_submit(g.cleanUpDelegate);
a(e).off("keypress",g.cleanUpKeypressDelegate);
$telerik.removeExternalHandler(e,"mousedown",g.cleanUpDelegate);
$telerik.removeExternalHandler(e,"touchstart",g.cleanUpDelegate);
},dispose:function(){var e=this;
if(!e.isTracking){return;
}b.EmptyWhitespaceCharTracker.callBaseMethod(e,"dispose");
e.cleanUpDelegate=null;
}};
Telerik.Web.UI.Editor.EmptyWhitespaceCharTracker.registerClass("Telerik.Web.UI.Editor.EmptyWhitespaceCharTracker",Telerik.Web.UI.Editor.TrackerBase);
})($telerik.$,Telerik.Web.UI.Editor,Telerik.Web.UI.Editor.Utils);
Type.registerNamespace("Telerik.Web.UI.Editor");
(function(a,b,d,c){b.NodesTracker=function(e){var f=this;
f.isActive=true;
b.NodesTracker.initializeBase(f,[e]);
if(!f.isActive){return;
}f.isLegacyIE=$telerik.isIE&&!$telerik.isIE9Mode;
f.cleanUpDelegate=Function.createDelegate(f,f.cleanUpNodes);
f.keyupDelegate=Function.createDelegate(f,f.keyupHandler);
f.keydownDelegate=Function.createDelegate(f,f.keydownHandler);
f.pasteDomDelegate=Function.createDelegate(f,f.pasteDomHandler);
};
b.NodesTracker.prototype={startTracking:function(){var f=this;
if(!f.isActive){return;
}var e=f.editor;
f.isTracking=true;
e.add_submit(f.cleanUpDelegate);
e.add_pasteDom(f.pasteDomDelegate);
a(e.get_contentArea()).on({keydown:f.keydownDelegate,keyup:f.keyupDelegate});
},isTracked:function(e){return e&&a.inArray(e,this.nodes)!=-1;
},removeTrackedNode:function(e){if(!e){return;
}var g=this;
var f=a.inArray(e,g.nodes);
if(f!=-1){if(d.isTextNode(e)){e.nodeValue=e.nodeValue.replace(new RegExp(g._zeroWidthCharacter,"g"),"");
if(e.length==0){a(e).remove();
}}else{a(e).remove();
}g.nodes.splice(f,1);
}},_update:function(){var h=this,g=h.nodes;
for(var e=g.length-1;
e>=0;
e--){var f=g[e];
if(h.shouldCleanUpNode(f)){h._cleanUpNode(f);
g.splice(e,1);
}}},removeFirstZeroWidthChar:function(e){var f=this;
b.NodesTracker.callBaseMethod(f,"removeFirstZeroWidthChar",[e]);
if(!f._isNodeRemoved(e)&&e.length==0&&d.isNodeEmptyRecursive(e.parentNode)){e.nodeValue="\u00A0";
}},shouldCleanUpNode:function(h){var g,j;
try{g=d.isTextNode(h);
j=g?h.length:null;
if(g&&!j){return true;
}}catch(f){return true;
}if(!g){return false;
}if((j>1&&!new RegExp("^["+this._zeroWidthCharacter+"]+$","").test(h.nodeValue))||(this._isNodeRemoved(h)||h.nextSibling||(h.previousSibling&&!d.isTag(h.previousSibling,"br")))){return true;
}var i=h.parentNode;
while(!d.isBlockElement(i)){if(d.isTextNode(i.nextSibling)){return true;
}i=i.parentNode;
}},_isNodeRemoved:function(g){try{return !a.contains(this.editor.get_contentArea(),g);
}catch(f){return true;
}},isZeroWidthNode:function(e){return d.isTextNode(e)&&new RegExp("^["+this._zeroWidthCharacter+"]+$","").test(e.nodeValue);
},getTrackableChars:function(){var e=this;
var f=e._zeroWidthCharacter;
if(e.isLegacyIE){return f+f;
}else{return b.NodesTracker.callBaseMethod(e,"getTrackableChars");
}},keyupHandler:function(f){var i=this,h=i.isDelete(f),g=i.isBackspace(f);
if(!i._cleanUpOnKeyup&&(!i._shouldHandleKeyEvent(f)||(!h&&!g))){return;
}if(i._cleanUpOnKeyup){delete i._cleanUpOnKeyup;
}i._update();
},keydownHandler:function(i){var r=this;
if(!r._shouldHandleKeyEvent(i)){return;
}var m=r.isLeftArrow(i),n=r.isRightArrow(i),l=r.isDelete(i),k=r.isBackspace(i),o=r.isTyping(i);
if(!l&&!k&&!m&&!n&&!o){return;
}var j=r.editor,q=j.getSelection(),h=b.DomRange.toDomRange(q.getRange(true)),f=h.commonAncestorContainer,g=j.get_document();
if(!h.collapsed||!r.isZeroWidthNode(f)){return;
}var p=f.length;
if(m){d._setCursorInTextNode(h,f,0,0);
}else{if(n){d._setCursorInTextNode(h,f,p,p);
}else{if(k||l){d._setCursorInTextNode(h,f,0,p);
g.execCommand("delete",false,null);
}else{if(o){d._setCursorInTextNode(h,f,p-1,p);
if(d.isList(f.nextSibling)){f.parentNode.insertBefore(g.createTextNode("\n"),f.nextSibling);
r._cleanUpOnKeyup=true;
}if(!!j.shouldTrackChanges&&j.shouldTrackChanges()){g.execCommand("delete",false,null);
}}}}}},_shouldHandleKeyEvent:function(f){if(f.ctrlKey||f.altKey||f.metaKey||!this.nodes.length){return false;
}return true;
},pasteDomHandler:function(g,e){var f=e.get_cursor(),i=f.previousSibling,h=f.nextSibling,j=this;
if(j.isZeroWidthNode(i)){a(i).remove();
}if(j.isZeroWidthNode(h)){a(h).remove();
}},isTyping:function(f){return d.isTypingKey(f)&&!this.isDeleting(f);
},isLeftOrRightArrow:function(f){return !f.altKey&&!f.ctrlKey&&!f.shiftKey&&(this.isLeftArrow(f)||this.isRightArrow(f));
},isLeftArrow:function(f){return f.keyCode==37;
},isRightArrow:function(f){return f.keyCode==39;
},isDeleting:function(f){return this.isDelete(f)||this.isBackspace(f);
},isDelete:function(f){return f.keyCode==46;
},isBackspace:function(f){return f.keyCode==8;
},detachEvents:function(){var f=this;
if(!f.isActive){return;
}var e=f.editor;
e.remove_submit(f.cleanUpDelegate);
e.remove_pasteDom(f.pasteDomDelegate);
a(e.get_contentArea()).off({keydown:f.keydownDelegate,keyup:f.keyupDelegate});
},dispose:function(){var e=this;
if(!e.isActive||!e.isTracking){return;
}b.NodesTracker.callBaseMethod(e,"dispose");
e.cleanUpDelegate=null;
e.keyupDelegate=null;
e.keydownDelegate=null;
e.pasteDomDelegate=null;
}};
Telerik.Web.UI.Editor.NodesTracker.registerClass("Telerik.Web.UI.Editor.NodesTracker",Telerik.Web.UI.Editor.TrackerBase);
})($telerik.$,Telerik.Web.UI.Editor,Telerik.Web.UI.Editor.Utils);
Type.registerNamespace("Telerik.Web.UI.Editor.UI");
(function(a,c,e,b,d){c.SizerBase=function(f){var g=this;
g.editor=f;
g._sizes={};
g.isContentAreaModeDiv=f.get_contentAreaMode()==b.EditorContentAreaMode.Div;
};
c.SizerBase.prototype={setEditorSize:function(l,i){var k=this,h=k.editor,g=k._isSizeInPercent(l)?l:parseInt(l,10)+"px",f=k._isSizeInPercent(i)?i:parseInt(i,10)+"px",m=h.get_element(),j=h.get_mainTable();
k._setCss(m,{width:g,height:f});
if(j){k._setHeight(j,f);
}k.onRepaint(true);
},getMinWidth:function(){return this.editor.get_TopZone().parentNode.offsetWidth;
},lineHeight:35,getMinHeight:function(){var h=this.editor,g=new c.DimensionsCalculator(h),f=g._getSupportingUIHeight();
return f+this.lineHeight;
},setWrapperMinDimentions:function(g){var f=this.editor.get_element();
if(g||!f.style.minHeight){f.style.minHeight=this.getMinHeight()+"px";
}if(!f.style.minWidth){f.style.minWidth=this.getMinWidth()+"px";
}},ensureMinDimentions:function(){var f=this.editor.get_element(),j=this.editor.get_mainTable(),i=f.style.minWidth,h=f.style.minHeight,k=!/%/.test(f.style.width)?f.style.width:f.clientWidth,g=!/%/.test(f.style.height)?f.style.height:f.clientHeight;
if(i&&k&&parseInt(i,10)>parseInt(k,10)){f.style.width=i;
}if(h&&g&&parseInt(h,10)>parseInt(g,10)){f.style.height=h;
j.style.height=h;
}},getIframe:function(){var f=this.editor;
return f.get_mode()!=b.EditModes.Html?f.get_contentAreaElement():f._getHtmlModeTextarea();
},onResizeStart:function(){this.setWrapperMinDimentions(true);
},onResizing:function(){},onResizeEnd:function(){this.ensureMinDimentions();
this.setContentElementHeight();
var f=parseInt(this.editor.get_element().style.height,10);
this.editorHeight=!this.editorHeight?f:Math.min(this.editorHeight,f);
},modeChanged:function(){this.setContentElementHeight();
},onRepaint:function(g){if(!g){return;
}var h=this;
var f=h.editor;
if(f._shouldAutoResizeHeight()){if(f.isFullScreen()){h.disableAutoResizeHeight();
}else{h.makeAutoResizeHeight();
}}else{h.setContentElementHeight();
}},moduleToggleVisibility:function(h){var g=this.editor,k=g.get_element(),j=g.get_mainTable(),f=parseInt(k.style.height,10),i=this.editorHeight;
k.style.minHeight=this.getMinHeight()+"px";
if(!h&&i&&i<f&&/px$/i.test(k.style.height)){k.style.height=i+"px";
j.style.height=i+"px";
}this.setContentElementHeight();
},hideDesignViewElement:function(f){f.style.display="none";
},setHtmlViewElementHeight:function(f){f.style.height="2px";
},shouldPostponeSizing:function(){if(this.cssLoadTime&&this.cssLoadTime>5000){return false;
}return !this.isToolsCssApplied(this.editor.get_mainTable());
},postponeSetContentElementHeight:function(){if(!this.cssLoadTime){this.cssLoadTime=0;
}this.cssLoadTime+=15;
setTimeout(Function.createDelegate(this,this.setContentElementHeight),15);
},isToolsCssApplied:function(g){var h=a(g).find("ul.reToolbar");
var f=$telerik.getComputedStyle(h[0],"list-style-type")||$telerik.getComputedStyle(h[0],"listStyleType");
return !f||f=="none";
},isHeightChanged:function(){var n=this,f=n.editor.get_contentArea(),l=$telerik.isIE&&!n.isContentAreaModeDiv,m=n._sizes,j;
if(l){j=f.style.position;
f.style.position="absolute";
}var i=f.scrollHeight,h=f.offsetHeight,g=f.clientHeight,k=true;
if(m.contentAreaScrollHeight&&m.contentAreaOffsetHeight&&m.contentAreaClientHeight&&m.contentAreaScrollHeight==i&&m.contentAreaOffsetHeight==h&&m.contentAreaClientHeight==g){k=false;
}else{m.contentAreaScrollHeight=i;
m.contentAreaOffsetHeight=h;
m.contentAreaClientHeight=g;
}if(l){f.style.position=j;
}return k;
},_setHeight:function(f,g){this._setCss(f,{height:g});
},_setCss:function(f,g){a(f).css(g);
},_isSizeInPercent:function(f){var g=f+"";
return/%$/.test(g);
}};
Telerik.Web.UI.Editor.UI.SizerBase.registerClass("Telerik.Web.UI.Editor.UI.SizerBase");
})($telerik.$,Telerik.Web.UI.Editor.UI,Telerik.Web.UI.Editor.Utils,Telerik.Web.UI);
Type.registerNamespace("Telerik.Web.UI.Editor.UI");
(function(a,b,d){var c=".reBottomTable";
b.DimensionsCalculator=function(e){this.editor=e;
};
b.DimensionsCalculator.prototype={calculateContentHeight:function(){var e=this.containerHeight(),f=e-this._getSupportingUIHeight();
return f;
},calculateContainerHeightByContentHeight:function(e){return e+this._getSupportingUIHeight();
},isContainerPxHeight:function(){return/px/i.test(this.editor.get_element().style.height);
},containerHeight:function(){var e=this.editor.get_element(),f=this.containerHeightComputed(),g=this._isPxHeight(f);
if(g){f=parseInt(f,10);
}else{f=e.clientHeight||e.offsetHeight;
}return f;
},containerHeightComputed:function(){var f=this.editor,e=f.get_element();
return $telerik.getComputedStyle(e,"height");
},_getSupportingUIHeight:function(){var g=this.editor,n=g.get_mainTable(),m=a.makeArray(n.rows),h=m.length-1,o=this._getToolbarHeight(a(".reToolCell",m[2])[0]),e=m[0].offsetHeight+m[1].offsetHeight+m[h].offsetHeight+this._getIframeParentTdBorders(a(".reContentCell",m[3])[0]),k=this._getModulesHeight(m[h-1]),l=0;
var i=a(c,m[h-2])[0];
var j=i?i.offsetHeight:0;
e=($telerik.isIE6||$telerik.isIE7||$telerik.isIE8)?Math.min(e,4):e;
var f=g._getCurrentArea();
if(f.nodeName=="TEXTAREA"&&($telerik.isIE7||(!("box-sizing" in f.style)))){l+=this._getComputedSize(f,"padding-top");
l+=this._getComputedSize(f,"padding-bottom");
}return o+e+j+k+l;
},_isPxHeight:function(e){return e.indexOf("px")!=-1;
},_isPercentHeight:function(){return/%/.test(this.editor.get_element().style.height);
},_getIframeParentTdBorders:function(e){var f=this;
return f._getComputedSize(e,"border-top-width")+f._getComputedSize(e,"border-bottom-width");
},_getModulesHeight:function(f){var e=0;
$telerik.$(".reModule",f).each(function(){e+=this.offsetHeight;
});
return e;
},_getToolbarHeight:function(e){var i=a(e).find("table.reAjaxspell_wrapper")[0];
if(i&&$telerik.getVisible(i)){return e.offsetHeight;
}var g=0;
if(!e.style.height){var j=e.firstChild,h=j.style.overflow,f=j.style.cssFloat;
e.style.height="10px";
j.style.overflow="auto";
j.style.cssFloat="left";
g=j.offsetHeight;
e.style.height="";
j.style.overflow=h;
j.style.cssFloat=f;
}return g;
},_getComputedSize:function(f,e){var g=$telerik.getComputedStyle(f,e,0);
g=g?parseFloat(g):0;
g=!isNaN(g)?Math.round(g):0;
return g;
}};
})($telerik.$,Telerik.Web.UI.Editor.UI);
Type.registerNamespace("Telerik.Web.UI.Editor.UI");
(function(a,c,e,b,d){c.Sizer=function(f){c.Sizer.initializeBase(this,[f]);
};
c.Sizer.prototype={setContentElementHeight:function(){if(this.shouldPostponeSizing()){return this.postponeSetContentElementHeight();
}var i=this.editor,h=new Telerik.Web.UI.Editor.UI.DimensionsCalculator(i),k=h.isContainerPxHeight(),l=h._isPercentHeight(),m=h._getSupportingUIHeight(),f=h.containerHeight(),g=f-m,n=i.get_element(),j=this.getIframe();
if(f<m+this.lineHeight){f=m+this.lineHeight;
if(k){n.style.height=f+"px";
}g=this.lineHeight;
}j.style.height=g+"px";
if(l){i.get_mainTable().style.height=f+"px";
this.percentHeightFirstLoad=l;
}if(!this.editorHeight){this.editorHeight=f;
}},onResizeStart:function(){c.Sizer.callBaseMethod(this,"onResizeStart");
var f=this.getIframe();
f.style.height=this.lineHeight+"px";
},modeChanged:function(f){if(this.percentHeightFirstLoad&&f!=Telerik.Web.UI.EditModes.Html){this.getIframe().style.height="0px";
}c.Sizer.callBaseMethod(this,"modeChanged");
}};
Telerik.Web.UI.Editor.UI.Sizer.registerClass("Telerik.Web.UI.Editor.UI.Sizer",Telerik.Web.UI.Editor.UI.SizerBase);
})($telerik.$,Telerik.Web.UI.Editor.UI,Telerik.Web.UI.Editor.Utils,Telerik.Web.UI);
Type.registerNamespace("Telerik.Web.UI.Editor.UI");
(function(a,c,e,b,d){c.SizerAutoResizeHeight=function(f){c.SizerAutoResizeHeight.initializeBase(this,[f]);
this.isLegacyIE=$telerik.isIE6||$telerik.isIE7||$telerik.isIE8;
};
c.SizerAutoResizeHeight.prototype={makeAutoResizeHeight:function(j,i){var g=this.editor;
if(j===false||g.isFullScreen()){return;
}var f=g.get_contentArea(),k=g.get_mainTable(),l=g.get_element(),h=this.getIframe();
if(!this._sizes.editorMinHeight){this._sizes.editorMinHeight=this._getEditorMinHeight(l);
}if(h.style.height=="100%"){h.style.height="";
}l.style.height="";
k.style.height="";
f.style.overflow="hidden";
this.resizeIframeHeight(true);
},disableAutoResizeHeight:function(){var g=this.editor,f=g.get_contentArea(),h=this.getIframe();
f.style.overflow="";
h.style.height="100%";
},_getEditorMinHeight:function(f){return/px/i.test(f.style.height)?parseInt(f.style.height,10):f.offsetHeight;
},resizeIframeHeight:function(g){if((!this.isHeightChanged()&&!g)||this.editor.isFullScreen()){return;
}var f=this.getIframe();
this.setIframeHeight(f);
this.saveIframeHeight(f);
if(this.editor._contentAreaWrapper){this.editor._contentAreaWrapper.style.height=f.style.height;
}},setIframeHeight:function(g){var j=this.getIframeMinHeight(),i=g.style.height?parseInt(g.style.height,10):0;
var h=this.calculateIframeHeight();
var k=Math.max(h,j);
var n=0;
if(this.editor.get_mode()==Telerik.Web.UI.EditModes.Preview){var f=this.editor.get_contentArea(),m=$telerik.getComputedStyle(f,"margin-top")||$telerik.getComputedStyle(f,"marginTop")||0,l=$telerik.getComputedStyle(f,"margin-bottom")||$telerik.getComputedStyle(f,"marginBottom")||0;
n=parseInt(m,10)+parseInt(l,10);
f.style.marginTop="0px";
f.style.marginBottom="0px";
f.style.paddingTop="0px";
f.style.paddingBottom="0px";
}if(Math.abs(k-n-i)>10){g.style.height=(k-n)+"px";
}},saveIframeHeight:function(g){var f=this.editor;
if(f.get_mode()==Telerik.Web.UI.EditModes.Design){this._sizes.iframeHight=g.offsetHeight;
}},modeChanged:function(){var i=this.editor,g=i.get_mode(),h=Telerik.Web.UI.EditModes,f=i.get_contentArea(),j=this.getIframe();
f.style.margin="";
f.style.padding="";
if(i.isFullScreen()){j.style.height="100%";
}else{if(g==h.Design){this.makeAutoResizeHeight(true,true);
this._sizes.iframeHight=j.offsetHeight;
}else{if(g==h.Html){if(this._sizes.iframeHight){j.style.height=(this._sizes.iframeHight)+"px";
j.style.overflow="";
}else{this.makeAutoResizeHeight(true,true);
j.style.height=(i.get_textArea().scrollHeight+1)+"px";
}}else{if(g==h.Preview){if(this._sizes.iframeHight){j.style.height=(this._sizes.iframeHight)+"px";
f.style.height="";
}else{this.makeAutoResizeHeight(true,true);
f.style.height="";
}f.style.marginTop="0px";
f.style.marginBottom="0px";
f.style.paddingTop="0px";
f.style.paddingBottom="0px";
}}}}},getIframeMinHeight:function(){var g=this.editor,h=this._sizes.editorMinHeight,f=new Telerik.Web.UI.Editor.UI.DimensionsCalculator(g),j=f._getSupportingUIHeight(),i=Math.max(h-j,this.lineHeight);
return i;
},calculateIframeHeight:function(){var i=this.editor,f=i.get_contentArea(),h=new Telerik.Web.UI.Editor.UI.DimensionsCalculator(i),m=h._getSupportingUIHeight(),g=Math.max(this.getContentAreaHeight(f),this.lineHeight),l=this._sizes.editorMinHeight,j=Math.max(m+g,l),k=j-m;
this._sizes.contentAreaHeight=g;
return k;
},getContentAreaHeight:function(f){var j=this.isLegacyIE;
var g=f.style.cssFloat;
var i=f.style.height;
var k;
f.style.cssFloat="left";
f.style.height="auto";
if(!j){k=f.style.overflow;
f.style.overflow="";
}var h=!j?f.offsetHeight:f.scrollHeight;
f.style.cssFloat=g;
f.style.height=i;
if(!j){f.style.overflow=k;
}return h;
},onSubmitSetEditorHeight:function(){var f=this.editor.get_element();
var g=$telerik.getComputedStyle(f,"height");
if(g&&/px$/i.test(g)){f.style.height=g;
this.editor.get_mainTable().style.height=g;
}},moduleToggleVisibility:function(){this.resizeIframeHeight(true);
},setHtmlViewElementHeight:function(f){var g=this;
if(g._sizes.iframeHight){f.style.height=g._sizes.iframeHight+"px";
}else{c.SizerAutoResizeHeight.callBaseMethod(g,"setHtmlViewElementHeight",[f]);
}}};
c.SizerAutoResizeHeight.registerClass("Telerik.Web.UI.Editor.UI.SizerAutoResizeHeight",Telerik.Web.UI.Editor.UI.SizerBase);
})($telerik.$,Telerik.Web.UI.Editor.UI,Telerik.Web.UI.Editor.Utils,Telerik.Web.UI);
Type.registerNamespace("Telerik.Web.UI.Editor.UI");
(function(a,c,e,b,d){c.SizerAutoResizeHeightDivMode=function(f){c.SizerAutoResizeHeightDivMode.initializeBase(this,[f]);
};
c.SizerAutoResizeHeightDivMode.prototype={resizeIframeHeight:function(g){var h=this;
if((!h.isHeightChanged()&&!g)||h.editor.isFullScreen()){return;
}var f=h.getIframe();
if(!f.style.minHeight){f.style.minHeight=h.getIframeMinHeight()+"px";
}h.saveIframeHeight(f);
},modeChanged:function(){var i=this;
var g=i.getIframe();
var f=i.editor;
if(f.get_mode()==b.EditModes.Design){if(f.isFullScreen()){g.style.height="100%";
}else{if(g.style.height){g.style.height="";
g.parentNode.style.height="";
}}return;
}var h=i._sizes;
if(h.iframeHight){g.style.height=(h.iframeHight)+"px";
g.style.overflow="";
}},hideDesignViewElement:function(g){var f=this.editor.get_element();
if(!f.style.height){var h=$telerik.getComputedStyle(f,"height");
if(!/px$/i.test(h)){h=f.clientHeight+"px";
}f.style.height=h;
setTimeout(function(){f.style.height="";
},0);
}g.style.display="none";
}};
c.SizerAutoResizeHeightDivMode.registerClass("Telerik.Web.UI.Editor.UI.SizerAutoResizeHeightDivMode",Telerik.Web.UI.Editor.UI.SizerAutoResizeHeight);
})($telerik.$,Telerik.Web.UI.Editor.UI,Telerik.Web.UI.Editor.Utils,Telerik.Web.UI);
Type.registerNamespace("Telerik.Web.UI.Editor.UI");
(function(a){a.SizerEditTypeInline=function(b){a.SizerEditTypeInline.initializeBase(this,[b]);
};
a.SizerEditTypeInline.prototype={getIframeMinHeight:function(){return this.lineHeight;
}};
a.SizerEditTypeInline.registerClass("Telerik.Web.UI.Editor.UI.SizerEditTypeInline",a.SizerAutoResizeHeightDivMode);
})(Telerik.Web.UI.Editor.UI);
Type.registerNamespace("Telerik.Web.UI.Editor.UI");
(function(a,c,b){b.SizerFactory={getSizer:function(e){var h=e.get_renderMode();
var g=e._isInInlineEditMode();
var d=e.get_autoResizeHeight();
var f=e.get_contentAreaMode()==a.EditorContentAreaMode.Div;
if(h===c.Lite){if(g){return new b.SizerLightweightEditTypeInline(e);
}else{if(d){return f?new b.SizerLightweightAutoResizeHeightDivMode(e):new b.SizerLightweightAutoResizeHeight(e);
}else{return new b.SizerLightweight(e);
}}}else{if(h==c.Classic){if(g){return new b.SizerEditTypeInline(e);
}else{if(d){return f?new b.SizerAutoResizeHeightDivMode(e):new b.SizerAutoResizeHeight(e);
}else{if($telerik.isIE6||$telerik.isIE7||$telerik.isIE8){return new b.SizerLegacyIE(e);
}else{return new b.Sizer(e);
}}}}}}};
})(Telerik.Web.UI,Telerik.Web.UI.RenderMode,Telerik.Web.UI.Editor.UI);
Type.registerNamespace("Telerik.Web.UI.Editor.UI");
(function(a,c,e,b,d){c.SizerLegacyIE=function(f){c.SizerLegacyIE.initializeBase(this,[f]);
};
c.SizerLegacyIE.prototype={setContentElementHeight:function(){if(this.shouldPostponeSizing()){return this.postponeSetContentElementHeight();
}this.cancelResizing=true;
var k=this.editor,j=k.get_mode(),r=k.get_element(),i=new Telerik.Web.UI.Editor.UI.DimensionsCalculator(k),m=i.isContainerPxHeight(),n=i._isPercentHeight(),q=i._getSupportingUIHeight(),g=i.containerHeight(),h=g-q,l=this.getIframe(),o=k.get_mainTable(),f=$get(k.get_id()+"Center");
if(n&&!this.percentHeightFirstLoad){var s=this.getWrapperHeight(r);
if(s<=0){return;
}o.style.height=s+"px";
}if(n){g=parseInt(o.style.height,10);
h=g-q;
}if(g<q+this.lineHeight){g=q+this.lineHeight;
if(m){r.style.height=g+"px";
}f.style.height="";
h=this.lineHeight;
}l.style.height=h+"px";
if(j==b.EditModes.Design){if(Math.abs(l.parentNode.offsetHeight-r.offsetHeight)<5&&l.parentNode.style.height=="100%"){l.parentNode.style.height="";
k.get_contentArea().style.height=h+"px";
}}else{if(j==b.EditModes.Html){var p=k.get_textArea();
f.style.height="";
p.style.height=($telerik.isIE7?h-2:h)+"px";
setTimeout(function(){var u=p.createTextRange();
var t=u.getBookmark();
p.value=p.value;
u.moveToBookmark(t);
u.collapse(true);
u.select();
},0);
}}if(n&&!this.percentHeightFirstLoad){this.percentHeightFirstLoad=n;
if(parseInt(o.style.height,10)!=this.getWrapperHeight(r)){o.style.height=this.getWrapperHeight(r)+"px";
}}if(!this.editorHeight){this.editorHeight=g;
}setTimeout(Function.createDelegate(this,function(){this.cancelResizing=false;
}),10);
},getWrapperHeight:function(f){this._wrapperBorders=this._wrapperBorders==d?this.getWrapperBordersWidth(f):this._wrapperBorders;
return f.clientHeight-this._wrapperBorders;
},getWrapperBordersWidth:function(h){var g=$telerik.getComputedStyle(h,"border-top-width")||$telerik.getComputedStyle(h,"borderTopWidth"),f=$telerik.getComputedStyle(h,"border-bottom-width")||$telerik.getComputedStyle(h,"borderBottomWidth");
g=isNaN(parseInt(g,10))?0:parseInt(g,10);
f=isNaN(parseInt(f,10))?0:parseInt(f,10);
return g+f;
},onResizeStart:function(){c.SizerLegacyIE.callBaseMethod(this,"onResizeStart");
this.editor.get_contentArea().style.height=this.lineHeight+"px";
this.setContentElementHeight();
},onResizing:function(){if(!this.cancelResizing){this.ensureMinDimentions();
this.setContentElementHeight();
}},onResizeEnd:function(){this.ensureMinDimentions();
c.SizerLegacyIE.callBaseMethod(this,"onResizeEnd");
}};
Telerik.Web.UI.Editor.UI.SizerLegacyIE.registerClass("Telerik.Web.UI.Editor.UI.SizerLegacyIE",Telerik.Web.UI.Editor.UI.SizerBase);
})($telerik.$,Telerik.Web.UI.Editor.UI,Telerik.Web.UI.Editor.Utils,Telerik.Web.UI);
(function(a,b,c,d){c.SizerLightweight=function(e){c.SizerLightweight.initializeBase(this,[e]);
this._view=e._view;
};
c.SizerLightweight.prototype={_calcPadding:function(e,i){var j,h;
j=h=$telerik.getComputedStyle(e,i);
if(/em/i.test(h)){var g=parseInt($telerik.getComputedStyle(e,"font-size"),10);
var f=parseFloat(h);
j=g*f;
}return isNaN(j)?parseInt(j,10):Math.ceil(j);
},moduleToggleVisibility:function(){this.setContentElementHeight();
},onSubmitSetEditorHeight:function(){},setContentElementHeight:function(){var h=this,i=h._view,f=h.editor,g=f.get_element(),j=a(g).height(),e=Math.round(j-h._calcUiHeight());
h._setHeight(i.contentAreaContainer(),e);
h._setHeight(h.getIframe(),"100%");
},_calcUiHeight:function(){var j=this,e=j.editor,f=e.get_element(),m=j._view,g=j._getComponentHeight(m.modesRowContainer()),k=j._getComponentHeight(m.toolBarContainer()),h=j._getComponentHeight(m.modulesContainer()),i=parseInt(j._calcPadding(f,"padding-top"),10)+parseInt(j._calcPadding(f,"padding-bottom"),10),l=k+g+h+i;
return Math.round(l);
},_getComponentHeight:function(e){return $telerik.getVisible(e)?a(e).height():0;
},onResizeStart:function(){},onResizeEnd:function(){},onResizing:function(){this.setContentElementHeight();
},modeChanged:function(f){var e=this;
e._toggleContentElementVisibility(f);
e.setContentElementHeight();
},_toggleContentElementVisibility:function(j){var i=this,f=i.editor,k=i._view,h=j==b.EditModes.Html,g=h?f.get_contentAreaElement():f._getHtmlModeTextarea(),e=h?"none":"";
i._setCss(k.modulesContainer(),{display:e});
i._setHeight(g,0);
}};
c.SizerLightweight.registerClass("Telerik.Web.UI.Editor.UI.SizerLightweight",c.SizerBase);
})($telerik.$,Telerik.Web.UI,Telerik.Web.UI.Editor.UI);
(function(a,b,c,d){c.SizerLightweightAutoResizeHeight=function(e){c.SizerLightweightAutoResizeHeight.initializeBase(this,[e]);
};
c.SizerLightweightAutoResizeHeight.prototype={makeAutoResizeHeight:function(){this.resizeIframeHeight(true);
},resizeIframeHeight:function(j){var k=this,h=k.editor;
if((!k.isHeightChanged()&&!j)||h.isFullScreen()){return;
}var i=h.get_element(),m=k._view,f=m.contentAreaContainer(),e=h.get_contentArea();
k._setHeight(f,"");
var g=$telerik.isIE&&!$telerik.isIE9Mode?e.scrollHeight:e.offsetHeight,l=k._calcUiHeight();
k.contentAreaMinHeight=k._getContentElementMinHeigth(l,g);
g=Math.max(k.contentAreaMinHeight,g);
k.contentHeight=g;
k.setContentAreaElementHeight();
k.setContentAreaMinHeight(e);
k._setHeight(f,g);
k._setHeight(i,l+g);
},_getContentElementMinHeigth:function(g,e){var f=this;
f.editorHeight=Math.round(f.editorHeight||a(f.editor.get_element()).height());
return Math.round(f.contentAreaMinHeight||Math.max(f.lineHeight,f.editorHeight-g));
},setContentAreaElementHeight:function(){var f=this;
var e=f.editor;
f._setHeight(e.get_contentAreaElement(),"100%");
},setContentAreaMinHeight:function(){},moduleToggleVisibility:function(){},modeChanged:function(k){var i=this;
var f=i.editor;
if(f.isFullScreen()){i.modeChangedFullScreen(k);
}else{if(k==b.EditModes.Design){i._toggleContentElementVisibility(k);
i.resizeIframeHeight(true);
}else{var h=i.getIframe();
var g=f.get_element();
var j=i._calcUiHeight();
var e=i.contentHeight||g.offsetHeight-j;
i._setHeight(h,e);
i._setHeight(g,e+j);
}}},modeChangedFullScreen:function(e){this.setContentElementHeight();
},disableAutoResizeHeight:function(){this.setContentElementHeight();
}};
c.SizerLightweightAutoResizeHeight.registerClass("Telerik.Web.UI.Editor.UI.SizerLightweightAutoResizeHeight",c.SizerLightweight);
})($telerik.$,Telerik.Web.UI,Telerik.Web.UI.Editor.UI);
(function(a,b,c,d){c.SizerLightweightAutoResizeHeightDivMode=function(e){c.SizerLightweightAutoResizeHeightDivMode.initializeBase(this,[e]);
};
c.SizerLightweightAutoResizeHeightDivMode.prototype={makeAutoResizeHeight:function(){var e=this;
e._setHeight(e.editor.get_contentArea(),"");
c.SizerLightweightAutoResizeHeightDivMode.callBaseMethod(e,"makeAutoResizeHeight");
},modeChanged:function(g){var f=this;
var e=f.editor;
if(e.isFullScreen()){f.modeChangedFullScreen(g);
}else{if(g==b.EditModes.Design){f._setHeight(e.get_contentArea(),"");
}c.SizerLightweightAutoResizeHeightDivMode.callBaseMethod(f,"modeChanged",[g]);
}},setContentAreaMinHeight:function(e){if(!e.style.minHeight){var f=this;
f._setCss(e,{"min-height":f.contentAreaMinHeight});
}},setContentAreaElementHeight:function(){}};
c.SizerLightweightAutoResizeHeightDivMode.registerClass("Telerik.Web.UI.Editor.UI.SizerLightweightAutoResizeHeightDivMode",c.SizerLightweightAutoResizeHeight);
})($telerik.$,Telerik.Web.UI,Telerik.Web.UI.Editor.UI);
(function(a,b,c,d){c.SizerLightweightEditTypeInline=function(e){c.SizerLightweightEditTypeInline.initializeBase(this,[e]);
};
c.SizerLightweightEditTypeInline.prototype={_getContentElementMinHeigth:function(f,e){return e;
},setContentAreaMinHeight:function(e){}};
c.SizerLightweightEditTypeInline.registerClass("Telerik.Web.UI.Editor.UI.SizerLightweightEditTypeInline",c.SizerLightweightAutoResizeHeightDivMode);
})($telerik.$,Telerik.Web.UI,Telerik.Web.UI.Editor.UI);
Type.registerNamespace("Telerik.Web.UI.Editor");
(function(a,b,e){var c=Telerik.Web.UI.Editor,d="Telerik.Web.UI.Editor.IView";
c.IView=function(){};
c.IView.prototype={initialize:function(){},dispose:function(){},toolBarContainer:function(){},contentAreaContainer:function(){},modulesContainer:function(){},modeButtonsContainer:function(){},resizerHandle:function(){},zone:function(f){},changeMode:function(){},getModeFromEvent:function(f){}};
c.IView.registerInterface(d);
})($telerik.$,Telerik.Web.UI);
Type.registerNamespace("Telerik.Web.UI.Editor");
(function(a,b,d){var c=Telerik.Web.UI.Editor,e="Telerik.Web.UI.Editor.ViewBase";
c.ViewBase=function(f){this.editor=f;
};
c.ViewBase.prototype={initialize:function(){},dispose:function(){delete this.editor;
},toolBarContainer:function(){return this.zone("Top");
},contentAreaContainer:function(){return $get(this.editor.get_id()+"Center");
},modulesContainer:function(){return $get(this.editor.get_id()+"Module");
},modesRowContainer:function(){return a(".reBottomProperties",this.editor.get_element()).get(0);
},modeButtonsContainer:function(){return $get(this.editor.get_id()+"_ModesWrapper");
},resizerHandle:function(){return $get(this.editor.get_id()+"BottomResizer");
},zone:function(f){return $get(this.editor.get_id()+f);
},changeMode:function(){},getModeFromEvent:function(f){}};
c.ViewBase.registerClass(e,null,c.IView);
})($telerik.$,Telerik.Web.UI);
Type.registerNamespace("Telerik.Web.UI.Editor");
(function(a,b,d){var c=Telerik.Web.UI.Editor,e="Telerik.Web.UI.Editor.ClassicView";
c.ClassicView=function(f){c.ClassicView.initializeBase(this,[f]);
};
c.ClassicView.prototype={toolBarContainer:function(){return this.zone("Top").firstChild;
},changeMode:function(n){var j=Sys.UI.DomElement;
var k=b.EditModes;
var l=this.editor.get_enableAriaSupport();
var h="reMode_";
switch(n){case k.Html:h+="html";
break;
case k.Design:h+="design";
break;
case k.Preview:h+="preview";
break;
}var o=this.modeButtonsContainer();
var g=o?o.getElementsByTagName("A"):[];
for(var m=0;
m<g.length;
m++){var f=g[m];
j.removeCssClass(f,"reMode_selected");
if(l&&typeof(j.removeAttribute)!="undefined"){j.removeAttribute("aria-pressed");
}if(j.containsCssClass(f,h)){j.addCssClass(f,"reMode_selected");
if(l&&typeof(j.setAttribute)!="undefined"){j.setAttribute("aria-pressed","true");
}}}},getModeFromEvent:function(h){var i=null,k=b.Editor.Utils.getElementParentByTag(h.target,"LI");
if(k){var j=b.EditModes;
var g=Sys.UI.DomElement;
var f=k.getElementsByTagName("A")[0];
if(g.containsCssClass(f,"reMode_html")){i=j.Html;
}else{if(g.containsCssClass(f,"reMode_design")){i=j.Design;
}else{i=j.Preview;
}}}return i;
}};
c.ClassicView.registerClass(e,c.ViewBase,c.IView);
})($telerik.$,Telerik.Web.UI);
Type.registerNamespace("Telerik.Web.UI.Editor");
(function(a,b,e){var c=Telerik.Web.UI.Editor;
var f="Telerik.Web.UI.Editor.LightweightView";
var d="_ModesWrapper";
c.LightweightView=function(g){c.LightweightView.initializeBase(this,[g]);
};
c.LightweightView.prototype={toolBarContainer:function(){return a(this.zone("Top")).find(".reToolBarWrapper").get(0);
},modesRowContainer:function(){var g=$get(this.editor.get_id()+d);
if(g){return g.parentNode;
}},changeMode:function(l){var g=this.editor.get_enableAriaSupport();
var m=this.modeButtonsContainer();
if(!m){return false;
}var k=a(m).find("a");
if(k.length==0){return false;
}k.removeClass("reSelectedMode");
if(g){k.removeAttr("aria-pressed");
}for(var h=0;
h<k.length;
h++){var j=a(k[h]);
if(l==this.getModeFromElement(j)){j.addClass("reSelectedMode");
if(g){j.attr("aria-pressed","true");
}}}},getModeFromEvent:function(h){var g=h.target.tagName=="a"?h.target:b.Editor.Utils.getElementParentByTag(h.target,"A");
if(!g){return null;
}return this.getModeFromElement(g);
},getModeFromElement:function(i){var g=a(i).attr("href");
var j=g.split("#");
var h=this._toPascalCase(j[1]);
return b.EditModes[h];
},_toPascalCase:function(g){var h=g.trim().toLowerCase();
return h.substr(0,1).toUpperCase()+h.substr(1);
}};
c.LightweightView.registerClass(f,c.ViewBase,c.IView);
})($telerik.$,Telerik.Web.UI);
Type.registerNamespace("Telerik.Web.UI.Editor");
(function(a,b,e){var c=b.Editor,d=b.RadEditor;
c.ViewFactory={getView:function(f){if(!d.isInstanceOfType(f)){throw new Error('Invalid argument! Argument "editor" is not a Telerik.Web.UI.RadEditor.');
}if(f._renderMode==b.RenderMode.Classic){return new c.ClassicView(f);
}else{if(f._renderMode==b.RenderMode.Lite){return new c.LightweightView(f);
}}return null;
}};
})($telerik.$,Telerik.Web.UI);
Type.registerNamespace("Telerik.Web.UI.Editor");
(function(b,a){b.WordListConverter=function(){};
b.WordListConverter.prototype={removeOriginalElements:function(c){for(var d=0;
d<c.length;
d++){c[d].parentNode.removeChild(c[d]);
}},setItemsAttributes:function(d){var c=$telerik.isIE&&d.all?d.all:d.getElementsByTagName("*");
for(var f=0;
f<c.length;
f++){var e=c[f];
if(e.nodeType==1){if(this.isListItem(e)){var g=this.getItemData(e);
if(g){e.setAttribute("data-listId",g);
}else{if(/^(?:_TELERIK_I_)*_TELERIK_CHROME_/gi.test(e.innerHTML)){var h=e.style.marginLeft?e.style.marginLeft:"0";
h=h.replace(/[a-z]+/gi,"");
g="lxlevel"+h+"lfox";
e.setAttribute("data-listId",g);
}}}}}},getGroupedListItems:function(h){var l=[];
var n=this;
var d=function(q,v,o){var u=v.substring(v.indexOf("lfo"),v.length);
var s=o;
for(var r=o+1;
r<q.length;
r++){var p=n.getItemData(q[r]);
if(p){var t=p.substring(p.indexOf("lfo"),p.length);
if(p==v||t==u){s=r;
}}}return s;
};
var m=function(o,q,i){var p=d(o,q,i);
l.push({elements:o,startIndex:i,endIndex:p,data:q});
i=p+1;
return i;
};
var f=function(q){var p=0;
while(p<q.length){var o=q[p];
if(!o||o.nodeType!=1){continue;
}var r=n.getItemData(o);
if(r&&r!=""){p=m(q,r,p);
continue;
}if(o.tagName=="DIV"){f(o.children);
p++;
continue;
}if(o.tagName=="TABLE"){var s=o.getElementsByTagName("TD");
for(var i=0;
i<s.length;
i++){var t=s[i];
f(t.children);
}p++;
continue;
}p++;
}};
f(h);
var g=[];
var c=[];
for(var j=0;
j<l.length;
j++){var e=l[j];
for(var k=e.startIndex;
k<=e.endIndex;
k++){c.push(e.elements[k]);
}g.push(c.slice(0,c.length));
c=[];
}return g;
},getItemData:function(e){if(e.getAttribute("data-listId")){return e.getAttribute("data-listId");
}var c=Telerik.Web.UI.Editor.Utils.getOuterHtml(e).replace(e.innerHTML,"");
var f=c.match(/mso-list:\s?(\w+)\s(\w+)\s(\w+)/i);
var d="";
if(f&&f[0]&&f[1]&&f[2]&&f[3]){d=f[1]+f[2]+f[3];
}return d;
},isListItem:function(d){if(!d||d.nodeType!=1){return false;
}if(d.tagName=="TABLE"||d.tagName=="TR"||d.tagName=="TD"||d.tagName=="TBODY"){return false;
}if(d.getAttribute("data-listId")){return true;
}var c=Telerik.Web.UI.Editor.Utils.getOuterHtml(d).replace(d.innerHTML,"");
var e=c.match(/mso-list:\s?\w+\s\w+\s\w+/i);
if(e){return true;
}if(/MsoListParagraph/i.test(c)||/_TELERIK_I_/gm.test(this.markListItems(d.innerHTML))){return true;
}return false;
},removeListsIds:function(c){a(c).find("UL").removeAttr("id");
a(c).find("OL").removeAttr("id");
},markListItems:function(c){c=c.replace(/(<!--\[if !supportLists\]-->)/gi,"_TELERIK_CHROME__TELERIK_I_");
c=c.replace(/(<span[^>]+:\s*symbol[^>]+>)/gi,"$1_TELERIK_I_");
c=c.replace(/(<span[^>]+mso-list:[^>]+>)/gi,"$1_TELERIK_I_");
c=c.replace(/(<p[^>]+(?:MsoListParagraph)[^>]+>)/gi,"$1_TELERIK_I_");
return c;
},getUnorderedListType:function(c){var d=null;
if(/^[\u2022\u00b7\u00FC\u00D8\u002dv-]/.test(c)){d="disc";
}else{if(/^o/.test(c)){d="circle";
}else{d="square";
}}return d;
},getOrderedListType:function(d){var c=null;
if(isNaN(d)){c=(/^[a-z]/.test(d)?"lower-":"upper-")+(/^[ivxlcdm]/i.test(d)?"roman":"alpha");
}return c;
},createList:function(f,e,d){f=f?f:"UL";
var c=document.createElement(f);
if(d&&d!=""){c.setAttribute("id",d);
}if(e&&e!=""){c.style.listStyleType=e;
}return c;
},insertList:function(d,c){var f=c.parentNode;
var e=c.nextSibling;
if(e){f.insertBefore(d,e);
}else{f.appendChild(d);
}},replaceNbspWithSpace:function(c){c=c.replace(/&nbsp;/gm,"\u00a0");
return c;
},getElementLevel:function(c){var e=Telerik.Web.UI.Editor.Utils.getOuterHtml(c).match(/level[0-9]+/im);
var d=0;
if(e){var f=e[0].substring(5,e[0].length);
d=parseFloat(f);
}return d;
},setDataLevelAttribute:function(d){var f=true,c=null,e=0,g;
for(g=0;
g<d.length;
g++){c=d[g];
if(!c||c.innerHTML.indexOf("_TELERIK_")==-1){continue;
}if(c.style.marginLeft==""){e=this.getElementLevel(c);
if(e!=0&&e!=1){f=false;
break;
}}}if(f){for(g=0;
g<d.length;
g++){var h=d[g].style.marginLeft==""?0:parseFloat(d[g].style.marginLeft);
d[g].setAttribute("data-level",h);
}return;
}for(g=0;
g<d.length;
g++){c=d[g];
if(!c||c.innerHTML.indexOf("_TELERIK_")==-1){continue;
}e=this.getElementLevel(c);
c.setAttribute("data-level",e);
}},removeMarkers:function(d){var c=a(d).find("*");
a(c).removeAttr("data-level");
a(c).removeAttr("data-listId");
var e=d.innerHTML;
e=e.replace(/_TELERIK_I_/gm,"");
if($telerik.isIE7||$telerik.isIE8){e=e.replace(/\sdata-listid/gm,"");
}d.innerHTML=e;
},matchListItem:function(c,e){var d=this.getItemData(e.element);
if(!d){return;
}if(!/^_TELERIK_I_/.test(c)){return;
}c=c.replace(/_TELERIK_I_/gm,"");
var f;
var h=this.matchUnorderedList(c);
if(h){f=h[0];
if(f){f=f.replace(/^[\u00a0\n\r\s]+/,"");
f=f.replace(/[\u00a0\n\r\s]+$/,"");
}e.html=c.replace(h[0],"");
e.type="UL";
e.listStyle=this.getUnorderedListType(f);
}var g=this.matchOrderedList(c);
if(g){f=g[0];
if(f){f=f.replace(/^[\u00a0\n\r\s]+/,"");
f=f.replace(/[\u00a0\n\r\s]+$/,"");
f=f.replace(/[.()\s]+/gm,"");
}e.html=c.replace(g[0],"");
e.type="OL";
e.listStyle=this.getOrderedListType(f);
}},matchUnorderedList:function(c){return c.match(/^([\u2022\u00b7\u00a7\u00a0\u00fc\u00d8\u002dovn-]*\s*\u00a0*(&nbsp;)*)+/);
},matchOrderedList:function(c){var d=c.match(/^[0-9]+[\.\)][\s\u00a0]+/)||c.match(/^\([0-9]+\)[\s\u00a0]+/)||c.match(/^[a-z]+[\.\)][\s\u00a0]+/i)||c.match(/^\([a-z]+\)[\s\u00a0]+/i)||c.match(/^[0-9]+\.(?:[0-9]+\.)*[0-9]+[\s\u00a0]+/)||c.match(/^[\s\u00a0]+[ivxlcdm]+\.[\s\u00a0]+/i)||c.match(/^[a-z]+\s[0-9ivxlcdm.]+[\s\u00a0]{3,}/i);
return d;
},getListElementHtml:function(f,d){if(!f){return"";
}var c=document.createElement("DIV");
b.Utils.setElementInnerHtml(c,f);
var h=this.getInnerText(c);
h=h.trim();
var e=this.getInnerText(d);
var i=e.replace(/_TELERIK_I_/g,"");
i=i.replace(h,"");
i=i.replace(/\n\r?/gm," ");
i=i.replace(/&nbsp;/gm,"");
i=i.trim();
i=i.replace(/([.()])/gm,"\\$1");
var g=d.innerHTML;
g=g.replace(/\n\r?/gm," ");
var j=new RegExp("([^a-z0-9])("+i+")([^a-z0-9])","im");
g=g.replace(j,"$1$3");
g=g.replace(/_TELERIK_I_/g,"");
return g;
},getInnerText:function(c){var d=c.innerHTML;
d=d.replace(/<!--(.|\s)*?-->/gi,"");
d=d.replace(/<\/?[^>]+?\/?>/gm,"");
return d;
},clearListItemHtml:function(f){var d=$telerik.isIE&&f.all?f.all:f.getElementsByTagName("*");
for(var c=d.length-1;
c>=0;
c--){if(d[c].nodeType==1){var e=this.getInnerText(d[c]);
if(/^\s+$/.test(e)){b.Utils.removeNode(d[c]);
continue;
}e=e.replace(/&nbsp;/gm,"");
e=e.replace(/\s+/gm,"");
if(e==""){d[c].parentNode.removeChild(d[c]);
}}}b.Utils.removeEmptyElements(f);
},convert:function(k){k=b.Utils.clearInvalidHtml(k);
k=this.markListItems(k);
k=b.Utils.clearComments(k);
var c=document.createElement("div");
b.Utils.setElementInnerHtml(c,k);
this.setItemsAttributes(c);
k=c.innerHTML;
k=k.replace(/_TELERIK_CHROME_/gm,"");
c.innerHTML=k;
var g=this.getGroupedListItems(c.children);
for(var m=0;
m<g.length;
m++){var j=g[m];
this.setDataLevelAttribute(j);
var t=null,r=null,p=-1,q=null,y=[];
for(var f=0;
f<j.length;
f++){var d=j[f];
if(!d){return;
}var s="",z=null,x=null,h="";
var e=this.getInnerText(d);
var v={};
v.element=d;
s=this.replaceNbspWithSpace(e);
this.matchListItem(s,v);
if(v.type){z=v.type;
x=v.listStyle;
h=v.html;
}var u=this.getItemData(d);
if(h==""&&u==""){if(t){var n=d.innerHTML;
n=n.replace(/_TELERIK_I_/g,"");
var o=this.getInnerText(d);
o=o.replace(/_TELERIK_I_/g,"").trim();
var l="&nbsp;";
if(o&&o!=""){l=n;
}t.children[t.children.length-1].innerHTML=t.children[t.children.length-1].innerHTML+"<p>"+l+"</p>";
y.push(d);
}continue;
}if(z){q=parseFloat(d.getAttribute("data-level")||0);
if(r&&q>p){if(t&&t.id!=u){t=this.createList(z,x,u);
r.appendChild(t);
}}else{if(q<p){t=a(c).find("#"+u)[0];
if(!t){var w=c.getElementsByTagName(z);
if(w.length>0){t=w[w.length-1];
}}}else{if(!t){t=this.createList(z,x,u);
this.insertList(t,d);
}}}r=document.createElement("li");
r.innerHTML=this.getListElementHtml(h,d);
this.clearListItemHtml(r);
if(!t||(t.getAttribute("id")!=u)){t=this.createList(z,x,u);
this.insertList(t,d);
}t.appendChild(r);
y.push(d);
p=q;
}else{p=0;
x=null;
t=null;
r=null;
}}this.removeOriginalElements(y);
this.removeListsIds(c);
}this.removeMarkers(c);
return c.innerHTML;
}};
})(Telerik.Web.UI.Editor,$telerik.$);
Type.registerNamespace("Telerik.Web.UI.Editor");
(function(b,a){b.FormElementsSelectionUtils={_removeHandler:function(c,d,e){if(!c||!d){return;
}if(c&&e){a(c).off(d,e);
}else{if(!e){a(c).off(d);
}}},_addHandler:function(c,d,e,f){if(f){a(c).on(d,f,e);
}else{a(c).on(d,e);
}},_switchEditorEditableMode:function(c,d){if(c.nodeName=="BODY"){c.ownerDocument.designMode=d?"on":"off";
}else{c.contentEditable=d;
}},addEventHandler:function(d,g,f,h,c){if(!d||!g){return;
}var i;
if(c){i=a.proxy(d,this,c);
}else{i=a.proxy(d,this);
}if(h&&!f){var e=this.editor.get_contentArea();
b.FormElementsSelectionUtils._removeHandler(e,g,h);
b.FormElementsSelectionUtils._addHandler(e,g,i,h);
}else{b.FormElementsSelectionUtils._removeHandler(f,g);
b.FormElementsSelectionUtils._addHandler(f,g,i);
}},getBrowserRange:function(c){var e=c.getSelection();
var d=e.getRange(true);
if(!d){c.setFocus();
d=e.getRange(true);
}return d;
}};
})(Telerik.Web.UI.Editor,$telerik.$);
Type.registerNamespace("Telerik.Web.UI.Editor");
(function(a,b){var c=b.FormElementsSelectionUtils;
b.CheckboxesSelection=function(d){this.editor=d;
this.mouseup="mouseup.radEditorCheckboxesFix";
this.mousemove="mousemove.radEditorCheckboxesFix";
this.mousedown="mousedown.radEditorCheckboxesFix";
this.mouseout="mouseout.radEditorCheckboxesFix";
this.mouseover="mouseover.radEditorCheckboxesFix";
this.checkboxSelector="input[type=checkbox]";
this.excludeCondition=d.get_enableImmutableElements()?b.Utils.isImmutableNode:function(){return false;
};
};
b.CheckboxesSelection.prototype={enableSelecting:function(){var d,e;
if($telerik.isIE){d=this._mouseupHandlerIE,e=this.mouseup;
}else{if($telerik.isFirefox){d=this._mousemoveHandlerFirefox,e=this.mousemove;
}else{if($telerik.isSafari){this._enableSelecting(this._mouseoverHandlerSafari,this.mouseover,null,this.checkboxSelector);
this._enableSelecting(this._mouseoutHandlerSafari,this.mouseout,null,this.checkboxSelector);
this._enableSelecting(this._mousedownHandlerSafari,this.mousedown,null,this.checkboxSelector);
return;
}else{if($telerik.isOpera){d=this._mouseupHandlerIE,e=this.mousedown;
}}}}this._enableSelecting(d,e,null,this.checkboxSelector);
},_enableSelecting:function(e,g,f,h,d){c.addEventHandler.call(this,e,g,f,h,d);
},disableSelecting:function(){var d=this.editor.get_contentArea();
if($telerik.isIE){this._removeHandler(d,this.mouseup,this.checkboxSelector);
}else{if($telerik.isFirefox){this._removeHandler(d,this.mousedown,this.checkboxSelector);
this._removeHandler(d,this.mouseout,this.checkboxSelector);
this._removeHandler(d,this.mousemove,this.checkboxSelector);
}else{if($telerik.isSafari){this._removeHandler(d,this.mouseover,this.checkboxSelector);
this._removeHandler(d,this.mouseout,this.checkboxSelector);
this._removeHandler(d,this.mousedown,this.checkboxSelector);
}else{if($telerik.isOpera){this._removeHandler(d,this.mousedown,this.checkboxSelector);
}}}}},_mouseupHandlerIE:function(d){if(this.excludeCondition(d.target)){return;
}this._checkCheckbox(d.target);
},_mousemoveHandlerFirefox:function(f){if(this.excludeCondition(f.target)){return;
}var e=this.editor;
if(e.get_mode()!=Telerik.Web.UI.EditModes.Design){return;
}var d=e.get_contentArea();
f.target.style.cursor="default";
var g=c.getBrowserRange(e);
this._switchEditorEditableMode(d,false);
this._enableSelecting(this._mouseoutHandlerFirefox,this.mouseout,f.target,null,g);
this._enableSelecting(this._mousedownHandlerFirefox,this.mousedown,f.target);
},_mousedownHandlerFirefox:function(d){this._checkCheckbox(d.target);
this._switchEditorEditableMode(this.editor.get_contentArea(),true);
this.editor.selectElement(d.target);
},_mouseoutHandlerFirefox:function(e,d){var f=this.editor.getSelectedElement();
this._switchEditorEditableMode(this.editor.get_contentArea(),true);
if(f&&f.tagName=="INPUT"&&f.type=="checkbox"){this.editor.selectElement(f);
}else{this.editor.getSelection().selectRange(e);
}d.target.style.cursor="";
},_mouseoverHandlerSafari:function(d){if(this.excludeCondition(d.target)){return;
}d.target.style.cursor="default";
},_mouseoutHandlerSafari:function(d){if(this.excludeCondition(d.target)){return;
}d.target.style.cursor="";
},_mousedownHandlerSafari:function(d){if(this.excludeCondition(d.target)){return;
}this._checkCheckbox(d.target);
this.editor.selectElement(d.target);
},_checkCheckbox:function(d){if($telerik.isSafari||$telerik.isOpera){this._checkCheckboxSafariOpera(d);
}else{this._checkCheckboxFirefoxIE(d);
}},_checkCheckboxFirefoxIE:function(d){if(d.getAttribute("checked")||d.checked){a(d).removeAttr("checked");
}else{d.checked=true;
a(d).attr("checked","checked");
}},_checkCheckboxSafariOpera:function(d){if(d.getAttribute("checked")||d.checked){a(d).removeAttr("checked");
d.checked=true;
}else{a(d).attr("checked","checked");
d.checked=false;
}},_switchEditorEditableMode:function(d,e){c._switchEditorEditableMode(d,e);
},_removeHandler:function(d,e,f){c._removeHandler(d,e,f);
}};
b.CheckboxesSelection.registerClass("Telerik.Web.UI.Editor.CheckboxesSelection",null);
})($telerik.$,Telerik.Web.UI.Editor);
Type.registerNamespace("Telerik.Web.UI.Editor");
(function(a,b){b.FormElementsSelection=function(c){this.editor=c;
this.checkboxesSelection=null;
this.radioButtonsSelection=null;
this.selectsSelection=null;
this.standardButtonsSelection=null;
};
b.FormElementsSelection.prototype={enableFormElementsSelecting:function(){this.enableRadioButtonsSelecting();
this.enableCheckboxesSelecting();
this.enableSelectsSelecting();
this.enableStandardButtonsSelecting();
},enableRadioButtonsSelecting:function(){this.radioButtonsSelection=new b.RadioButtonsSelection(this.editor);
this.radioButtonsSelection.enableSelecting();
},enableCheckboxesSelecting:function(){this.checkboxesSelection=new b.CheckboxesSelection(this.editor);
this.checkboxesSelection.enableSelecting();
},enableSelectsSelecting:function(){this.selectsSelection=new b.SelectsSelection(this.editor);
this.selectsSelection.enableSelecting();
},enableStandardButtonsSelecting:function(){var c=this;
c.standardButtonsSelection=new b.StandardButtonsSelection(c.editor);
c.standardButtonsSelection.enableSelecting();
},disableFormElementsSelecting:function(){this.disableRadioButtonsSelecting();
this.disableCheckboxesSelecting();
this.disableSelectsSelecting();
this.disableStandardButtonsSelecting();
},disableRadioButtonsSelecting:function(){if(this.radioButtonsSelection){this.radioButtonsSelection.disableSelecting();
}},disableCheckboxesSelecting:function(){if(this.checkboxesSelection){this.checkboxesSelection.disableSelecting();
}},disableSelectsSelecting:function(){if(this.selectsSelection){this.selectsSelection.disableSelecting();
}},disableStandardButtonsSelecting:function(){var c=this.standardButtonsSelection;
if(c){c.disableSelecting();
}}};
b.FormElementsSelection.registerClass("Telerik.Web.UI.Editor.FormElementsSelection",null);
})($telerik.$,Telerik.Web.UI.Editor);
Type.registerNamespace("Telerik.Web.UI.Editor");
(function(b,a){var c=b.FormElementsSelectionUtils;
b.RadioButtonsSelection=function(d){this.editor=d,this.mousedown="mousedown.radEditorRadioButtonsFix";
this.mouseover="mouseover.radEditorRadioButtonsFix";
this.mouseout="mouseout.radEditorRadioButtonsFix";
this.mousemove="mousemove.radEditorRadioButtonsFix";
this.radioButtonSelector="input[type=radio]";
this.excludeCondition=d.get_enableImmutableElements()?b.Utils.isImmutableNode:function(){return false;
};
};
b.RadioButtonsSelection.prototype={enableSelecting:function(){var d,e;
if($telerik.isIE||$telerik.isOpera){d=this._mousedownHandlerIE,e=this.mousedown;
}else{if($telerik.isSafari){this._enableSelecting(this._mouseoverHandlerSafari,this.mouseover,null,this.radioButtonSelector);
this._enableSelecting(this._mouseoutHandlerSafari,this.mouseout,null,this.radioButtonSelector);
this._enableSelecting(this._mousedownHandlerSafari,this.mousedown,null,this.radioButtonSelector);
return;
}else{if($telerik.isFirefox){d=this._mousemoveHandlerFirefox,e=this.mousemove;
}}}this._enableSelecting(d,e,null,this.radioButtonSelector);
},_enableSelecting:function(e,g,f,h,d){c.addEventHandler.call(this,e,g,f,h,d);
},disableSelecting:function(){var d=this.editor.get_contentArea();
if($telerik.isIE||$telerik.isOpera){this._removeHandler(d,this.mousedown,this.radioButtonSelector);
}else{if($telerik.isSafari){this._removeHandler(d,this.mouseover,this.radioButtonSelector);
this._removeHandler(d,this.mouseout,this.radioButtonSelector);
this._removeHandler(d,this.mousedown,this.radioButtonSelector);
}else{if($telerik.isFirefox){this._removeHandler(d,this.mousedown,this.radioButtonSelector);
this._removeHandler(d,this.mouseout,this.radioButtonSelector);
this._removeHandler(d,this.mousemove,this.radioButtonSelector);
}}}},_mousedownHandlerIE:function(d){if(this.excludeCondition(d.target)){return;
}this._checkRadioButton(d.target);
},_mouseoverHandlerSafari:function(d){if(this.excludeCondition(d.target)){return;
}d.target.style.cursor="default";
},_mouseoutHandlerSafari:function(d){if(this.excludeCondition(d.target)){return;
}d.target.style.cursor="";
},_mousedownHandlerSafari:function(d){if(this.excludeCondition(d.target)){return;
}this.editor.selectElement(d.target);
this._checkRadioButton(d.target);
},_mousemoveHandlerFirefox:function(f){if(this.excludeCondition(f.target)){return;
}var e=this.editor;
if(e.get_mode()!=Telerik.Web.UI.EditModes.Design){return;
}var d=e.get_contentArea();
f.target.style.cursor="default";
this._switchEditorEditableMode(d,false);
this._enableSelecting(this._mousedownHandlerFirefox,this.mousedown,f.target);
var g=c.getBrowserRange(e);
this._enableSelecting(this._mouseoutHandlerFirefox,this.mouseout,f.target,null,g);
},_mousedownHandlerFirefox:function(d){this._checkRadioButton(d.target);
this._switchEditorEditableMode(this.editor.get_contentArea(),true);
this.editor.selectElement(d.target);
},_mouseoutHandlerFirefox:function(f,e){var d=this.editor;
var g=d.getSelectedElement();
this._switchEditorEditableMode(d.get_contentArea(),true);
if(g&&g.tagName=="INPUT"&&g.type=="radio"){d.selectElement(g);
}else{d.getSelection().selectRange(f);
}e.target.style.cursor="";
},_checkRadioButton:function(d){var g=d.getAttribute("name");
var f=d.parentNode.children;
for(var h=0;
h<f.length;
h++){var e=f[h];
if(e.nodeType==1&&e.nodeName=="INPUT"&&e.getAttribute("type")=="radio"&&e.getAttribute("name")==g&&e.getAttribute("checked")){e.checked=false;
e.removeAttribute("checked");
}}d.checked=true;
a(d).attr("checked","checked");
},_switchEditorEditableMode:function(d,e){c._switchEditorEditableMode(d,e);
},_removeHandler:function(d,e,f){c._removeHandler(d,e,f);
}};
b.RadioButtonsSelection.registerClass("Telerik.Web.UI.Editor.RadioButtonsSelection",null);
})(Telerik.Web.UI.Editor,$telerik.$);
Type.registerNamespace("Telerik.Web.UI.Editor");
(function(b,a){var c=b.FormElementsSelectionUtils;
b.SelectsSelection=function(d){this.editor=d;
this.mousemove="mousemove.radEditorSelectFix";
this.mousedown="mousedown.radEditorSelectFix";
this.mouseout="mouseout.radEditorSelectFix";
this.selectSelector="SELECT";
this.excludeCondition=d.get_enableImmutableElements()?b.Utils.isImmutableNode:function(){return false;
};
};
b.SelectsSelection.prototype={enableSelecting:function(){if($telerik.isFirefox){this._enableSelecting(this._mousemoveHandlerFirefox,this.mousemove,null,this.selectSelector);
}else{if($telerik.isSafari){this._enableSelecting(this._mousedownHandlerSafari,this.mousedown,null,this.selectSelector);
}}},_enableSelecting:function(e,g,f,h,d){c.addEventHandler.call(this,e,g,f,h,d);
},disableSelecting:function(){var d=this.editor.get_contentArea();
if($telerik.isFirefox){this._removeHandler(d,this.mousedown,this.selectSelector);
this._removeHandler(d,this.mouseout,this.selectSelector);
this._removeHandler(d,this.mousemove,this.selectSelector);
}else{if($telerik.isSafari){this._removeHandler(d,this.mousedown,this.selectSelector);
}}},_mousemoveHandlerFirefox:function(f){if(this.excludeCondition(f.target)){return;
}var e=this.editor;
if(e.get_mode()!=Telerik.Web.UI.EditModes.Design){return;
}var d=e.get_contentArea();
this._switchEditorEditableMode(d,false);
var g=e.getSelection().getRange();
this._enableSelecting(this._mousedownHandlerFirefox,this.mousedown,f.target);
this._enableSelecting(this._mouseoutHandlerFirefox,this.mouseout,f.target,null,g);
},_mousedownHandlerFirefox:function(d){if(d.which==2){return;
}this.editor.selectElement(d.target);
if(d.which==1){this._switchEditorEditableMode(this.editor.get_contentArea(),true);
}},_mouseoutHandlerFirefox:function(f,e){var d=this.editor;
var g=d.getSelectedElement();
this._switchEditorEditableMode(d.get_contentArea(),true);
if(g&&g.tagName=="SELECT"){d.selectElement(g);
}else{d.getSelection().selectRange(f);
}},_mousedownHandlerSafari:function(d){if(this.excludeCondition(d.target)){return;
}this.editor.selectElement(d.target);
},_switchEditorEditableMode:function(d,e){c._switchEditorEditableMode(d,e);
},_removeHandler:function(d,e,f){c._removeHandler(d,e,f);
}};
b.SelectsSelection.registerClass("Telerik.Web.UI.Editor.SelectsSelection",null);
})(Telerik.Web.UI.Editor,$telerik.$);
Type.registerNamespace("Telerik.Web.UI.Editor");
(function(a,d,g){var b=d.Editor;
var h=b.Utils;
var e=b.FormElementsSelectionUtils;
var c=d.EditModes;
var f="input[type=button],input[type=submit],button";
b.StandardButtonsSelection=function(i){this.editor=i;
};
b.StandardButtonsSelection.prototype={enableSelecting:function(){var i=this;
if(i._shouldEnableSelecting()){e.addEventHandler.call(i,i._mouseEventHandler,i._getEventType(),g,f,g);
i._selectingEnabled=true;
}},disableSelecting:function(){var i=this;
if(i._selectingEnabled){e._removeHandler(i.editor.get_contentArea(),i._getEventType(),f);
i._selectingEnabled=g;
}},_shouldEnableSelecting:function(){return $telerik.isFirefox||$telerik.isSafari||($telerik.isIE10Mode&&!$telerik.isIE10);
},_getEventType:function(){return($telerik.isFirefox||$telerik.isIE?"mousedown":"mouseup")+".radEditorButtonsFix";
},_getSelector:function(){return f;
},_mouseEventHandler:function(i){var k=this;
var j=i.target;
if(!k._shouldCancelSelecting(j)){k._selectTarget(j);
}},_shouldCancelSelecting:function(j){var i=this.editor;
if(i.get_mode()==c.Design){return i.get_enableImmutableElements()?h.isImmutableNode(j):false;
}return true;
},_selectTarget:function(j){var k=this;
var i=new b.DomRange(e.getBrowserRange(k.editor));
i[$telerik.isSafari&&h.isTag(j,"button")?"selectNodeContents":"selectNode"](j);
i.select();
}};
b.StandardButtonsSelection.registerClass("Telerik.Web.UI.Editor.StandardButtonsSelection",null);
})($telerik.$,Telerik.Web.UI);
Type.registerNamespace("Telerik.Web.UI.Editor");
(function(a,b){var c=b.FormElementsSelectionUtils;
b.TextFieldsTyping=function(d){this.editor=d;
this.mousedown="mousedown.radEditorTextFieldsFix";
this.blur="blur.radEditorTextFieldsFix";
this.mouseenter="mouseenter.radEditorTextFieldsFix";
this.mouseout="mouseout.radEditorTextFieldsFix";
this.selector="input[type=text],input[type=password],textarea";
this.excludeCondition=d.get_enableImmutableElements()?Telerik.Web.UI.Editor.Utils.isImmutableNode:function(){return false;
};
};
b.TextFieldsTyping.prototype={enableTextFieldsTyping:function(){var d,e;
if($telerik.isIE){d=this._mousedownHandlerIE,e=this.mousedown;
}else{d=this._mouseenterHandlerFirefox,e=this.mouseenter;
}this.enableTyping(d,e,null,this.selector);
},enableTyping:function(e,g,f,h,d){c.addEventHandler.call(this,e,g,f,h,d);
},disableTextFieldsTyping:function(){var d=this.editor.get_contentArea();
if($telerik.isIE){this._removeHandler(d,this.mousedown,this.selector);
this._removeHandler(d,this.blur,this.selector);
}else{this._removeHandler(d,this.mouseenter,this.selector);
this._removeHandler(d,this.mouseout,this.selector);
this._removeHandler(d,this.mousedown,this.selector);
this._removeHandler(d,this.blur,this.selector);
}},_mousedownHandlerIE:function(d){if(this.excludeCondition(d.target)){return;
}var e=this.editor.getSelectedElement();
if(!$telerik.$(e).is(d.target)){this.editor.selectElement(d.target);
if(!($telerik.isIE6||$telerik.isIE7||$telerik.isIE8)){this.enableTyping(this._blurHandlerIE,this.blur,null,this.selector);
}}},_blurHandlerIE:function(d){this._saveContent(d.target);
},_mouseenterHandlerFirefox:function(e){if(this.excludeCondition(e.target)){return;
}var d=this.editor;
if(d.get_mode()!=Telerik.Web.UI.EditModes.Design){return;
}var f=c.getBrowserRange(d);
this._switchEditorEditableMode(d.get_contentArea(),false);
this.enableTyping(this._mouseoutHandlerFirefox,this.mouseout,e.target,null,f);
this.enableTyping(this._mousedownHandlerFirefox,this.mousedown,e.target);
},_mousedownHandlerFirefox:function(d){this.editor.selectElement(d.target);
a(d.target).focus();
this.enableTyping(this._blurHandlerFirefox,this.blur,d.target);
},_blurHandlerFirefox:function(f){this._saveContent(f.target);
var e=this.editor;
var g=c.getBrowserRange(e);
var d=e.get_contentArea();
this._switchEditorEditableMode(d,false);
this._switchEditorEditableMode(d,true);
e.getSelection().selectRange(g);
},_mouseoutHandlerFirefox:function(f,e){var d=this.editor;
this._switchEditorEditableMode(d.get_contentArea(),true);
d.getSelection().selectRange(f);
},_removeHandler:function(d,e,f){c._removeHandler(d,e,f);
},_switchEditorEditableMode:function(d,e){c._switchEditorEditableMode(d,e);
},_saveContent:function(d){var e=d.value;
if(d.nodeName=="TEXTAREA"){d.defaultValue=e;
}else{if(d.nodeName=="INPUT"){$telerik.$(d).attr("value",e);
}}}};
b.TextFieldsTyping.registerClass("Telerik.Web.UI.Editor.TextFieldsTyping",null);
})($telerik.$,Telerik.Web.UI.Editor);

/* END Telerik.Web.UI.Editor.RadEditor.js */
/* START Telerik.Web.UI.Common.LayoutBuilder.LayoutBuilderEngine.js */
(function(a){Type.registerNamespace("Telerik.Web.UI");
Telerik.Web.UI.LayoutBuilderEngine=function(b){this._selectedTable=null;
this._selectedCell=null;
this._selectedRow=null;
this._selectedRowCells=[];
this._selectedRowIndex=null;
this._tableState=[];
this._tableStateRowsCount=0;
this._tableStateColsCount=0;
this._tableStateId="LayoutBuilder_tableState_dump";
this._tableStateTableStyle="radtblder_stateMatrixTable";
this._tableStateCellStyle="radtblder_stateMatrixCell";
this._selectedCellClassName="";
this._states=[];
this._currentStateIndex=-1;
this.set_selectedTable(b);
if(this._selectedTable){this.set_selectedCell();
}if(!b){b=document.createElement("table");
}Telerik.Web.UI.LayoutBuilderEngine.initializeBase(this,[b]);
};
Telerik.Web.UI.LayoutBuilderEngine.prototype={get_selectedTable:function(){return this._selectedTable;
},set_selectedTable:function(b){this._selectedTable=null;
if(b&&b.tagName=="TABLE"){this._selectedTable=b;
this._setTableState();
}},get_selectedCell:function(){return this._selectedCell;
},set_selectedCell:function(d,c){if(!this._selectedTable||this._selectedTable.tagName!="TABLE"){return;
}if(!d){d=this._selectedTable.rows[0].cells[0];
}if(d.tagName=="TD"||d.tagName=="TH"){if(this._selectedCell!=d){this._selectedCellClassName=d.className;
}this._selectedCell=d;
}else{this._selectedCell=null;
}if(this._selectedCell){this.set_selectedRow();
}if(this._selectedCell&&(false!=c)&&this._currentStateIndex==-1){if(this._states.length==1&&this._states[0]["commandName"]=="selection"){this._states=[];
}var b={commandName:"selection",selectedColIndex:this._selectedCell.cellIndex,selectedRowIndex:this._selectedRowIndex,nextSelectedColIndex:this._selectedCell.cellIndex,nextSelectedRowIndex:this._selectedRowIndex};
this._storeState(b);
}},set_selectedRow:function(){if(this._selectedCell){this._selectedRow=this._selectedCell.parentNode;
if(this._selectedRow){this._selectedRowCells=this._selectedRow.cells;
this._selectedRowIndex=this._selectedRow.rowIndex;
}else{this._selectedRowCells=null;
this._selectedRowIndex=null;
}}},_raiseException:function(b){},_initializesTableStateCounts:function(){var k=this._selectedTable.rows;
var h=k.length;
var d=0;
for(var e=0;
e<h;
e++){var g=0;
var b=k[e].cells;
var c=b.length;
for(var f=0;
f<c;
f++){g+=this._getColSpan(b[f]);
}if(d<g){d=g;
}}this._tableStateRowsCount=h;
this._tableStateColsCount=d;
},dumpState:function(){var g=document.createElement("Table");
var e=$get(this._tableStateId);
if(e){e.parentNode.removeChild(e);
}g.id=this._tableStateId;
g.className=this._tableStateTableStyle;
var f=this._tableState.length;
for(var c=0;
c<f;
c++){var b=this._tableState[c].length;
var k=g.insertRow(c);
for(var d=0;
d<b;
d++){var h=k.insertCell(d);
h.className=this._tableStateCellStyle;
h.innerHTML=this._tableState[c][d];
}}this._selectedTable.parentNode.appendChild(g);
},_initializesTableState:function(e,b){for(var c=0;
c<e;
c++){this._tableState[c]=[];
for(var d=0;
d<b;
d++){this._tableState[c][d]="";
}}},_processTD:function(k,g,b){var h=this._getRowSpan(k);
var c=this._getColSpan(k);
for(var d=0;
d<h;
d++){for(var f=0;
f<c;
f++){var e=g+d;
if(this._tableState[e]==a){this._tableState[e]=[];
}this._tableState[e][b+f]=k.parentNode.rowIndex+","+k.cellIndex;
}}},_setTableState:function(){this._tableState=[];
this._initializesTableStateCounts();
this._initializesTableState(this._tableStateRowsCount,this._tableStateColsCount);
var g=this._selectedTable.rows;
var h=g.length;
for(var f=0;
f<h;
f++){var e=0;
var c=g[f].cells;
var d=c.length;
for(var b=0;
b<d;
b++){while(this._tableState[f][e]){e++;
}this._processTD(c[b],f,e);
}}},_getStateValueIndexes:function(f,c){var g={};
var e=this._tableState.length-1;
if(f>e){f=e;
}var d=this._tableState[f][c];
if(d){var b=d.split(",");
if(b.length==2){g.rowIndex=parseInt(b[0],10);
g.colIndex=parseInt(b[1],10);
}}return g;
},_getSelectedTableCellByStateIndexes:function(g,c){try{var b=this._getStateValueIndexes(g,c);
var f=this._selectedTable.rows[b.rowIndex];
return(f!=a)?f.cells[b.colIndex]:null;
}catch(d){return null;
}},_getLeftTopStateIndexes:function(f,d){var g={};
var h=f+","+d;
for(var e=0;
e<this._tableStateRowsCount;
e++){var b=false;
for(var c=0;
c<this._tableStateColsCount;
c++){if(this._tableState[e][c]==h){g.rowIndex=e;
g.colIndex=c;
b=true;
break;
}}if(b){break;
}}return g;
},_getRightTopStateIndexes:function(f,d){var g={};
var h=f+","+d;
for(var e=0;
e<this._tableStateRowsCount;
e++){var b=false;
for(var c=this._tableStateColsCount-1;
c>-1;
c--){if(this._tableState[e][c]==h){g.rowIndex=e;
g.colIndex=c;
b=true;
break;
}}if(b){break;
}}return g;
},_getLeftBottomStateIndexes:function(f,d){var g={};
var h=f+","+d;
for(var e=(this._tableStateRowsCount-1);
e>-1;
e--){var b=false;
for(var c=0;
c<this._tableStateColsCount;
c++){if(this._tableState[e][c]==h){g.rowIndex=e;
g.colIndex=c;
b=true;
break;
}}if(b){break;
}}return g;
},_insertRow:function(c){var b=null;
if(this._selectedCell.tagName=="TH"){if(this._selectedRow){b=this._selectedRow.parentNode.insertRow(c);
}}else{b=this._selectedTable.insertRow(c);
}return b;
},_insertCell:function(g,c,d,i){if(!c){c=0;
}var b=null;
if(g&&g.tagName=="TR"){var f=g.parentNode;
if(f.tagName=="THEAD"){var e=g.document?g.document:g.ownerDocument;
b=e.createElement("th");
if(d){b.innerHTML=d;
}if(g.cells.length==c){g.appendChild(b);
}else{var h=g.cells[c];
if(h){g.insertBefore(b,h);
}}}else{b=g.insertCell(c);
if(d){b.innerHTML=d;
}}$telerik.mergeElementAttributes(i,b);
this._cleanNewCellAttributes(b);
}return b;
},_cleanNewCellAttributes:function(b){if(!b){return;
}b.removeAttribute("rowSpan");
b.removeAttribute("colSpan");
b.removeAttribute("name");
b.removeAttribute("ID");
},_getRowSpan:function(b){if(b){var c=parseInt(b.getAttribute("rowSpan"),10);
if(isNaN(c)){c=1;
}return c;
}return 0;
},_getColSpan:function(c){if(c){var b=parseInt(c.getAttribute("colSpan"),10);
if(isNaN(b)){b=1;
}return b;
}return 0;
},_setRowSpan:function(b,c){if(!b){return;
}c=parseInt(c,10);
if(isNaN(c)||c<2){b.removeAttribute("rowSpan");
}else{b.setAttribute("rowSpan",c);
}},_setColSpan:function(c,b){if(!c){return;
}b=parseInt(b,10);
if(isNaN(b)||b<2){c.removeAttribute("colSpan");
}else{c.setAttribute("colSpan",b);
}},_alterRowSpan:function(d,b){var e=this._getRowSpan(d)+b;
var c=true;
if(e>0){this._setRowSpan(d,e);
}else{c=false;
}return c;
},canUndo:function(){return(0<this._currentStateIndex);
},canRedo:function(){return(this._currentStateIndex<this._states.length-1);
},undo:function(){var e=this._currentStateIndex-1;
var c=this._states[this._currentStateIndex];
if(e<this._states.length){var d=this._states[e];
if(d){this._replaceSelectedTable(d);
this._currentStateIndex--;
var b={commandName:"undo "+c.commandName,selectedColIndex:c.selectedColIndex,selectedRowIndex:c.selectedRowIndex};
this._raiseEvent("onCommand",b);
}}},redo:function(){var e=this._currentStateIndex+1;
var c=this._states[this._currentStateIndex];
if(e<this._states.length){var d=this._states[e];
if(d){this._replaceSelectedTable(d);
this._currentStateIndex++;
var b={commandName:"redo "+c.commandName,selectedColIndex:c.selectedColIndex,selectedRowIndex:c.selectedRowIndex};
this._raiseEvent("onCommand",b);
}}},_replaceSelectedTable:function(c){var b=this._selectedTable.parentNode;
var e=c.table.cloneNode(true);
b.insertBefore(e,this._selectedTable);
b.removeChild(this._selectedTable);
this.set_selectedTable(e);
var d=e.rows[c.nextSelectedRowIndex].cells[c.nextSelectedColIndex];
this._selectedCellClassName=c.selectedCellClassName;
this.set_selectedCell(d,false);
},_storeState:function(b){if(!this._selectedTable){return false;
}this._currentStateIndex++;
if(this._states.length!=0){this._states=this._states.slice(0,this._currentStateIndex);
}var c={table:this._selectedTable.cloneNode(true),selectedRowIndex:b.selectedRowIndex,selectedColIndex:b.selectedColIndex,nextSelectedRowIndex:b.nextSelectedRowIndex,nextSelectedColIndex:b.nextSelectedColIndex,selectedCellClassName:this._selectedCellClassName,commandName:b.commandName};
this._states.push(c);
},_removeEptyTrElements:function(){if(!this._selectedTable){return false;
}var n=this._selectedTable.rows;
var o=n.length;
var p=[];
var e=0,f,m;
for(f=0;
f<o;
f++){m=n[f];
var d=m.cells.length;
if(d==0){p[e++]=m;
if(f!=0){var h=n[f-1];
var k=h.cells;
var l=k.length;
for(var g=0;
g<l;
g++){var b=k[g];
var c=this._getRowSpan(b);
if(c>1){this._setRowSpan(b,c-1);
}}}}}for(f=0;
f<e;
f++){m=p[0];
m.parentNode.removeChild(m);
}},executeCommand:function(d,c){if(!this._selectedTable||!this._selectedCell||!d){return false;
}var e=true;
var b={commandName:d,selectedColIndex:this._selectedCell.cellIndex,selectedRowIndex:this._selectedRowIndex,nextSelectedColIndex:this._selectedCell.cellIndex,nextSelectedRowIndex:this._selectedRowIndex};
switch(d){case"deleteColumn":case"deleteRow":case"deleteCell":case"insertRowAbove":case"insertRowBelow":case"insertColumnToTheLeft":case"insertColumnToTheRight":case"mergeLeft":case"mergeTop":case"mergeRight":case"mergeDown":case"setAsContentCell":case"splitCellHorizontally":case"splitCellVertically":e=this[d](c);
break;
default:this._raiseException(d+" is not implemented!");
return false;
}if(e){this._setTableState();
this._raiseEvent("onCommand",b);
this.set_selectedRow();
if(d!="deleteColumn"&&d!="deleteRow"&&d!="deleteCell"){b.nextSelectedColIndex=this._selectedCell.cellIndex;
b.nextSelectedColIndex=this._selectedRowIndex;
}this._storeState(b);
this._removeEptyTrElements();
}return e;
},_alterNonCurrentRowCellsRowspan:function(f,b){var c=";";
for(var h=0;
h<this._tableStateColsCount;
h++){var d=this._getStateValueIndexes(f,h);
var g=d.rowIndex;
var e=d.colIndex;
if(d.rowIndex!=f){var i=g+","+e+";";
if(c.indexOf(";"+i)==-1){c+=i;
this._alterRowSpan(this._selectedTable.rows[g].cells[e],b);
}}}},_getNewCellIndex:function(j,c,e){var g=j+1;
var m=j+","+c;
var f=(e)?e:0;
for(var k=0;
k<this._tableStateColsCount;
k++){if(this._tableState[g][k]==m){if(k!=0){var h=k-1;
for(var d=h;
d>0;
d--){var b=this._getStateValueIndexes(g,h);
var l=b.rowIndex;
if(l==g){var n=b.colIndex;
f=parseInt(n,10);
break;
}}}break;
}}return f;
},deleteRow:function(c){if(!this._selectedTable){return false;
}var d=this._getLeftTopStateIndexes(this._selectedRowIndex,this._selectedCell.cellIndex);
var p=d.rowIndex;
var s=p-1;
var f=this._selectedRowIndex+1;
var e=this._selectedTable.rows[f];
if(typeof(p)!="undefined"&&typeof(d.colIndex)!="undefined"){var n=";";
var l=0;
for(var o=0;
o<this._tableStateColsCount;
o++){var q=this._tableState[p][o]+";";
if(n.indexOf(";"+q)==-1){n+=q;
var g=this._getSelectedTableCellByStateIndexes(p,o);
var h=this._getRowSpan(g);
if(h!=1){if(s>=0&&this._tableState[p][o]==this._tableState[s][o]){var r=this._getSelectedTableCellByStateIndexes(s,o);
this._alterRowSpan(r,-1);
}else{for(var j=o;
j>-1;
j--){var b=this._getStateValueIndexes(f,j);
if(f==b.rowIndex){l=parseInt(b.colIndex,10)+1;
break;
}}var k=this._insertCell(e,l,g.innerHTML,g);
this._setColSpan(k,this._getColSpan(g));
this._setRowSpan(k,h-1);
l++;
}}}}var m=this._selectedRow.parentNode;
if(m){m.removeChild(this._selectedRow);
}return true;
}},insertRowBelow:function(b){if(!this._selectedTable){return false;
}var c=this._getLeftBottomStateIndexes(this._selectedRowIndex,this._selectedCell.cellIndex);
if(typeof(c.rowIndex)!="undefined"&&typeof(c.colIndex)!="undefined"){var k=c.rowIndex;
var i=k+1;
var h=this._insertRow(i);
$telerik.mergeElementAttributes(this._selectedRow,h);
var j=";";
for(var f=0;
f<this._tableStateColsCount;
f++){var l=this._tableState[k][f];
if(j.indexOf(";"+l+";")==-1){j+=l+";";
var d=this._getSelectedTableCellByStateIndexes(k,f);
if(this._getRowSpan(d)>1&&i!=this._tableStateRowsCount&&this._tableState[k][f]==this._tableState[i][f]){this._alterRowSpan(d,1);
}else{var g=this._insertCell(h,h.cells.length,"&nbsp;",d);
var e=this._getColSpan(d);
if(e>1){this._setColSpan(g,e);
}}}}}return true;
},insertRowAbove:function(b){if(!this._selectedTable){return false;
}var j=this._insertRow(this._selectedRowIndex);
$telerik.mergeElementAttributes(this._selectedRow,j);
var h=0;
var f=this._selectedRowCells.length;
this._alterNonCurrentRowCellsRowspan(this._selectedRowIndex,1);
for(var e=0;
e<f;
e++){var c=this._selectedRowCells[e];
var d=this._getColSpan(this._selectedRowCells[e]);
var g=this._insertCell(j,h++,"&nbsp;",c);
if(d>1){this._setColSpan(g,d);
}}return true;
},insertColumnToTheLeft:function(b){if(!this._selectedTable){return false;
}var d=this._getLeftTopStateIndexes(this._selectedRowIndex,this._selectedCell.cellIndex);
var g,j;
if(typeof(d.colIndex)!="undefined"){var o=parseInt(d.colIndex,10);
if(isNaN(o)){o=0;
}for(var l=0;
l<this._tableStateRowsCount;
l++){var n=this._selectedTable.rows[l];
var c=this._getStateValueIndexes(l,o);
var q=c.rowIndex;
var p=c.colIndex;
if(q==l){var f=false;
if(o==0){f=true;
}else{g=this._selectedTable.rows[q].cells[p];
var h=this._getColSpan(g);
if(this._tableState[l][o]==this._tableState[l][o-1]&&h>1&&l!=this._selectedRowIndex){g.setAttribute("colSpan",h+1);
var m=this._getRowSpan(g);
if(m>1){for(j=1;
j<m;
j++){l++;
}}}else{f=true;
}}if(f){this._insertCell(n,p,"&nbsp;",n.cells[p]);
}}else{var k=0;
for(j=o-1;
j>-1;
j--){var e=this._getStateValueIndexes(l,j);
if(e.rowIndex==l){k=e.colIndex+1;
break;
}}g=this._getSelectedTableCellByStateIndexes(l,o);
this._insertCell(n,k,"&nbsp;",g);
}}}return true;
},insertColumnToTheRight:function(b){if(!this._selectedTable){return false;
}var d=this._getRightTopStateIndexes(this._selectedRowIndex,this._selectedCell.cellIndex);
var g,j;
if(typeof(d.colIndex)!="undefined"){var o=parseInt(d.colIndex,10);
if(isNaN(o)){o=0;
}for(var l=0;
l<this._tableStateRowsCount;
l++){var n=this._selectedTable.rows[l];
var c=this._getStateValueIndexes(l,o);
var q=c.rowIndex;
var p=parseInt(c.colIndex,10);
if(isNaN(p)){p=0;
}if(q==l){var f=false;
if(o==this._tableStateColsCount-1){f=true;
}else{g=this._selectedTable.rows[q].cells[p];
var h=this._getColSpan(g);
if(this._tableState[l][o]==this._tableState[l][o+1]&&h>1&&l!=this._selectedRowIndex){g.setAttribute("colSpan",h+1);
var m=this._getRowSpan(g);
if(m>1){for(j=1;
j<m;
j++){l++;
}}}else{f=true;
}}if(f){this._insertCell(n,p+1,"&nbsp;",n.cells[p]);
}}else{var k=this._selectedTable.rows[l].cells.length;
for(j=o+1;
j<this._tableStateColsCount;
j++){var e=this._getStateValueIndexes(l,j);
if(e.rowIndex==l){k=parseInt(e.colIndex,10);
if(isNaN(k)){k=0;
}break;
}}g=this._getSelectedTableCellByStateIndexes(l,o);
this._insertCell(n,k,"&nbsp;",g);
}}}return true;
},deleteColumn:function(b){if(!this._selectedTable){return false;
}var d=this._getLeftTopStateIndexes(this._selectedRowIndex,this._selectedCell.cellIndex);
var l=d.colIndex;
if(typeof(l)!="undefined"){for(var h=0;
h<this._tableStateRowsCount;
h++){var k=this._selectedTable.rows[h];
var c=this._getStateValueIndexes(h,l);
var m=parseInt(c.colIndex,10);
var e=k.cells[m];
var j=this._getRowSpan(e);
var f=this._getColSpan(e);
if(f>1){this._setColSpan(e,f-1);
}else{k.removeChild(e);
}if(j>1){for(var g=1;
g<j;
g++){h++;
}}}return true;
}return false;
},canMergeLeft:function(d){if(!d){d=this._selectedCell;
}if(!d||!d.parentNode){return false;
}var c=true;
var h=d.cellIndex;
var e=d.parentNode;
var f=e.rowIndex;
if(h==0||h==-1){c=false;
}else{var b=this._getLeftTopStateIndexes(f,h);
if(typeof(b.rowIndex)=="undefined"||typeof(b.colIndex)=="undefined"){return false;
}var g=this._getSelectedTableCellByStateIndexes(b.rowIndex,b.colIndex-1);
if(g){if(g.parentNode.rowIndex!=f||this._getRowSpan(d)!=this._getRowSpan(g)){c=false;
}}}return c;
},mergeLeft:function(b){var d=(b&&b.cell)?b.cell:this._selectedCell;
if(!d||!d.parentNode){return false;
}var c=true;
var e=d.parentNode;
if(this.canMergeLeft(d)){var f=e.cells[d.cellIndex-1];
this._setColSpan(d,this._getColSpan(d)+this._getColSpan(f));
var g=f.innerHTML;
if(g!=" "&&g!="&nbsp;"){d.innerHTML=g+"<br />"+d.innerHTML;
}e.removeChild(f);
}else{this._raiseException("The cell can not be merged left!");
c=false;
}return c;
},canMergeTop:function(d){if(!d){d=this._selectedCell;
}if(!d||!d.parentNode){return false;
}var c=true;
var e=d.parentNode.rowIndex;
if(e==0){c=false;
}else{var b=this._getLeftTopStateIndexes(e,d.cellIndex);
if(typeof(b.rowIndex)=="undefined"||typeof(b.colIndex)=="undefined"){return false;
}var f=this._getSelectedTableCellByStateIndexes(b.rowIndex-1,b.colIndex);
c=this.canMergeDown(f);
}return c;
},mergeTop:function(b){var e=(b&&b.cell)?b.cell:this._selectedCell;
if(!e||!e.parentNode){return false;
}var d=true;
if(this.canMergeTop(e)){var g=e.parentNode;
var c=this._getLeftTopStateIndexes(g.rowIndex,e.cellIndex);
var h=this._getSelectedTableCellByStateIndexes(c.rowIndex-1,c.colIndex);
var f=e.innerHTML;
if(f!=" "&&f!="&nbsp;"){h.innerHTML+="<br />"+f;
}this.set_selectedCell(h,false);
this._alterRowSpan(h,this._getRowSpan(e));
g.removeChild(e);
}else{this._raiseException("The cell cannot be merged top!");
d=false;
}return d;
},canMergeRight:function(d){if(!d){d=this._selectedCell;
}if(!d||!d.parentNode){return false;
}var c=true;
var e=d.cellIndex;
var h=d.parentNode;
var i=h.rowIndex;
if(typeof(i)=="undefined"){return false;
}var f=h.cells.length;
if(e==f-1){c=false;
}else{var b=this._getRightTopStateIndexes(i,e);
if(typeof(b.rowIndex)=="undefined"||typeof(b.colIndex)=="undefined"){return false;
}var g=this._getSelectedTableCellByStateIndexes(b.rowIndex,b.colIndex+1);
if(g&&(g.parentNode.rowIndex!=i||this._getRowSpan(d)!=this._getRowSpan(g))){c=false;
}}return c;
},mergeRight:function(b){var d=(b&&b.cell)?b.cell:this._selectedCell;
if(!d||!d.parentNode){return false;
}var c=true;
if(this.canMergeRight(d)){var e=d.parentNode;
var f=e.cells[d.cellIndex+1];
var g=f.innerHTML;
if(g!=" "&&g!="&nbsp;"){d.innerHTML+="<br />"+g;
}this._setColSpan(d,this._getColSpan(d)+this._getColSpan(f));
e.removeChild(f);
}else{this._raiseException("The cell can not be merged right!");
c=false;
}return c;
},canMergeDown:function(e){if(!e){e=this._selectedCell;
}if(!e||!e.parentNode){return false;
}var d=true;
var i=this._getRowSpan(e);
var h=this._getColSpan(e);
var f=e.parentNode.rowIndex;
var g=f+i;
if(g==this._tableStateRowsCount){d=false;
}else{var c=this._getLeftTopStateIndexes(f,e.cellIndex);
if(typeof(c.colIndex)!="undefined"){var j=c.colIndex;
var b=this._getStateValueIndexes(g,j);
var n=b.rowIndex;
var m=parseInt(b.colIndex,10);
if(this._selectedTable.rows[n]==a){return false;
}var k=this._selectedTable.rows[n].cells[m];
if(k.parentNode.parentNode.tagName!=e.parentNode.parentNode.tagName){return false;
}var l=this._getColSpan(k);
if(h!=l){d=false;
}else{if(j!=0){if(this._tableState[g]==a||this._tableState[g][j-1]==this._tableState[g][j]){d=false;
}}}}}return d;
},mergeDown:function(b){var e=(b&&b.cell)?b.cell:this._selectedCell;
if(!e||!e.parentNode){return false;
}var d=true;
if(this.canMergeDown(e)){var c=this._getLeftBottomStateIndexes(e.parentNode.rowIndex,e.cellIndex);
var f=this._getSelectedTableCellByStateIndexes(c.rowIndex+1,c.colIndex);
var g=f.innerHTML;
if(g!=" "&&g!="&nbsp;"){e.innerHTML+="<br />"+g;
}this._alterRowSpan(e,this._getRowSpan(f));
f.parentNode.removeChild(f);
}else{this._raiseException("The cell can not be merged down!");
d=false;
}return d;
},canDeleteCell:function(b){if(!b){b=this._selectedCell;
}if(!b||!b.parentNode){return false;
}var d=0;
var e=this._getRowSpan(b);
var c=this._getColSpan(b);
if(e==this._tableStateRowsCount){d=1;
}else{if(c==this._tableStateColsCount){d=2;
}else{if(this.canMergeLeft(b)){d=3;
}else{if(this.canMergeRight(b)){d=4;
}else{if(this.canMergeDown(b)){d=5;
}else{if(this.canMergeTop(b)){d=6;
}}}}}}return d;
},deleteCell:function(b){var f=(b&&b.cell)?b.cell:this._selectedCell;
if(!f||!f.parentNode){return false;
}var d=true;
var j=f.parentNode;
var e=this.canDeleteCell(f);
var c;
switch(e){case 1:j.removeChild(f);
break;
case 2:j.parentNode.removeChild(j);
break;
case 3:var h=j.cells[f.cellIndex-1];
this.set_selectedCell(h,false);
d=this.mergeRight();
break;
case 4:var i=j.cells[f.cellIndex+1];
this.set_selectedCell(i,false);
d=this.mergeLeft();
break;
case 5:c=this._getLeftBottomStateIndexes(j.rowIndex,f.cellIndex);
var g=this._getSelectedTableCellByStateIndexes(c.rowIndex+1,c.colIndex);
this.set_selectedCell(g,false);
d=this.mergeTop();
break;
case 6:c=this._getLeftBottomStateIndexes(j.rowIndex,f.cellIndex);
var k=this._getSelectedTableCellByStateIndexes(c.rowIndex-1,c.colIndex);
this.set_selectedCell(k,false);
d=this.mergeDown();
break;
default:this._raiseException("The cell can not be deleted!");
d=false;
break;
}if(d&&j&&j.cells.length==0){j.parentNode.removeChild(j);
}return d;
},splitCellHorizontally:function(d){if(!this._selectedCell){return false;
}var g=this._selectedCell;
var f=true;
var k=this._getColSpan(g);
var i=g.cellIndex;
var q=this._selectedRow;
var r=this._selectedRowIndex;
var t=r+","+i;
var n=this._insertCell(q,i+1,"&nbsp;",g);
this._setRowSpan(n,this._getRowSpan(g));
if(k==1){var e=this._getLeftTopStateIndexes(r,i);
var j=e.colIndex;
var c=";";
for(var s=0;
s<this._tableStateRowsCount;
s++){var m=this._tableState[s][j];
if(s!=r&&m!=t&&c.indexOf(";"+m+";")){c+=m+";";
var b=this._getSelectedTableCellByStateIndexes(s,j);
this._setColSpan(b,this._getColSpan(b)+1);
}}}else{var p=(d)?parseInt(d.rightColSpan,10):null;
var h;
var o;
if(!p||isNaN(p)||p>=k){var l=Math.ceil(k/2);
if(k%2==0){h=l;
o=l;
}else{h=l;
o=l-1;
}}else{h=k-p;
o=p;
}this._setColSpan(g,h);
this._setColSpan(n,o);
}return f;
},splitCellVertically:function(e){var i=this._selectedCell;
if(!i){return false;
}if(!i.parentNode){return false;
}var h=true;
var s=this._getRowSpan(i);
var j=i.cellIndex;
var q=this._selectedRow;
var r=this._selectedRowIndex;
var c=";";
var b=null;
var w;
var f=[];
var m;
if(s==1){for(var u=0;
u<this._tableStateColsCount;
u++){b=this._getSelectedTableCellByStateIndexes(r,u);
w=this._tableState[r][u];
f=this._getStateValueIndexes(r,u);
if((b.cellIndex!=j||r!=f.rowIndex)&&c.indexOf(";"+w+";")==-1){c+=w+";";
this._alterRowSpan(b,1);
}}var p=this._insertRow(r+1);
$telerik.mergeElementAttributes(q,p);
m=this._insertCell(p,p.cells.length,"&nbsp;",i);
this._setColSpan(m,this._getColSpan(i));
}else{var t=Math.ceil(s/2),k,o;
var l=(e)?parseInt(e.downRowSpan,10):null;
if(!l||isNaN(l)||l>=s){if(s%2==0){k=t;
o=t;
}else{k=t;
o=t-1;
}}else{k=s-l;
o=l;
}this._setRowSpan(i,k);
var g=this._getLeftTopStateIndexes(r,j);
var d=r+k;
var n=0;
for(var v=g.colIndex;
v>-1;
v--){f=this._getStateValueIndexes(d,v);
if(f.rowIndex==d){n=f.colIndex+1;
break;
}}m=this._insertCell(this._selectedTable.rows[d],n,"&nbsp;",i);
this._setColSpan(m,this._getColSpan(i));
this._setRowSpan(m,o);
}return h;
},setAsContentCell:function(b){var c=this._selectedCell;
if(!c){return false;
}if(!c.parentNode){return false;
}c.style.width="100%";
c.style.height="100%";
return true;
},add_onCommand:function(b){this.get_events().addHandler("onCommand",b);
},_raiseEvent:function(c,b){var d=this.get_events().getHandler(c);
if(d){if(!b){b=Sys.EventArgs.Empty;
}d(this,b);
}}};
Telerik.Web.UI.LayoutBuilderEngine.registerClass("Telerik.Web.UI.LayoutBuilderEngine",Telerik.Web.UI.RadWebControl);
})();

/* END Telerik.Web.UI.Common.LayoutBuilder.LayoutBuilderEngine.js */
/* START Telerik.Web.UI.Spell.SpellCheckService.js */
Type.registerNamespace("Telerik.Web.UI");
Telerik.Web.UI.SpellCheckService=function(){Telerik.Web.UI.SpellCheckService.initializeBase(this);
this._url="Telerik.Web.UI.SpellCheckHandler.axd";
this._language="en-US";
this._configuration=null;
};
Telerik.Web.UI.SpellCheckService.prototype={spellCheck:function(a){this._sendRequest(this._getPostData("SpellCheck",a));
},addCustomWord:function(a){this._sendRequest(this._getPostData("AddCustom",a));
},_processResponse:function(b,a){var d=b.get_statusCode();
if(b.get_responseAvailable()&&200==d&&b.get_responseData().length>0){var c=b.get_object();
if(c.badWords!=null){c.badWords=eval(c.badWords);
}if(c.wordOffsets!=null){c.wordOffsets=eval(c.wordOffsets);
}this.raise_complete(b.get_object());
}else{if(b.get_timedOut()){alert("Spell Check Request time out");
}else{if(b.get_aborted()){alert("Spell Check Request aborted");
}else{if(404==d){window.alert("Web.config registration missing!\n The spellchecking functionality requires a HttpHandler registration in web.config. Please, use the control Smart Tag to add the handler automatically, or see the help for more information.\n\n"+this.get_url());
}else{if(d>0&&d!=200){window.alert("Spell Check Handler Server Error:"+d+"\n"+b.get_responseData());
}}}}}},_sendRequest:function(b,a){var c=new Sys.Net.WebRequest();
c.set_url(this.get_url());
c.set_httpVerb("POST");
c.set_body(b);
c.add_completed(Function.createDelegate(this,this._processResponse));
c.invoke();
},_getPostData:function(b,a){return"DictionaryLanguage="+this._encode(this._language)+"&Configuration="+this._encode(this._configuration)+"&CommandArgument="+this.encodePostbackContent(a).replace(/%/g,"~")+"&CommandName="+b;
},_encode:function(f){var d=true;
var c=window.escape;
try{var a=$telerik.isIE?document.charset:document.characterSet;
a=a+"";
if(a&&a.toLowerCase().indexOf("utf")==-1){d=false;
}}catch(b){}return(encodeURIComponent&&d)?encodeURIComponent(f):c(f);
},initialize:function(){Telerik.Web.UI.SpellCheckService.callBaseMethod(this,"initialize");
},dispose:function(){Telerik.Web.UI.SpellCheckService.callBaseMethod(this,"dispose");
},get_url:function(){return this._url;
},set_url:function(a){this._url=a;
},get_language:function(){return this._language;
},set_language:function(a){this._language=a;
},get_configuration:function(){return this._configuration;
},set_configuration:function(a){this._configuration=a;
},add_complete:function(a){this.get_events().addHandler("complete",a);
},remove_complete:function(a){this.get_events().removeHandler("complete",a);
},raise_complete:function(a){var b=this.get_events().getHandler("complete");
if(b){if(!a){a=Sys.EventArgs.Empty;
}b(this,a);
}},_encodeHtmlContent:function(b,e){var a=new Array("%","<",">","!",'"',"#","$","&","'","(",")",",",":",";","=","?","[","]","\\","^","`","{","|","}","~","+");
var d=b;
var c;
if(e){for(c=0;
c<a.length;
c++){d=d.replace(new RegExp("\\x"+a[c].charCodeAt(0).toString(16),"ig"),"%"+a[c].charCodeAt(0).toString(16));
}}else{for(c=a.length-1;
c>=0;
c--){d=d.replace(new RegExp("%"+a[c].charCodeAt(0).toString(16),"ig"),a[c]);
}}return d;
},encodePostbackContent:function(a){return this._encodeHtmlContent(a,true);
},decodePostbackContent:function(a){return this._encodeHtmlContent(a,false);
}};
Telerik.Web.UI.SpellCheckService.registerClass("Telerik.Web.UI.SpellCheckService",Sys.Component);

/* END Telerik.Web.UI.Spell.SpellCheckService.js */
/* START Telerik.Web.UI.Editor.Modules.js */
Type.registerNamespace("Telerik.Web.UI.Editor.Modules.DomInspector");
(function(a,d,b,c){b.BaseView=function(e){var f=this;
f.owner=e;
f._removeNodeClass="";
f._selectedNodeClass="";
f._nodeClass="";
f._separatorContent="";
};
b.BaseView.prototype={initialize:function(){},dispose:function(){delete this.owner;
},createRemoveNode:function(e){var f=document.createElement("a");
f.innerHTML=e;
f.href="javascript:void(0)";
f.className=this._removeNodeClass;
return f;
},createElementsNode:function(e,g){var f=document.createElement("a");
f.oncontextmenu=$telerik.cancelRawEvent;
f.href="javascript:void(0);";
f.innerHTML=e;
f.className=this._getElemNodeClass(g);
return f;
},createSeparator:function(){var e=document.createElement("span");
e.innerHTML=this._separatorContent;
return e;
},getRootClassName:function(){return"";
},_getElemNodeClass:function(e){}};
b.BaseView.registerClass("Telerik.Web.UI.Editor.Modules.DomInspector.BaseView");
})($telerik.$,Telerik.Web.UI,Telerik.Web.UI.Editor.Modules.DomInspector);
Type.registerNamespace("Telerik.Web.UI.Editor.Modules.DomInspector");
(function(a,d,b,c){b.ClassicView=function(e){var f=this;
b.ClassicView.initializeBase(f,[e]);
f._removeNodeClass="reModule_domlink";
f._selectedNodeClass="reModule_domlink_selected";
f._nodeClass="reModule_domlink";
f._separatorContent="&nbsp;> ";
};
b.ClassicView.prototype={initialize:function(){b.ClassicView.callBaseMethod(this,"initialize");
},dispose:function(){b.ClassicView.callBaseMethod(this,"dispose");
},createRemoveNode:function(e){return b.ClassicView.callBaseMethod(this,"createRemoveNode",[e]);
},createElementsNode:function(e,f){return b.ClassicView.callBaseMethod(this,"createElementsNode",[e,f]);
},createSeparator:function(){return b.ClassicView.callBaseMethod(this,"createSeparator");
},getRootClassName:function(){return"reModule";
},_getElemNodeClass:function(e){return e?this._selectedNodeClass:this._nodeClass;
}};
b.ClassicView.registerClass("Telerik.Web.UI.Editor.Modules.DomInspector.ClassicView",Telerik.Web.UI.Editor.Modules.DomInspector.BaseView);
})($telerik.$,Telerik.Web.UI,Telerik.Web.UI.Editor.Modules.DomInspector);
Type.registerNamespace("Telerik.Web.UI.Editor.Modules.DomInspector");
(function(a,d,b,c){b.LightweightView=function(e){var f=this;
b.LightweightView.initializeBase(f,[e]);
f._removeNodeClass="reRemoveDOMElement";
f._selectedNodeClass="reDOMElementSelected";
f._nodeClass="reDOMElement";
f._separatorContent="&gt;";
};
b.LightweightView.prototype={initialize:function(){b.LightweightView.callBaseMethod(this,"initialize");
},dispose:function(){b.LightweightView.callBaseMethod(this,"dispose");
},createRemoveNode:function(e){return b.LightweightView.callBaseMethod(this,"createRemoveNode",[e]);
},createElementsNode:function(e,f){return b.LightweightView.callBaseMethod(this,"createElementsNode",[e,f]);
},createSeparator:function(){return b.LightweightView.callBaseMethod(this,"createSeparator");
},getRootClassName:function(){return"reModule reHTMLStructure reRow reCaptionRow";
},_getElemNodeClass:function(f){var e=this._nodeClass;
if(f){e+=" "+this._selectedNodeClass;
}return e;
}};
b.LightweightView.registerClass("Telerik.Web.UI.Editor.Modules.DomInspector.LightweightView",Telerik.Web.UI.Editor.Modules.DomInspector.BaseView);
})($telerik.$,Telerik.Web.UI,Telerik.Web.UI.Editor.Modules.DomInspector);
Type.registerNamespace("Telerik.Web.UI.Editor.Modules.DomInspector");
(function(a,d,b,c){b.ViewFactory=function(){};
b.ViewFactory.getView=function(f){var e=d.RenderMode,g=f.get_editor().get_renderMode();
var h=null;
if(g==e.Lite){h=new b.LightweightView(f);
}else{if(g==e.Classic){h=new b.ClassicView(f);
}}return h;
};
})($telerik.$,Telerik.Web.UI,Telerik.Web.UI.Editor.Modules.DomInspector);
Type.registerNamespace("Telerik.Web.UI.Editor.Modules.NodeInspector");
(function(a){Telerik.Web.UI.Editor.Modules.NodeInspector.ToolsController=function(b){this._tools=b;
};
Telerik.Web.UI.Editor.Modules.NodeInspector.ToolsController.prototype={initialize:function(){},dispose:function(){delete this._tools;
},update:function(e,d){var c=this._tools[e],b=d.getAttribute?d.getAttribute(e):null;
if(c){if(typeof(this["_"+e])==="function"){this["_"+e](c,d);
}else{if(c.set_value){c.set_value(b||"");
}}}},_noWrap:function(b,c){var d=(c.style.whiteSpace=="nowrap")?"nowrap":"";
if(!d){d=c.noWrap;
}b.set_value(d);
},_border:function(b,c){var d=parseInt(c.style.borderWidth,10);
if(isNaN(d)){d="";
}b.set_value(d);
},_bgColor:function(b,c){this._setColor("backgroundColor",b,c);
},_borderColor:function(b,c){this._setColor("borderColor",b,c);
},_setColor:function(b,c,d){var f=d.style[b];
if(!f){f=d.getAttribute(b);
}if(f){var e=f.indexOf(")");
if(e!=-1){f=f.substring(0,e+1);
}}c.set_color(f);
},_align:function(c,d){var g=d.tagName.toLowerCase();
switch(g){case"img":c.updateValue("",null);
var e=($telerik.isIE)?"styleFloat":"cssFloat";
var f=(typeof(d.style[e])=="undefined")?"":d.style[e];
var j=(typeof(d.style.verticalAlign)=="undefined")?"":d.style.verticalAlign;
if(j==""&&f!=""){switch(f){case"left":c.updateValue("left",null);
break;
case"right":c.updateValue("right",null);
break;
}}if(f==""){switch(j){case"top":c.updateValue("top",null);
break;
case"middle":c.updateValue("absmiddle",null);
break;
case"text-bottom":c.updateValue("bottom",null);
break;
}}break;
case"td":case"th":var h=d.style.textAlign;
var k=d.style.verticalAlign;
var b=d.getAttribute("align");
var i=d.getAttribute("vAlign");
if((h=="left"||h=="center"||h=="right")&&(k=="top"||k=="middle"||k=="bottom")){c.updateValue(h,k);
}else{if(b||i){c.updateValue(b,i);
}else{c.updateValue(null,null);
}}break;
default:c.updateValue(d.getAttribute("align"),d.getAttribute("vAlign"));
break;
}},_target:function(b,c){var d=c.getAttribute("target");
b.updateValue(d||"");
},_width:function(b,c){this._setDimention("width",b,c);
},_height:function(b,c){this._setDimention("height",b,c);
},_setDimention:function(b,c,d){var e=d.style[b];
if(!e){e=d.getAttribute(b);
}if(!e&&d.nodeName=="IMG"){e=(b=="width")?d.offsetWidth:d.offsetHeight;
}c.set_value(e);
},_name:function(b,c){b.set_value(c.name);
},_className:function(c,d){var b=d.getAttribute("class");
if(!b){b="";
}c.updateValue(b);
}};
})();
Type.registerNamespace("Telerik.Web.UI.Editor.Modules.NodeInspector");
(function(a,d,b,c){b.ClassicView=function(e){this.owner=e;
};
b.ClassicView.prototype={initialize:function(){},dispose:function(){delete this.owner;
},createUI:function(){var o=this.owner;
var f=o._tools;
var k=o._nodeInspectorAttributesArray;
var l=document.createElement("table");
l.border=0;
l.cellSpacing=0;
l.cellPadding=0;
for(var p=0;
p<k.length;
p++){var g=k[p];
var n=l.insertRow(-1);
for(var h=0;
h<g.length;
h++){var j=g[h];
var m=n.insertCell(-1);
m.style.display="none";
m.setAttribute("controlName",j);
m.innerHTML=o._getLocalizedString(j,j);
m.className="reModuleLabel";
m=n.insertCell(-1);
m.style.display="none";
m.setAttribute("controlHolder",j);
var e=o._getControlByName(j);
if(e){f[j]=e;
m.appendChild(e.get_element());
}}}return l;
},updateControls:function(w){var u=this.owner;
var k=u._nodeAttributesArray[w.tagName];
var p=u._mainPanel;
var l=u._tools;
for(var v=0;
v<p.rows.length;
v++){var s=p.rows[v];
for(var n=0;
n<s.cells.length;
n++){var r=s.cells[n];
var h=r.getAttribute("controlName");
if(h){r.style.display=u._arrayValueExists(h,k)?"":"none";
}var g=r.getAttribute("controlHolder");
if(g){r.style.display=u._arrayValueExists(g,k)?"":"none";
if("none"==r.style.display){continue;
}var j=l[g];
var f=w.getAttribute?w.getAttribute(g,2):"";
var t;
if(g=="noWrap"){var q=(w.style.whiteSpace=="nowrap")?"nowrap":"";
if(!q){q=w.noWrap;
}j.set_value(q);
}else{if(g=="border"){t=parseInt(w.style.borderWidth,10);
if(isNaN(t)){t="";
}j.set_value(t);
}else{if(g=="borderColor"||g=="bgColor"){if(g=="bgColor"){g="backgroundColor";
}t=w.style[g];
if(!t){t=w.getAttribute(g);
}if(t){var o=t.indexOf(")");
if(o!=-1){t=t.substring(0,o+1);
}}j.set_color(t);
}else{if(g=="align"){var z=w.tagName.toLowerCase();
switch(z){case"img":j.updateValue("",null);
var m=($telerik.isIE)?"styleFloat":"cssFloat";
var y=(typeof(w.style[m])=="undefined")?"":w.style[m];
var D=(typeof(w.style.verticalAlign)=="undefined")?"":w.style.verticalAlign;
if(D==""&&y!=""){switch(y){case"left":j.updateValue("left",null);
break;
case"right":j.updateValue("right",null);
break;
}}if(y==""){switch(D){case"top":j.updateValue("top",null);
break;
case"middle":j.updateValue("absmiddle",null);
break;
case"text-bottom":j.updateValue("bottom",null);
break;
}}break;
case"td":case"th":var B=w.style.textAlign;
var E=w.style.verticalAlign;
var e=w.getAttribute("align");
var C=w.getAttribute("vAlign");
if((B=="left"||B=="center"||B=="right")&&(E=="top"||E=="middle"||E=="bottom")){j.updateValue(B,E);
}else{if(e||C){j.updateValue(e,C);
}else{j.updateValue(null,null);
}}break;
default:j.updateValue(w.getAttribute("align"),w.getAttribute("vAlign"));
break;
}}else{if(g=="target"){var A=w.getAttribute(g);
j.updateValue(A||"");
}else{if(g=="width"||g=="height"){var x=w.style[g];
if(!x){x=w.getAttribute(g);
}if(!x&&w.nodeName=="IMG"){x=(g=="width")?w.offsetWidth:w.offsetHeight;
}j.set_value(x);
}else{if("name"==g.toLowerCase()){j.set_value(w.name);
}else{if("className"==g){if(!u.isIE){f=w.getAttribute("class");
}if(!f){f="";
}j.updateValue(f);
}else{if(f&&j.set_value){j.set_value(f);
}else{if(j.set_value){j.set_value("");
}}}}}}}}}}}}}}};
})($telerik.$,Telerik.Web.UI,Telerik.Web.UI.Editor.Modules.NodeInspector);
Type.registerNamespace("Telerik.Web.UI.Editor.Modules.NodeInspector");
(function(a,d,b,c){b.LightweightView=function(e){this.owner=e;
};
b.LightweightView.prototype={initialize:function(){},dispose:function(){delete this.owner;
},createUI:function(){var m=this.owner;
var f=m._tools;
var l=m._nodeInspectorAttributesArray;
var p=document.createElement("div");
for(var n=0;
n<l.length;
n++){var g=l[n];
var o=document.createElement("div");
o.className="reRow reAltRow";
p.appendChild(o);
for(var h=0;
h<g.length;
h++){var j=g[h];
var k=document.createElement("span");
k.setAttribute("controlName",j);
k.className="reLabel";
k.innerHTML=m._getLocalizedString(j,j);
o.appendChild(k);
var e=m._getControlByName(j);
if(e){f[j]=e;
o.appendChild(e.get_element());
}}}return p;
},updateControls:function(f){var e=this.owner;
var g=e._tools;
var h=new Telerik.Web.UI.Editor.Modules.NodeInspector.ToolsController(g);
a(e._mainPanel).find("span").each(function(k,m){var l=a(m);
var i=null;
var j=l.attr("controlName");
if(j){l.css("display","none");
i=g[j];
if(i){a(i.get_element()).css("display","none");
if(a.inArray(j,e._nodeAttributesArray[f.tagName])>-1){l.css("display","");
a(i.get_element()).css("display","");
h.update(j,f);
}}}});
}};
})($telerik.$,Telerik.Web.UI,Telerik.Web.UI.Editor.Modules.NodeInspector);
Type.registerNamespace("Telerik.Web.UI.Editor.Modules.NodeInspector");
(function(a,d,b,c){b.ViewFactory=function(){};
b.ViewFactory.getView=function(f){var e=d.RenderMode,g=f.get_editor().get_renderMode();
var h=null;
if(g==e.Lite){h=new b.LightweightView(f);
}else{if(g==e.Classic){h=new b.ClassicView(f);
}}return h;
};
})($telerik.$,Telerik.Web.UI,Telerik.Web.UI.Editor.Modules.NodeInspector);
Type.registerNamespace("Telerik.Web.UI.Editor");
Type.registerNamespace("Telerik.Web.UI.Editor.Modules");
Telerik.Web.UI.Editor.ModulesManager=function(a){this._editor=a;
this._modules=[];
this._onEditorModeChangeDelegate=Function.createDelegate(this,this._onEditorModeChange);
};
Telerik.Web.UI.Editor.ModulesManager.prototype={initialize:function(){this.createModules();
this._editor.add_modeChange(this._onEditorModeChangeDelegate);
},getModuleByName:function(b){for(var a=0;
a<this._modules.length;
a++){if(this._modules[a].get_name()==b){return this._modules[a];
}}return null;
},createModules:function(){if(!this._editor){return;
}var b=this._editor.get_modulesJSON();
for(var a=0;
a<b.length;
a++){if(b[a].name!="RadEditorTrackChangesInfo"||this._editor.get_enableComments()||this._editor.get_enableTrackChanges()){this.createModule(b[a]);
}}},createModule:function(a){if(a.attributes){for(var f in a.attributes){a[f.toLowerCase()]=a.attributes[f];
}}var d=a.enabled;
if(false==d){return;
}a.editor=this._editor;
var h=a.name;
if(h){a.title=this._editor.getLocalizedString(h);
}var b=null;
try{b=eval("Telerik.Web.UI.Editor.Modules."+h);
}catch(c){}if(!b){try{b=eval(h);
}catch(c){}}if(b){var g=document.createElement("div");
var i=this._getModuleZone(a.dockingzone);
delete a.dockingzone;
delete a.dockable;
if(i){if(i.innerHTML=="&nbsp;"||i.innerHTML.length==1){i.innerHTML="";
}i.appendChild(g);
}this._modules[this._modules.length]=$create(b,a,null,null,g);
}},_getModuleZone:function(b){var a=this._editor.get_id();
var c=$get(a+b);
if(!c){c=$get(a+"Module");
}return c;
},_onEditorModeChange:function(d,a){var b=Telerik.Web.UI.EditModes;
var c=d.get_mode();
this.setModulesVisible((c==b.Design));
},setModulesVisible:function(a){var d=this._modules;
var b=false;
var c;
if(!a&&this._enabledModules==null){b=true;
this._enabledModules={};
for(c=0;
c<d.length;
c++){var e=d[c];
if(e.get_visible()){this._enabledModules[e.get_name()]=true;
}e.set_visible(false);
}}else{if(a&&this._enabledModules){b=true;
for(c=0;
c<d.length;
c++){var f=d[c];
var g=this._enabledModules[f.get_name()];
if(g){f.set_visible(true);
}}this._enabledModules=null;
}}if(b){this._fixIEBottomZoneDisplacement(a);
}},_fixIEBottomZoneDisplacement:function(b){if($telerik.isIE&&this._editor.get_renderMode()==Telerik.Web.UI.RenderMode.Classic){if(!this._emptySpan){this._emptySpan=document.createElement("span");
var a=this._getModuleZone("Bottom");
if(a){var c=this._emptySpan;
c.innerHTML="&nbsp;";
c.style.display="none";
a.appendChild(c);
}}this._emptySpan.style.display=b?"none":"";
}},get_modules:function(){return this._modules;
}};
Telerik.Web.UI.Editor.ModulesManager.registerClass("Telerik.Web.UI.Editor.ModulesManager",null);
Telerik.Web.UI.Editor.Modules.ModuleBase=function(a){Telerik.Web.UI.Editor.Modules.ModuleBase.initializeBase(this,[a]);
this._editor=null;
this._name="";
this._visible=true;
this._enabled=true;
this._rendered=false;
this._enableMaxWidth=true;
this._title="";
this._className="reModule";
this._scriptFile="";
this._attributes={};
this.isSafari=$telerik.isSafari;
this.isIE=$telerik.isIE;
this.isOpera=$telerik.isOpera;
this.isFirefox=$telerik.isFirefox;
};
Telerik.Web.UI.Editor.Modules.ModuleBase.prototype={initialize:function(){Telerik.Web.UI.Editor.Modules.ModuleBase.callBaseMethod(this,"initialize");
if(this.get_visible()){this.render();
}},render:function(){var a=this.get_element();
if(a){a.className=this._className;
}this._rendered=true;
},toggleVisibility:function(){this.set_visible(!this.get_visible());
},attachEventHandler:function(c,b){var a=this.get_editor();
if(a){a.attachInternalHandler(c,b);
}},_getLocalizedString:function(b,a){return this._editor.getLocalizedString(b,a);
},get_editor:function(){return this._editor;
},set_editor:function(a){this._editor=a;
},get_attributes:function(){return this._attributes;
},set_attributes:function(a){this._attributes=a;
},get_scriptFile:function(){return this._scriptFile;
},set_scriptFile:function(a){this._scriptFile=a;
},get_visible:function(){var a=this.get_element();
if(!a){return false;
}return(a.style.display!="none");
},set_visible:function(a){if(a&&!this._rendered){this.render();
}var b=this.get_element();
b.style.display=a?"":"none";
},get_enabled:function(){return this._enabled;
},set_enabled:function(a){this._enabled=a;
},get_title:function(){return this._title;
},set_title:function(a){this._title=a;
},get_name:function(){return this._name;
},set_name:function(a){this._name=a;
},dispose:function(){Telerik.Web.UI.Editor.Modules.ModuleBase.callBaseMethod(this,"dispose");
}};
Telerik.Web.UI.Editor.Modules.ModuleBase.registerClass("Telerik.Web.UI.Editor.Modules.ModuleBase",Sys.UI.Control);
Telerik.Web.UI.Editor.Modules.RadEditorDomInspector=function(a){Telerik.Web.UI.Editor.Modules.RadEditorDomInspector.initializeBase(this,[a]);
};
Telerik.Web.UI.Editor.Modules.RadEditorDomInspector.prototype={initialize:function(){this._onSelectionChangeDelegate=Function.createDelegate(this,this.showDomPath);
this._editorPathArray=[];
this._removeElementString=this._getLocalizedString("DomInspectorRemoveElement","Remove Element");
this._view=Telerik.Web.UI.Editor.Modules.DomInspector.ViewFactory.getView(this);
Telerik.Web.UI.Editor.Modules.RadEditorDomInspector.callBaseMethod(this,"initialize");
},dispose:function(){this.clear();
this._registerMouseHandlers(false);
if(this._view){this._view.dispose();
delete this._view;
}Telerik.Web.UI.Editor.Modules.RadEditorDomInspector.callBaseMethod(this,"dispose");
},render:function(){this._className=this._view.getRootClassName();
Telerik.Web.UI.Editor.Modules.RadEditorDomInspector.callBaseMethod(this,"render");
this.clear();
this.get_editor().add_selectionChange(this._onSelectionChangeDelegate);
this._registerMouseHandlers(true);
this.showDomPath();
},_registerMouseHandlers:function(a){var c=this.get_element();
if(true==a){var b={click:this._onMouseClick,mouseover:this._onMouseOver,mouseout:this._onMouseOut};
$addHandlers(c,b,this);
}else{if(c){$clearHandlers(c);
}}},_onMouseOver:function(b){try{var a=this._getReferredEditorElement(b);
if(!a||this._isSelectedElement(a)){return;
}Sys.UI.DomElement.addCssClass(a,"RadEDomMouseOver");
}catch(c){}},_onMouseOut:function(b){var a=this._getReferredEditorElement(b);
if(!a){return;
}try{Sys.UI.DomElement.removeCssClass(a,"RadEDomMouseOver");
if(""==a.className){a.removeAttribute("className",0);
a.removeAttribute("class",0);
}}catch(c){}},_onMouseClick:function(a){var d=a.target;
if(!d||d.tagName!="A"){return null;
}if(d.innerHTML==this._removeElementString){var b=this._editorPathArray[0];
this.removeSelectedElement(b);
}else{var c=this._getReferredEditorElement(a);
this.selectElement(c);
}return $telerik.cancelRawEvent(a);
},clear:function(){this.get_element().innerHTML="&nbsp;";
this._editorPathArray=[];
},_createRemoveLink:function(){var a=this;
var b=a._view;
if(b){a.get_element().appendChild(b.createRemoveNode(a._removeElementString));
}},addDomCouple:function(a,b){if(!a||!a.tagName){return;
}if(this._view){var c=this.get_element();
c.appendChild(this._view.createElementsNode(a.tagName,b));
c.appendChild(this._view.createSeparator());
}},_getPathArray:function(c,b){var a=[];
if(null!=c&&c.nodeType==3){c=c.parentNode;
}while(c!=b&&null!=c){a[a.length]=c;
c=c.parentNode;
}return a;
},_isSelectedElement:function(b){var a=this._editorPathArray;
if(a&&a[0]==b){return true;
}},_getReferredEditorElement:function(a){var g=a.target;
if(!g||g.tagName!="A"){return null;
}var d=this.get_element().getElementsByTagName("A");
var c=-1;
for(var b=0;
b<d.length;
b++){if(d[b]==g){c=b;
break;
}}if(c>-1){var f=this._editorPathArray.concat([]).reverse();
return f[c];
}},showDomPath:function(){if(!this.get_visible()){return;
}try{var c=this.get_editor();
var d=c.getSelectedElement();
if(!d){return;
}this.clear();
var b=c.get_contentArea();
if(!$telerik.$.contains(b,d)){return;
}if(c.get_enableImmutableElements()&&Telerik.Web.UI.Editor.Utils.isImmutableNode(d)){return;
}this._editorPathArray=this._getPathArray(d,b);
var a=this._editorPathArray;
for(var f=a.length-1;
f>=0;
f--){this.addDomCouple(a[f],(f==0));
}if(a.length>0){this._createRemoveLink();
}}catch(e){}},selectElement:function(a){try{this._selectedElement=a;
this.get_editor().selectElement(a);
this._selectedElement=null;
}catch(b){}},removeSelectedElement:function(c){var b=this.get_editor(),a;
try{if(c.tagName=="TD"||c.tagName=="TH"){b.fire("DeleteCell");
}else{if(c.tagName=="TR"){b.fire("DeleteRow");
}else{if(c.tagName=="TABLE"||c.tagName=="TBODY"||c.tagName=="THEAD"||c.tagName=="TFOOT"||c.tagName=="EMBED"||c.tagName=="OBJECT"||c.tagName=="INPUT"||c.tagName=="IMG"||c.tagName=="HR"){a=new Telerik.Web.UI.Editor.GenericCommand(this._removeElementString,b.get_contentWindow(),b);
window.setTimeout(function(){c.parentNode.removeChild(c);
b.setFocus();
b.executeCommand(a);
},0);
}else{if(c.tagName!="BODY"){a=new Telerik.Web.UI.Editor.GenericCommand(this._removeElementString,b.get_contentWindow(),b);
Telerik.Web.UI.Editor.Utils.removeNode(c);
b.setFocus();
b.executeCommand(a);
}}}}}catch(d){}b.raiseEvent("selectionChange");
}};
Telerik.Web.UI.Editor.Modules.RadEditorDomInspector.registerClass("Telerik.Web.UI.Editor.Modules.RadEditorDomInspector",Telerik.Web.UI.Editor.Modules.ModuleBase);
(function(a,h){var f=a.proxy;
var b=Telerik.Web.UI.Editor;
var c=b.Modules;
var e=".htmlInspector";
var d="keyup";
var g="textarea";
c.RadEditorHtmlInspector=function(i){var j=this;
j._textarea=null;
c.RadEditorHtmlInspector.initializeBase(j,[i]);
};
c.RadEditorHtmlInspector.prototype={initialize:function(){var i=this;
i._selectionChangeHandler=Function.createDelegate(i,i._selectionChange);
c.RadEditorHtmlInspector.callBaseMethod(this,"initialize");
},dispose:function(){var k=this;
var j=k.get_editor();
var i=j.get_contentArea();
a(k._textarea).off(e);
a(k._textarea).remove();
k._textarea=null;
a(i).off(d+e);
c.RadEditorHtmlInspector.callBaseMethod(this,"dispose");
},set_visible:function(i){c.RadEditorHtmlInspector.callBaseMethod(this,"set_visible",[i]);
if(i){this._selectionChange();
}},render:function(){var l=this;
var k=l.get_element();
var j=l.get_editor();
var i=j.get_contentArea();
var m;
c.RadEditorHtmlInspector.callBaseMethod(l,"render");
m=document.createElement(g);
m.style.width="99%";
m.className="reTextarea";
m.setAttribute("rows","10");
m.setAttribute("cols","80");
a(m).on(d+e,f(l.updateEditorContent,l));
l._textarea=m;
l._updateContent();
a(k).append(m);
j.add_selectionChange(l._selectionChangeHandler);
a(i).off(d+e);
a(i).on(d+e,f(l._updateContent,l));
},updateEditorContent:function(){var j=this;
var i=j.get_editor();
if(!j.get_visible()){return;
}i.set_html(a(j._textarea).val(),j._getLocalizedString("Typing"),false,false);
if(i.get_enableImmutableElements()){b.Utils.revertOriginalImmutables(i);
}},_selectionChange:function(){this._updateContent();
},_updateContent:function(){var k=this;
var i=k.get_editor();
var j=a(i.get_contentArea()).html();
a(k._textarea).val(j);
}};
c.RadEditorHtmlInspector.registerClass("Telerik.Web.UI.Editor.Modules.RadEditorHtmlInspector",c.ModuleBase);
})($telerik.$);
Telerik.Web.UI.Editor.Modules.RadEditorNodeInspector=function(a){Telerik.Web.UI.Editor.Modules.RadEditorNodeInspector.initializeBase(this,[a]);
this._updateMainPanelDelegate=Function.createDelegate(this,this._updateMainPanel);
this._onToolValueSelectedDelegate=Function.createDelegate(this,this._onToolValueSelected);
this._onDropDownBeforeShowDelegate=Function.createDelegate(this,this._onDropDownBeforeShow);
this._tools={};
this._toolNames={};
this._selectedElement=null;
this._view=null;
};
Telerik.Web.UI.Editor.Modules.RadEditorNodeInspector.prototype={_nodeAttributesArray:{TABLE:["width","borderColor","cellSpacing","bgColor","className","SetTableProperties","height","cellPadding","align","border"],TH:["width","borderColor","bgColor","className","SetCellProperties","height","align","noWrap","border"],TD:["width","borderColor","bgColor","className","SetCellProperties","height","align","noWrap","border"],TR:["width","className","height"],A:["href","className","LinkManager","title","target","id"],IMG:["width","borderColor","className","SetImageProperties","height","align","border","alt","title"],INPUT:["NAME","width","height","id","title","className","value"],BUTTON:$telerik.isIE&&!$telerik.isIE9Mode?null:["NAME","width","height","id","title","className","value"],FORM:["className","width","height","NAME","action","id"],TEXTAREA:["className","width","height","NAME","id","rows","cols"]},_nodeInspectorAttributesArray:[["rows","NAME","width","cellSpacing","borderColor","href","alt","align","value","target","SetTableProperties","SetCellProperties","LinkManager"],["cols","id","height","action","cellPadding","border","bgColor","title","noWrap","className","SetImageProperties"]],initialize:function(){Telerik.Web.UI.Editor.Modules.RadEditorNodeInspector.callBaseMethod(this,"initialize");
this.get_editor().add_selectionChange(this._updateMainPanelDelegate);
this._invalidValueString=this._getLocalizedString("NodeInspectorInvalidValue","Invalid value. Please enter a number.");
this._view=Telerik.Web.UI.Editor.Modules.NodeInspector.ViewFactory.getView(this);
},render:function(){Telerik.Web.UI.Editor.Modules.RadEditorNodeInspector.callBaseMethod(this,"render");
var a=this.get_element();
a.style.height=this._getModuleHeight();
},_getModuleHeight:function(){var b=this.get_skin(),a;
switch(b){case"Glow":case"Silk":a=60;
break;
case"BlackMetroTouch":case"MetroTouch":a=75;
break;
case"Bootstrap":a=85;
break;
default:a=50;
break;
}return a+"px";
},get_skin:function(){return this._editor.get_skin();
},getNamedCssForSelectedElement:function(a){return this.get_editor().getCssArray(a);
},dispose:function(){this._tools=[];
this._mainPanel=null;
if(this._view){this._view.dispose();
this._view=null;
}Telerik.Web.UI.Editor.Modules.RadEditorNodeInspector.callBaseMethod(this,"dispose");
},_createMainPanel:function(){if(this._view){return this._view.createUI();
}},_updateMainPanel:function(){if(!this.get_visible()){return;
}if(!this._isMainCreated){this._mainPanel=this._createMainPanel();
this._mainPanel.style.display="none";
this.get_element().appendChild(this._mainPanel);
this._isMainCreated=true;
}var c=this.get_editor();
var f=c.getSelectedElement();
var h=Telerik.Web.UI.Editor.Utils;
if(!f||h.isEditorContentArea(f)||f.ownerDocument!=c.get_document()||(c.get_enableImmutableElements()&&h.isImmutableNode(f))){this._mainPanel.style.display="none";
return;
}if(f.tagName=="TBODY"&&this.isOpera){f=f.parentNode;
}var a=this._nodeAttributesArray[f.tagName];
if(!a){var d=h.getElementParentByTag(f,"A");
if(!d){d=h.getElementParentByTag(f,"TD");
}if(!d){d=h.getElementParentByTag(f,"TH");
}if(d){f=d;
}else{this._mainPanel.style.display="none";
return;
}}var g=null;
if(this._selectedElement){try{g=this._selectedElement.tagName;
}catch(b){}}if(!this._selectedElement||(g!=f.tagName)){this._tools.align.setTagName(f.tagName);
}this._selectedElement=f;
this._updateControlValues(this._selectedElement);
this._mainPanel.style.display="";
},_arrayValueExists:function(b,a){return Array.contains(a,b);
},_issValidAttribValue:function(b){if(null==b){return false;
}b=b.trim();
if(""==b){return true;
}var a=parseInt(b,10);
if(isNaN(a)){return false;
}return true;
},_onDropDownBeforeShow:function(f,a){var c=this.get_editor();
var h=f.get_name();
var b=f.get_items();
if(b&&b.length>0){return;
}var d=null;
switch(h){case"className":var e=this._selectedElement;
var g=e&&e.tagName?e.tagName:"";
d=c.getCssArray(g);
break;
case"target":d=[["_blank",this._getLocalizedString("blank","New Window")],["_self",this._getLocalizedString("self","Same Window")],["_parent",this._getLocalizedString("parent","Parent window")],["_top",this._getLocalizedString("top","Top browser window")],["_search",this._getLocalizedString("search","Search pane")],["_media",this._getLocalizedString("media","Media pane")]];
break;
case"bgColor":case"borderColor":d=c.get_colors();
break;
}if(d){f.set_items(d);
}},_onToolValueSelected:function(b,a){if(b){if(Telerik.Web.UI.EditorDropDown.isInstanceOfType(b)||Telerik.Web.UI.EditorSpinBox.isInstanceOfType(b)||Telerik.Web.UI.EditorCheckBox.isInstanceOfType(b)||Telerik.Web.UI.EditorTextBox.isInstanceOfType(b)){this.fire(b);
}else{this.get_editor().fire(b.get_name());
}}},executeStyleRuleCommand:function(c,e,d,f){var b=this.get_editor();
var a=new Telerik.Web.UI.Editor.StyleRuleCommand(f,b.get_contentWindow(),c,e,d,b);
b.executeCommand(a);
},executeAttributeCommand:function(d,a,e,f){var c=this.get_editor();
var b=new Telerik.Web.UI.Editor.AttributeCommand(f,c.get_contentWindow(),d,a,e,c);
c.executeCommand(b);
},_updateControlValues:function(a){if(this._view){this._view.updateControls(a);
}},fire:function(i){if(!i){return;
}var e=i.get_name();
var l=this._getLocalizedString(e,e);
if(!l){l=e;
}var c,j;
var h=this._selectedElement;
if("AlignmentSelector"==e){var a=i.getAlign();
var m=i.getVAlign();
l=this._getLocalizedString("Align","Align");
var n=this._getLocalizedString("vAlign","vAlign");
var g=($telerik.isIE)?"styleFloat":"cssFloat";
var k=h.tagName.toLowerCase();
var d=false;
switch(k){case"img":switch(a){case"left":this.executeStyleRuleCommand(h,g,"left",l);
this.executeStyleRuleCommand(h,"verticalAlign","",l);
break;
case"right":this.executeStyleRuleCommand(h,g,"right",l);
this.executeStyleRuleCommand(h,"verticalAlign","",l);
break;
case"top":this.executeStyleRuleCommand(h,g,"",l);
this.executeStyleRuleCommand(h,"verticalAlign","top",l);
break;
case"bottom":this.executeStyleRuleCommand(h,g,"",l);
this.executeStyleRuleCommand(h,"verticalAlign","text-bottom",l);
break;
case"absmiddle":this.executeStyleRuleCommand(h,g,"",l);
this.executeStyleRuleCommand(h,"verticalAlign","middle",l);
break;
default:this.executeStyleRuleCommand(h,g,"",l);
this.executeStyleRuleCommand(h,"verticalAlign","",l);
break;
}d=true;
break;
case"td":case"th":this.executeStyleRuleCommand(h,"textAlign",a,l);
this.executeStyleRuleCommand(h,"verticalAlign",m,n);
d=true;
break;
default:this.executeAttributeCommand(h,"align",a,l);
this.executeAttributeCommand(h,"vAlign",m,n);
break;
}if(d){h.removeAttribute("align");
h.removeAttribute("vAlign");
}}else{if("borderColor"==e){j=i.get_selectedItem();
this.executeStyleRuleCommand(this._selectedElement,"borderColor",j,l);
h.removeAttribute("borderColor");
}else{if("bgColor"==e){j=i.get_selectedItem();
this.executeStyleRuleCommand(this._selectedElement,"backgroundColor",j,l);
h.removeAttribute("bgColor");
}else{if("border"==e){j=i.get_selectedItem();
if(!this._issValidAttribValue(j)){alert(this._invalidValueString);
return;
}if(j){j+="px";
this.executeStyleRuleCommand(this._selectedElement,"borderWidth",j,l);
this.executeStyleRuleCommand(this._selectedElement,"borderStyle","solid",l);
}else{this.executeStyleRuleCommand(this._selectedElement,"borderWidth","",l);
this.executeStyleRuleCommand(this._selectedElement,"borderStyle","",l);
}h.removeAttribute("border");
}else{if("width"==e||"height"==e){j=i.get_selectedItem();
if(!this._issValidAttribValue(j)){alert(this._invalidValueString);
return;
}var f=function(q){var p=""+q;
if(p.indexOf("%")!=-1){return p;
}else{var o=p.match(/(em|ex|px|in|cm|mm|pt|pc)$/);
p=parseInt(p,10);
if(!isNaN(p)){p=(o)?p+o[0]:p+"px";
return p;
}}return q;
};
j=f(j);
if(this._selectedElement.removeAttribute){this._selectedElement.removeAttribute(e);
}this.executeStyleRuleCommand(this._selectedElement,e,j,l);
}else{if("noWrap"==e){c=i.get_selectedItem();
if(c){this.executeStyleRuleCommand(this._selectedElement,"whiteSpace","nowrap",l);
}else{this.executeStyleRuleCommand(this._selectedElement,"whiteSpace","",l);
}}else{var b=e;
c=i.get_selectedItem();
switch(e){case"background":case"className":case"target":case"value":break;
case"cellSpacing":case"cellPadding":if(!this._issValidAttribValue(c)){alert(this._invalidValueString);
return;
}break;
case"NAME":if(!this.isIE){b="name";
}}this.executeAttributeCommand(h,b,c,l);
}}}}}}if(this._selectedElement){this._updateControlValues(this._selectedElement);
}if(this._selectedElement.style.cssText==""){this._selectedElement.removeAttribute("style");
}},_getControlByName:function(c){var a=null,d=Telerik.Web.UI.RenderMode.toString(this.get_editor()._renderMode)=="Lite"?"Lightweight":Telerik.Web.UI.RenderMode.toString(this.get_editor()._renderMode),e={text:this._getLocalizedString(c),name:c,addClickHandler:true,skin:this.get_skin()},b={valueSelected:this._onToolValueSelectedDelegate,show:this._onDropDownBeforeShowDelegate};
switch(c){case"className":e.text=this._getLocalizedString("className");
e.width="90px";
a=Telerik.Web.UI.Editor.UI.StaticToolsUI.createTool(d,e,b,Telerik.Web.UI.Editor.ApplyClassDropDown);
break;
case"borderColor":case"bgColor":e.addCustomColorText=this._getLocalizedString("AddCustomColor");
a=Telerik.Web.UI.Editor.UI.StaticToolsUI.createTool(d,e,b,Telerik.Web.UI.Editor.ColorPicker);
break;
case"align":e.name="AlignmentSelector";
e.text=this._getLocalizedString("align");
a=Telerik.Web.UI.Editor.UI.StaticToolsUI.createTool(d,e,b,Telerik.Web.UI.Editor.AlignmentSelector);
break;
case"SetCellProperties":case"SetTableProperties":case"SetImageProperties":case"LinkManager":delete b.show;
a=Telerik.Web.UI.Editor.UI.StaticToolsUI.createTool(d,e,b);
break;
case"target":e.sizetofit=true;
e.width="90px";
a=Telerik.Web.UI.Editor.UI.StaticToolsUI.createTool(d,e,b,Telerik.Web.UI.EditorUpdateableDropDown);
break;
case"noWrap":delete b.show;
a=Telerik.Web.UI.Editor.UI.StaticToolsUI.createTool(d,e,b,Telerik.Web.UI.EditorCheckBox,document.createElement("span"));
break;
case"width":case"height":case"cellPadding":case"cellSpacing":case"rows":case"cols":case"border":delete b.show;
a=Telerik.Web.UI.Editor.UI.StaticToolsUI.createTool(d,e,b,Telerik.Web.UI.EditorSpinBox,document.createElement("span"));
break;
default:delete b.show;
a=Telerik.Web.UI.Editor.UI.StaticToolsUI.createTool(d,e,b,Telerik.Web.UI.EditorTextBox,document.createElement("span"));
}return a;
}};
Telerik.Web.UI.Editor.Modules.RadEditorNodeInspector.registerClass("Telerik.Web.UI.Editor.Modules.RadEditorNodeInspector",Telerik.Web.UI.Editor.Modules.ModuleBase);
(function(a,b,d){var c=b.Modules;
var e=b.Utils;
c.RadEditorStatistics=function(f){c.RadEditorStatistics.initializeBase(this,[f]);
};
c.RadEditorStatistics.prototype={initialize:function(){this._enableMaxWidth=false;
this._wordsString=this._getLocalizedString("StatisticsWords","Words:");
this._charactersString=this._getLocalizedString("StatisticsCharacters","Characters:");
this._onDoCountDelegate=Function.createDelegate(this,this.doCount);
this._className+=" reStatistic";
c.RadEditorStatistics.callBaseMethod(this,"initialize");
},render:function(){c.RadEditorStatistics.callBaseMethod(this,"render");
this.get_editor().add_selectionChange(this._onDoCountDelegate);
this.doCount();
},_trimRegExp:/(^\s+)|(\s+$)/g,doCount:function(){var h=this;
if(!h.get_visible()){return;
}var g=h.get_editor().get_text(true);
g=g.replace(h._trimRegExp,"");
var i=h._getWordsCount(g);
var f=h._getCharactersCount(g);
h._renderCounts(i,f);
},_getCharactersCount:function(f){return e._getCharactersCount(f);
},_getWordsCount:function(h){var i=this;
var f=/(?:&nbsp;)/g;
var g=/[!\.?;,:&_\-\u2013\{\}\[\]\(\)~#'"]/g;
var k=h.replace(f," ").replace(g,"").replace(i._trimRegExp,"");
var j=k?k.split(/\s+/g):[];
return j.length;
},_renderCounts:function(h,f){var g=this.get_element();
g.innerHTML="<span style='line-height:22px'>"+this._wordsString+" "+h+" &nbsp;&nbsp;"+this._charactersString+" "+f+"&nbsp;</span>";
}};
c.RadEditorStatistics.registerClass("Telerik.Web.UI.Editor.Modules.RadEditorStatistics",c.ModuleBase);
})($telerik.$,Telerik.Web.UI.Editor);
Type.registerNamespace("Telerik.Web.UI.Editor.Modules");
(function(d,a){var b=d.Editor;
var c=b.Modules;
c.RadEditorTrackChangesInfo=function(e){c.RadEditorTrackChangesInfo.initializeBase(this,[e]);
};
c.RadEditorTrackChangesInfo.prototype={initialize:function(){this._onRadEditorTrackChangesInfoDelegate=Function.createDelegate(this,this.getRadEditorTrackChangesInfo);
this._isTrackChangeOnFocus=false;
this._author="";
this._trackChangeType="";
this._currTrackChangeElement=null;
c.RadEditorTrackChangesInfo.callBaseMethod(this,"initialize");
},render:function(){c.RadEditorTrackChangesInfo.callBaseMethod(this,"render");
this.get_editor().add_selectionChange(this._onRadEditorTrackChangesInfoDelegate);
var e=this;
var r=this.get_element();
r.id="rade_tccomment_view_id_"+this._editor._clientStateFieldID;
r.style.width=r.parentNode.style.width;
r.className="reCommentViewContainer";
var q=this;
var i=document.createElement("DIV");
i.id="rade_tccomment_divV_id_"+this._editor._clientStateFieldID;
r.appendChild(i);
var g=document.createElement("DIV");
g.id="rade_tccomment_divEditTitle_id_"+this._editor._clientStateFieldID;
g.className="reCommentTitle";
g.innerHTML="Comment";
this._divEditTitle=g;
var k=document.createElement("DIV");
k.id="rade_tccomment_divViewTitle_id_"+this._editor._clientStateFieldID;
k.className="reCommentTitle";
k.innerHTML="Comment";
this._divViewTitle=k;
var f=document.createElement("DIV");
f.id="rade_tccomment_divEdit_id_"+this._editor._clientStateFieldID;
f.style.width=r.style.width;
f.className="reCommentEdit";
f.style.display="none";
this._divEdit=f;
i.appendChild(f);
f.appendChild(g);
var j=document.createElement("DIV");
j.id="rade_tccomment_divView_id_"+this._editor._clientStateFieldID;
j.style.width=r.style.width;
j.className="reCommentView";
j.style.display="none";
this._divView=j;
i.appendChild(j);
j.appendChild(k);
var h=document.createElement("DIV");
h.id="rade_tccomment_divInfo_id_"+this._editor._clientStateFieldID;
h.className="reCommentInfoPanel";
h.style.width=r.style.width;
h.style.display="none";
this._divInfo=h;
i.appendChild(h);
var t=document.createElement("TEXTAREA");
t.id="rade_textarea_id_"+this._editor._clientStateFieldID;
t.className="reCommentTextArea";
t.setAttribute("rows","2");
t.setAttribute("cols","25");
this._textarea=t;
f.appendChild(t);
var p=document.createElement("input");
p.id="rade_tccomment_save_id_"+this._editor._clientStateFieldID;
p.type="button";
p.value="Save";
p.className="reCommentButton";
p.onclick=function(){var u=q._textarea.value.replace(/^\s+|\s+$/g,"");
if(u==""||u.toLowerCase()=="<enter here>"){alert("Cannot enter empty comment.");
if(t.setActive){t.setActive();
}t.focus();
return;
}q._commentText.innerHTML=u;
q._commentAttr.value=u;
q._timeStampAttr.value=new Date().getTime();
q._titleAttr.value=q._author+": "+u+": "+new Date(parseInt(q._timeStampAttr.value,10)).toLocaleString();
a("#"+q._divEdit.id).hide();
q._show(a("#"+q._divView.id));
m().removeLastComment(true);
};
f.appendChild(p);
var n=document.createElement("input");
n.id="rade_tccomment_cancel_id_"+this._editor._clientStateFieldID;
n.type="button";
n.value="Cancel";
n.className="reCommentButton";
n.onclick=function(){q._textarea.value=q._commentText.innerHTML;
a("#"+q._divView.id).hide();
a("#"+q._divEdit.id).hide();
m().removeLastComment(false);
};
f.appendChild(n);
var o=document.createElement("input");
o.id="rade_tccomment_edit_id_"+this._editor._clientStateFieldID;
o.type="button";
o.value="Edit";
o.className="reCommentButton";
o.onclick=function(){q._textarea.value=q._commentText.innerHTML;
a("#"+q._divView.id).hide();
q._show(a("#"+q._divEdit.id));
q._textarea.focus();
if(q._textarea.value=="<Enter here>"){q._textarea.select();
}};
var s=document.createElement("span");
s.id="rade_tccomment_spanView_id_"+this._editor._clientStateFieldID;
this._commentText=s;
s.className="reCommentViewText";
j.appendChild(s);
j.appendChild(o);
function m(){var v=e.get_editor()._modulesManager._modules;
for(var u=0;
u<v.length;
u++){if(v[u]._name=="RadEditorTrackChangesInfo"){return v[u];
}}}var l=this._editor._clientStateFieldID;
if(l){a("#rade_textarea_id_"+l).focus(function(){a(this).filter(function(){return a(this).val()==""||a(this).val()=="<Enter here>";
}).removeClass("reCommentTextAreaWatermark").val("");
});
a("#rade_textarea_id_"+l).blur(function(){a(this).filter(function(){return a(this).val()=="";
}).addClass("reCommentTextAreaWatermark").val("<Enter here>");
});
}},_show:function(e){this._hideOtherVisibleContainers(e);
e.fadeIn(300);
},_hideOtherVisibleContainers:function(f){var e=(f)?f.attr("id"):"";
a(".reCommentEdit:visible[id!="+e+"],.reCommentView:visible[id!="+e+"],.reCommentInfoPanel:visible[id!="+e+"]").fadeOut(300);
},getRadEditorTrackChangesInfo:function(){if(!this.get_visible()){return;
}var g=a("#"+this._divInfo.id);
var f=a("#"+this._divEdit.id);
var h=a("#"+this._divView.id);
var i=this.get_editor();
var k=i.getSelectedElement();
var o=Telerik.Web.UI.Editor.TrackChangesUtils.findTrackChangesParentElement(k);
this._author="";
if(null!=o){var e=b.TrackChangesConstants.Attribute;
this._timeStampAttr=o.HtmlElement.getAttributeNode(e.Timestamp);
var n=null==this._timeStampAttr?"":" on "+new Date(parseInt(this._timeStampAttr.value,10)).toLocaleString();
this._currTrackChangeElement=o;
this._author=(o.User=="")?"You":o.User;
var m=Telerik.Web.UI.Editor.TrackChangesElementType;
if(m.Comment==o.Type){this._commentAttr=o.HtmlElement.getAttributeNode(e.Comment);
this._titleAttr=o.HtmlElement.getAttributeNode(e.Title);
this._commentText.innerHTML=(null==this._commentAttr)?"":this._commentAttr.value;
if(this._author==i.get_author()){this._textarea.value=this._commentText.innerHTML||"<Enter here>";
g.hide();
if(this._commentAttr.value==" "||this._titleAttr.value=="#empty comment#"){h.hide();
this._show(f);
var l=this._textarea;
window.setTimeout(function(){try{if(l.setActive){l.setActive();
}l.focus();
}catch(p){return;
}},300);
}else{f.hide();
this._show(h);
this.removeLastComment(false);
}}else{h.hide();
f.hide();
this._show(g);
this._divInfo.innerHTML=this._author+": "+this._commentText.innerHTML+n;
this.removeLastComment(false);
}}else{var j=" ";
if(m.Delete==o.Type){j="Deleted by "+this._author+n;
}else{if(m.Insert==o.Type){j="Inserted by "+this._author+n;
}else{if(m.FormatChange==o.Type||m.JustifyFormatChange==o.Type){j="Format change("+o.BrowserCommand+") by "+this._author+n;
}}}this._divInfo.innerHTML=j;
h.hide();
f.hide();
j!=" "?this._show(g):g.fadeOut(300);
this.removeLastComment(false);
}}else{this.removeLastComment(false);
if(a(f).is(":visible")){a(f).fadeOut(300);
}if(a(h).is(":visible")){a(h).fadeOut(300);
}if(a(g).is(":visible")){a(g).fadeOut(300);
}}},removeLastComment:function(k){var g=this.get_editor();
var h=g._clientStateFieldID;
var l=g.get_document().getElementById(g.get_commentID());
if(l==null||typeof(l)==undefined){var m=$telerik.radControls;
for(var j=0;
j<m.length;
j++){if(m[j].get_commentID&&m[j]._clientStateFieldID!=h){l=m[j].get_document().getElementById(m[j].get_commentID());
break;
}}}if(l){try{if(k){l.removeAttribute("id");
}else{g.removeFromStack(Telerik.Web.UI.Editor.TrackChangesCommandStrings.AddComment);
a(l).contents().first().unwrap();
}}catch(f){g.undo(1);
}return true;
}return false;
}};
c.RadEditorTrackChangesInfo.registerClass("Telerik.Web.UI.Editor.Modules.RadEditorTrackChangesInfo",c.ModuleBase);
})(Telerik.Web.UI,$telerik.$);

/* END Telerik.Web.UI.Editor.Modules.js */
/* START Telerik.Web.UI.Dialogs.RadDialogOpenerScripts.js */
Type.registerNamespace("Telerik.Web.UI");
(function(){var a=$telerik.$;
var b=Telerik.Web.UI;
b.DialogDefinition=function(){this.Width="600px";
this.Height="400px";
this.Title="";
this.Behaviors=36;
this.Modal=true;
this.VisibleStatusbar=false;
this.VisibleTitlebar=true;
this.ClientCallbackFunction="";
};
b.DialogDefinition.registerClass("Telerik.Web.UI.DialogDefinition",null);
b.DialogDefinitionsDictionary=function(f){for(var e in f){var g=f[e];
var c=new b.DialogDefinition();
for(var d in g){c[d]=g[d];
}this[e]=c;
}};
b.DialogDefinitionsDictionary.registerClass("Telerik.Web.UI.DialogDefinitionsDictionary",null);
b.DialogOpenEventArgs=function(d,c){b.DialogOpenEventArgs.initializeBase(this);
this._dialogName=d;
if(c){this._parameters=c;
}else{this._parameters={};
}};
b.DialogOpenEventArgs.prototype={get_dialogName:function(){return this._dialogName;
},set_parameters:function(c){this._parameters=c;
},get_parameters:function(){return this._parameters;
}};
b.DialogOpenEventArgs.registerClass("Telerik.Web.UI.DialogOpenEventArgs",Sys.EventArgs);
b.RadDialogOpener=function(c){b.RadDialogOpener.initializeBase(this,[c]);
this._dialogDefinitions={};
this._handlerChecked=false;
this._dialogParametersProviderTypeName="";
this._dialogUniqueID="";
this._dialogContainers={};
};
b.RadDialogOpener.prototype={initialize:function(){b.RadDialogOpener.callBaseMethod(this,"initialize");
this._dialogDefinitions=new b.DialogDefinitionsDictionary(this.get_dialogDefinitions());
},get_dialogDefinitions:function(){return this._dialogDefinitions;
},openUrl:function(o,c,p,i,f,e,n,j,d,l,m,h){h="EXTERNAL_URL"+(h||"default");
var g=this._getDialogContainer(h);
g.set_width(p+"px");
g.set_height(i+"px");
g.set_behaviors(d||b.WindowBehaviors.Default);
g.set_modal(j==true);
g.set_visibleStatusbar(l==true);
g.set_visibleTitlebar(m==true);
g.set_title(n?n:"");
g.set_keepInScreenBounds(true);
var k=new b.DialogOpenEventArgs(o,c);
this.raiseEvent("open",k);
g.ClientParameters=c;
g.set_clientCallBackFunction(f);
g.setUrl(o);
g.show();
g.center();
window.setTimeout(function(){g.setActive(true);
},100);
},open:function(g,d,c){if(!this._handlerChecked){this._checkDialogHandler(this.get_handlerUrl());
}var f=this._getDialogDefinition(g);
var j=new b.DialogOpenEventArgs(g,d);
this.raiseEvent("open",j);
d=j.get_parameters();
if(!c){c=f.ClientCallbackFunction;
}var e;
if(this.get_useClassicDialogs()){e=$create(b.ClassicDialog,{dialogOpener:this});
e.ClientParameters=d;
this._applyParameters(g,e);
if(c){e.set_clientCallBackFunction(c);
}window.__getCurrentRadEditorRadWindowReference=function(){return e;
};
var h="width="+parseInt(f.Width,10)+",height="+parseInt(f.Height,10);
h+=",resizable=0,scrollbars=0,status=0,toolbar=0,menubar=0,directories=0";
var k=e.open(h,g);
k.radWindow=e;
return k;
}else{e=this._getDialogContainer(g);
var i=f.Height;
if(!e.get_popupElement()){e.set_height(i);
e.set_width(f.Width);
e.set_behaviors(f.Behaviors);
e.set_modal(f.Modal);
e.set_visibleStatusbar(f.VisibleStatusbar);
e.set_visibleTitlebar(f.VisibleTitlebar);
e.set_keepInScreenBounds(true);
}if(f.ReloadOnShow!=null){e.set_reloadOnShow(f.ReloadOnShow);
}e.ClientParameters=d;
this._applyParameters(g,e);
if(g!="SpellCheckDialog"){this._sizeCenterCellDelegate=Function.createDelegate(this,this._sizeCenterCellWindowLoadHandler);
this._autoSizeDialogDelegate=Function.createDelegate(this,this._autoSizeDialogWindowLoadHandler);
e.add_pageLoad(this._sizeCenterCellDelegate);
e.add_pageLoad(this._autoSizeDialogDelegate);
}if(c){e.set_clientCallBackFunction(c);
}e.show();
if(!e.get_popupElement()){e.set_height(i);
}window.setTimeout(function(){if(e.isVisible()){e.center();
e.setActive(true);
}},100);
}},openLight:function(f,d,c){var g=195;
var j=350;
if(d){if(d.height){g=d.height;
}if(d.width){j=d.width;
}}var h=new b.DialogOpenEventArgs(f,d);
this.raiseEvent("open",h);
d=h.get_parameters();
var e=this._getDialogContainer(f);
e.set_height(g);
e.set_width(j);
e.set_behaviors(Telerik.Web.UI.WindowBehaviors.Move+Telerik.Web.UI.WindowBehaviors.Close);
e.set_modal(true);
e.set_visibleStatusbar(false);
e.set_visibleTitlebar(true);
if(c){e.set_clientCallBackFunction(c);
}e.ClientParameters=d;
Telerik.Web.UI.LightDialogsControllerClass.initializeLightDialog(e);
e.show();
e.set_height(g);
e.center();
if(d.stripPopupHeight===true){var i=e.get_popupElement();
if(i){i.style.height="";
}}window.setTimeout(function(){e.setActive(true);
},100);
},_sizeCenterCellWindowLoadHandler:function(c){if(this._sizeCenterCellDelegate){c.remove_pageLoad(this._sizeCenterCellDelegate);
delete this._sizeCenterCellDelegate;
}if(typeof(Telerik)=="undefined"){return;
}var d=function(i){i.remove_show(d);
var g=i.get_contentFrame(),f=g.contentWindow.document||g.contentDocument,e=i.get_contentElement()||i.ui.contentCell||i.ui.content,h=new RegExp("height\\s*:\\s*"+f.body.offsetHeight+"px(\\s*;)?","gmi");
e.style.height=f.body.offsetHeight+"px";
e.style.cssText=e.style.cssText.replace(h,"height: "+f.body.offsetHeight+"px !important;");
};
if(c&&c.isVisible&&c.isVisible()){d(c);
}else{if(c&&c.isVisible&&!c.isVisible()){c.add_show(d);
}}},_autoSizeDialogWindowLoadHandler:function(d){if(this._autoSizeDialogCellDelegate){d.remove_pageLoad(this._autoSizeDialogDelegate);
delete this._autoSizeDialogCellDelegate;
}if(typeof(Telerik)=="undefined"){return;
}var c=function(e){if($telerik.quirksMode){return;
}e.remove_show(c);
e.set_width(20);
e.set_height(20);
e.autoSize();
e.center();
};
if(d&&d.isVisible&&d.isVisible()){c(d);
}else{if(d&&d.isVisible&&!d.isVisible()){d.add_show(c);
}}},_applyParameters:function(g,d){var i=this._getDialogParameters(g);
if(!i){return;
}var l="&dp="+encodeURIComponent(i);
var c=this._getBaseDialogUrl(g);
var m=c.length+l.length;
var j=this._dialogParametersProviderTypeName=="";
var k=j&&m<=this.get_dialogUrlLengthLimit();
if(k){var f=d.get_navigateUrl();
var n=c+l;
if(f!=n){d.setUrl(n);
}else{var e=d.get_contentFrame();
if(e&&e.contentWindow&&e.contentWindow.$find){var h=e.contentWindow.initDialog;
if(h){e.contentWindow.setTimeout(function(){h();
},1);
}}}}else{d.setUrl(c);
d.DialogParameters=i;
}},_closeContainerDelegate:function(c){this.raiseEvent("close",c);
},_getDialogContainer:function(c){if(typeof(this._dialogContainers[c])=="undefined"){var d=$find(this.get_id()+c);
if(null!=d){d.dispose();
}this._dialogContainers[c]=this.get_container().clone(this.get_id()+c);
var e=this;
this._dialogContainers[c].get_dialogOpener=function(){return e;
};
this._dialogContainers[c].add_close(Function.createDelegate(this,this._closeContainerDelegate));
}return this._dialogContainers[c];
},_getBaseDialogUrl:function(c){var d=this.get_handlerUrl().indexOf("?")<0?"?":"&";
var e=this.get_handlerUrl()+d+"DialogName="+c;
if(this.get_enableTelerikManagers()){e+="&UseRSM=true";
}e+="&renderMode="+this._renderMode;
e+="&Skin="+this.get_skin()+"&Title="+encodeURIComponent(this._getDialogDefinition(c)["Title"])+"&doid="+this._dialogUniqueID+"&dpptn="+encodeURIComponent(this._dialogParametersProviderTypeName)+this.get_additionalQueryString();
return e;
},_getDialogDefinition:function(d){var c=this.get_dialogDefinitions()[d];
if(c){return c;
}else{throw Error.argumentNull("dialogName",String.format("Dialog Parameters for the {0} dialog do not exist",d));
}},_getDialogParameters:function(c){return this._getDialogDefinition(c)["SerializedParameters"];
},_checkDialogHandler:function(f){var e=f.indexOf("?")<0?"?":"&";
var d=f+e+"checkHandler=true";
var g=new Sys.Net.WebRequest();
g.set_url(d);
g.add_completed(Function.createDelegate(this,this._checkRequestCompleted));
var c=new Sys.Net.XMLHttpExecutor();
g.set_executor(c);
c.executeRequest();
},_checkRequestCompleted:function(d,c){if(d.get_responseAvailable()){var e=d.get_responseData();
if(e&&e.indexOf("HandlerCheckOK")>0){this._handlerChecked=true;
return;
}}window.alert("Web.config registration missing!\n The Telerik dialogs require a HttpHandler registration in the web.config file. Please, use the control's Smart Tag to add the handler automatically, or see the help for more information: Controls > RadEditor > Dialogs > Introduction");
}};
a.registerControlProperties(b.RadDialogOpener,{additionalQueryString:"",enableTelerikManagers:false,handlerUrl:"",container:null,dialogUrlLengthLimit:2000,useClassicDialogs:false,skin:""});
a.registerControlEvents(b.RadDialogOpener,["open","close"]);
b.RadDialogOpener.registerClass("Telerik.Web.UI.RadDialogOpener",b.RadWebControl);
b.ClassicDialog=function(d,c){b.ClassicDialog.initializeBase(this);
this.BrowserWindow=window;
this._dialogOpener=null;
this._clientCallBackFunction=null;
this._window=null;
this._url="";
this._events={close:[],beforeClose:[],show:[]};
};
b.ClassicDialog.prototype={close:function(c){this.raiseEvent("beforeClose");
this.raiseEvent("close");
if(null!=c&&!(c instanceof Sys.UI.DomEvent)){var d=this.get_clientCallBackFunction();
if(typeof(d)=="string"){d=eval(d);
}if(d){d(this,c);
}}var e=this.get_contentFrame();
e.setTimeout(function(){e.close();
e.parent.focus();
},100);
},open:function(d,c){this._window=window.open(this.get_navigateUrl(),c,d);
this._window.focus();
if(!this._window.contentWindow){this._window.contentWindow=this._window;
}this.raiseEvent("show");
return this._window;
},get_dialogOpener:function(){return this._dialogOpener;
},set_dialogOpener:function(c){this._dialogOpener=c;
},get_clientCallBackFunction:function(){return this._clientCallBackFunction;
},set_clientCallBackFunction:function(c){this._clientCallBackFunction=c;
},setUrl:function(c){this._url=c;
},get_navigateUrl:function(){return this._url;
},get_contentFrame:function(){return this._window;
},set_title:function(d){if(this._window&&this._window.document){var c=this._window.document;
c.title=d;
}},dispose:function(){this._window=null;
this._clientCallBackFunction=null;
this._dialogOpener=null;
this._events=null;
b.ClassicDialog.callBaseMethod(this,"dispose");
},add_close:function(c){Array.add(this._events.close,c);
},remove_close:function(c){Array.remove(this._events.close,c);
},add_show:function(c){Array.add(this._events.show,c);
},remove_show:function(c){Array.remove(this._events.show,c);
},add_beforeClose:function(c){Array.add(this._events.beforeClose,c);
},remove_beforeClose:function(c){Array.remove(this._events.beforeClose,c);
},raiseEvent:function(d,c){var e=this._events[d];
this._raiseEvent(e,c);
},_raiseEvent:function(d,c){if(!d||(d.length===0)){return;
}d=Array.clone(d);
if(!d._handler){d._handler=function(j,f){for(var g=0,h=d.length;
g<h;
g++){d[g](j,f);
}};
}var e=d._handler;
if(e){if(!c){c=Sys.EventArgs.Empty;
}e(this,c);
}}};
b.ClassicDialog.registerClass("Telerik.Web.UI.ClassicDialog",Sys.Component);
})();
Type.registerNamespace("Telerik.Web.UI");
if(typeof(Telerik.Web.UI.EditorCommandEventArgs)=="undefined"){Telerik.Web.UI.EditorCommandEventArgs=function(a,b,c){Telerik.Web.UI.EditorCommandEventArgs.initializeBase(this);
this._name=this._commandName=a;
this._tool=b;
this._value=c;
this.value=c;
this._callbackFunction=null;
};
Telerik.Web.UI.EditorCommandEventArgs.prototype={get_name:function(){return this._name;
},get_commandName:function(){return this._commandName;
},get_tool:function(){return this._tool;
},get_value:function(){return this._value;
},set_value:function(a){this.value=a;
this._value=a;
},set_callbackFunction:function(a){this._callbackFunction=a;
}};
Telerik.Web.UI.EditorCommandEventArgs.registerClass("Telerik.Web.UI.EditorCommandEventArgs",Sys.CancelEventArgs);
}
/* END Telerik.Web.UI.Dialogs.RadDialogOpenerScripts.js */
/* START Telerik.Sitefinity.Web.Scripts.CommandBar.js */
Type.registerNamespace("Telerik.Sitefinity.Web.UI");
Telerik.Sitefinity.Web.UI.CommandBar=function(element){Telerik.Sitefinity.Web.UI.CommandBar.initializeBase(this,[element]);
this._commands=null;
this._loadDelegate=null;
};
Telerik.Sitefinity.Web.UI.CommandBar.prototype={initialize:function(){Telerik.Sitefinity.Web.UI.CommandBar.callBaseMethod(this,"initialize");
this._commands=Sys.Serialization.JavaScriptSerializer.deserialize(this._commands);
this._loadDelegate=Function.createDelegate(this,this._load);
Sys.Application.add_load(this._loadDelegate);
},dispose:function(){Telerik.Sitefinity.Web.UI.CommandBar.callBaseMethod(this,"dispose");
if(this._loadDelegate){Sys.Application.remove_load(this._loadDelegate);
delete this._loadDelegate;
}},add_command:function(delegate){this.get_events().addHandler("command",delegate);
},remove_command:function(delegate){this.get_events().removeHandler("command",delegate);
},add_commanding:function(delegate){this.get_events().addHandler("commanding",delegate);
},remove_commanding:function(delegate){this.get_events().removeHandler("commanding",delegate);
},_load:function(){var _commandsCount=this._commands.length;
var self=this;
var commandButtonId="";
for(var i=0;
i<_commandsCount;
i++){commandButtonId=this._commands[i].ButtonClientId;
switch(this._commands[i].ItemType){case"ProvidersListToolboxItem":var providersList=$find(commandButtonId);
providersList.add_providerNameChanged(Function.createDelegate(this,this._handleProvidersListChange));
break;
case"MenuToolboxItem":var menu=$find(commandButtonId);
menu.add_itemClicked(Function.createDelegate(this,this._menuItemClicked));
break;
default:$("#"+commandButtonId).click(function(){var commandName=self._getCommandName($(this).attr("id"));
if(!self._onCommanding(commandName,null).get_cancel()){self._onCommand(commandName,null);
}});
break;
}}},_onCommand:function(commandName,commandArgument){var eventArgs=new Telerik.Sitefinity.Web.UI.CommandBar.CommandEventArgs(commandName,commandArgument);
var handler=this.get_events().getHandler("command");
if(handler){handler(this,eventArgs);
}return eventArgs;
},_onCommanding:function(commandName,commandArgument){var eventArgs=new Telerik.Sitefinity.Web.UI.CommandBar.CommandEventArgs(commandName,commandArgument);
var handler=this.get_events().getHandler("commanding");
if(handler){handler(this,eventArgs);
}return eventArgs;
},_getCommandName:function(buttonId){var commandsCount=this._commands.length;
while(commandsCount--){if(this._commands[commandsCount].ButtonClientId==buttonId){return this._commands[commandsCount].CommandName;
}}return null;
},_menuItemClicked:function(sender,args){var commandName=args.get_item().get_value();
if(!(commandName==null||commandName.length==0)){this._onCommand(commandName,null);
args.get_item().get_menu().close();
}},_handleProvidersListChange:function(sender,args){var providerName=args.get_newProviderName();
var commandName=this._getCommandName(sender.get_element().id);
if(!this._onCommanding(commandName,providerName).get_cancel()){this._onCommand(commandName,providerName);
}},setItemText:function(commandName,text){var item=this.findItemByCommandName(commandName);
if(item){var itemText=$get(item.TextClientId);
itemText.innerHTML=text;
}},findItemByCommandName:function(commandName){var commandCount=this._commands.length;
while(commandCount--){if(this._commands[commandCount].CommandName==commandName){return this._commands[commandCount];
}}return null;
}};
Telerik.Sitefinity.Web.UI.CommandBar.registerClass("Telerik.Sitefinity.Web.UI.CommandBar",Sys.UI.Control);
Telerik.Sitefinity.Web.UI.CommandBar.CommandEventArgs=function(commandName,commandArgument){this._commandName=commandName;
this._commandArgument=commandArgument;
Telerik.Sitefinity.Web.UI.CommandBar.CommandEventArgs.initializeBase(this);
};
Telerik.Sitefinity.Web.UI.CommandBar.CommandEventArgs.prototype={initialize:function(){Telerik.Sitefinity.Web.UI.CommandBar.CommandEventArgs.callBaseMethod(this,"initialize");
},dispose:function(){Telerik.Sitefinity.Web.UI.CommandBar.CommandEventArgs.callBaseMethod(this,"dispose");
},get_commandName:function(){return this._commandName;
},get_commandArgument:function(){return this._commandArgument;
}};
Telerik.Sitefinity.Web.UI.CommandBar.CommandEventArgs.registerClass("Telerik.Sitefinity.Web.UI.CommandBar.CommandEventArgs",Sys.CancelEventArgs);

/* END Telerik.Sitefinity.Web.Scripts.CommandBar.js */
/* START Telerik.Sitefinity.Web.UI.Fields.Scripts.Choice.js */
Type.registerNamespace("Telerik.Sitefinity.Web.UI.Fields");
Telerik.Sitefinity.Web.UI.Fields.Choice=function(){this._text=null;
this._value=null;
this._description=null;
this._enabled=null;
Telerik.Sitefinity.Web.UI.Fields.Choice.initializeBase(this);
};
Telerik.Sitefinity.Web.UI.Fields.Choice.prototype={initialize:function(){Telerik.Sitefinity.Web.UI.Fields.Choice.callBaseMethod(this,"initialize");
},dispose:function(){Telerik.Sitefinity.Web.UI.Fields.Choice.callBaseMethod(this,"dispose");
},get_text:function(){return this._text;
},set_text:function(value){this._text=value;
},get_value:function(){return this._value;
},set_value:function(value){this._value=value;
},get_description:function(){return this._description;
},set_description:function(value){this._description=value;
},get_enabled:function(){return this._enabled;
},set_enabled:function(value){this._enabled=value;
}};
Telerik.Sitefinity.Web.UI.Fields.Choice.registerClass("Telerik.Sitefinity.Web.UI.Fields.Choice",Sys.Component);

/* END Telerik.Sitefinity.Web.UI.Fields.Scripts.Choice.js */
/* START Telerik.Sitefinity.Web.UI.Fields.Scripts.RenderChoicesAs.js */
Type.registerNamespace("Telerik.Sitefinity.Web.UI.Fields");
Telerik.Sitefinity.Web.UI.Fields.RenderChoicesAs=function(){};
Telerik.Sitefinity.Web.UI.Fields.RenderChoicesAs.prototype={CheckBoxes:0,DropDown:1,ListBox:2,RadioButtons:3,SingleCheckBox:4,HorizontalRadioButtons:5};
Telerik.Sitefinity.Web.UI.Fields.RenderChoicesAs.registerEnum("Telerik.Sitefinity.Web.UI.Fields.RenderChoicesAs");

/* END Telerik.Sitefinity.Web.UI.Fields.Scripts.RenderChoicesAs.js */
/* START Telerik.Sitefinity.Web.UI.Fields.Scripts.ChoiceField.js */
Type.registerNamespace("Telerik.Sitefinity.Web.UI.Fields");
Telerik.Sitefinity.Web.UI.Fields.ChoiceField=function(element){this._element=element;
this._choices=[];
this._mutuallyExclusive=null;
this._renderChoicesAs=null;
this._selectedChoicesIndex=[];
this._choiceElement=null;
this._readModeLabel=null;
this._listItemValueMap=null;
this._valueChangedHandlerDelegate;
this._returnValuesAlwaysInArray=null;
Telerik.Sitefinity.Web.UI.Fields.ChoiceField.initializeBase(this,[element]);
};
Telerik.Sitefinity.Web.UI.Fields.ChoiceField.prototype={initialize:function(){Telerik.Sitefinity.Web.UI.Fields.ChoiceField.callBaseMethod(this,"initialize");
if(this._renderChoicesAs==Telerik.Sitefinity.Web.UI.Fields.RenderChoicesAs.CheckBoxes){this._setCheckBoxesValueMapping();
}this._valueChangedHandlerDelegate=Function.createDelegate(this,this._valueChangedHandler);
this._subscribeForValueChanged();
this._value=this.get_value();
jQuery(this._choiceElement).unload(function(){jQuery.event.remove(this);
jQuery.removeData(this);
});
},dispose:function(){this.choices=null;
this._choiceElement=null;
if(this._valueChangedHandlerDelegate){delete this._valueChangedHandlerDelegate;
}Telerik.Sitefinity.Web.UI.Fields.ChoiceField.callBaseMethod(this,"dispose");
},addListItem:function(value,caption){if(this._choiceElement){var selector=this._get_listItemSelector();
jQuery(this._choiceElement).append("<"+selector+" value='"+value+"'>"+caption+"</"+selector+">");
}},clearListItems:function(){if(this._choiceElement){jQuery(this._choiceElement).children().remove();
}},reset:function(){if(this.get_displayMode()==Telerik.Sitefinity.Web.UI.Fields.FieldDisplayMode.Write){this.set_value(null);
}else{this.set_value("");
}Telerik.Sitefinity.Web.UI.Fields.ChoiceField.callBaseMethod(this,"reset");
},selectListItemsByValue:function(value){this._selectListItemsByValue(value);
},_subscribeForValueChanged:function(){switch(this._renderChoicesAs){case Telerik.Sitefinity.Web.UI.Fields.RenderChoicesAs.CheckBoxes:if(this._get_choiceListItems()){this._get_choiceListItems().click(this._valueChangedHandlerDelegate);
}break;
case Telerik.Sitefinity.Web.UI.Fields.RenderChoicesAs.DropDown:if(this._choiceElement){jQuery(this._choiceElement).change(this._valueChangedHandlerDelegate);
}break;
case Telerik.Sitefinity.Web.UI.Fields.RenderChoicesAs.ListBox:if(this._choiceElement){jQuery(this._choiceElement).change(this._valueChangedHandlerDelegate);
}break;
case Telerik.Sitefinity.Web.UI.Fields.RenderChoicesAs.HorizontalRadioButtons:case Telerik.Sitefinity.Web.UI.Fields.RenderChoicesAs.RadioButtons:if(this._get_choiceListItems()){this._get_choiceListItems().click(this._valueChangedHandlerDelegate);
}case Telerik.Sitefinity.Web.UI.Fields.RenderChoicesAs.SingleCheckBox:if(this._choiceElement){jQuery(this._choiceElement).click(this._valueChangedHandlerDelegate);
}break;
}},_unsubscribeForValueChanged:function(){switch(this._renderChoicesAs){case Telerik.Sitefinity.Web.UI.Fields.RenderChoicesAs.CheckBoxes:if(this._get_choiceListItems()){this._get_choiceListItems().unbind("click",this._valueChangedHandlerDelegate);
}break;
case Telerik.Sitefinity.Web.UI.Fields.RenderChoicesAs.DropDown:if(this._choiceElement){jQuery(this._choiceElement).unbind("change",this._valueChangedHandlerDelegate);
}break;
case Telerik.Sitefinity.Web.UI.Fields.RenderChoicesAs.ListBox:if(this._choiceElement){jQuery(this._choiceElement).unbind("change",this._valueChangedHandlerDelegate);
}break;
case Telerik.Sitefinity.Web.UI.Fields.RenderChoicesAs.HorizontalRadioButtons:case Telerik.Sitefinity.Web.UI.Fields.RenderChoicesAs.RadioButtons:if(this._get_choiceListItems()){this._get_choiceListItems().unbind("click",this._valueChangedHandlerDelegate);
}case Telerik.Sitefinity.Web.UI.Fields.RenderChoicesAs.SingleCheckBox:if(this._choiceElement){jQuery(this._choiceElement).unbind("click",this._valueChangedHandlerDelegate);
}break;
}},_get_selectedAttributeSelector:function(){switch(this._renderChoicesAs){case Telerik.Sitefinity.Web.UI.Fields.RenderChoicesAs.CheckBoxes:return"checked";
case Telerik.Sitefinity.Web.UI.Fields.RenderChoicesAs.DropDown:return"selected";
case Telerik.Sitefinity.Web.UI.Fields.RenderChoicesAs.ListBox:return"selected";
case Telerik.Sitefinity.Web.UI.Fields.RenderChoicesAs.HorizontalRadioButtons:case Telerik.Sitefinity.Web.UI.Fields.RenderChoicesAs.RadioButtons:return"checked";
case Telerik.Sitefinity.Web.UI.Fields.RenderChoicesAs.SingleCheckBox:return"checked";
}},_get_listItemSelector:function(){switch(this._renderChoicesAs){case Telerik.Sitefinity.Web.UI.Fields.RenderChoicesAs.SingleCheckBox:case Telerik.Sitefinity.Web.UI.Fields.RenderChoicesAs.CheckBoxes:return"input:checkbox";
case Telerik.Sitefinity.Web.UI.Fields.RenderChoicesAs.DropDown:return"option";
case Telerik.Sitefinity.Web.UI.Fields.RenderChoicesAs.ListBox:return"option";
case Telerik.Sitefinity.Web.UI.Fields.RenderChoicesAs.HorizontalRadioButtons:case Telerik.Sitefinity.Web.UI.Fields.RenderChoicesAs.RadioButtons:return"input:radio";
}},_get_selectedItemsValues:function(){var result;
if(this._renderChoicesAs==Telerik.Sitefinity.Web.UI.Fields.RenderChoicesAs.SingleCheckBox){if(this._choiceElement.checked){result=["true"];
}else{result=["false"];
}}else{var selected=this._get_selectedListItemsElements();
result=[];
if(selected&&selected.length>0){for(var i=0,length=selected.length;
i<length;
i++){result.push(jQuery(selected[i]).attr("value"));
}}}return result;
},_get_selectedListItemsElements:function(){var result=this._get_choiceListItems(this._get_selectedAttributeSelector());
return result;
},_get_listItemByValue:function(value){return jQuery(this._choiceElement).find(this._get_listItemSelector()).filter(function(){return jQuery(this).val()==value;
});
},_get_listItemByText:function(text){var selector=this._get_listItemSelector()+"[text='"+text+"']";
return jQuery(this._choiceElement).find(selector);
},_get_choiceListItems:function(attribute){if(attribute){attribute=":"+attribute;
}else{attribute="";
}var itemSelector=this._get_listItemSelector();
return jQuery(this._choiceElement).find(itemSelector+attribute);
},_clearAllSelectedItems:function(){if(this._renderChoicesAs==Telerik.Sitefinity.Web.UI.Fields.RenderChoicesAs.SingleCheckBox){this._choiceElement.checked=false;
}else{var selector=this._get_selectedAttributeSelector();
jQuery(this._choiceElement).find(this._get_listItemSelector()).attr(selector,false);
if(this._renderChoicesAs==Telerik.Sitefinity.Web.UI.Fields.RenderChoicesAs.RadioButtons||this._renderChoicesAs==Telerik.Sitefinity.Web.UI.Fields.RenderChoicesAs.HorizontalRadioButtons||this._renderChoicesAs==Telerik.Sitefinity.Web.UI.Fields.RenderChoicesAs.DropDown){this._selectFirstChoice();
}}},_selectListItemsByValue:function(value){var selectedAttribute=this._get_selectedAttributeSelector();
if(Array.prototype.isPrototypeOf(value)){for(var i=0,length=value.length;
i<length;
i++){var item=this._get_listItemByValue(value[i]);
if(item){jQuery(item).prop(selectedAttribute,true);
}}}else{var item;
if(this._renderChoicesAs==Telerik.Sitefinity.Web.UI.Fields.RenderChoicesAs.SingleCheckBox){item=jQuery(this._choiceElement);
if(item.length){item.attr(selectedAttribute,(value===true||value==="true"));
}}else{item=this._get_listItemByValue(value);
if(item.length){jQuery(item).prop(selectedAttribute,true);
}}}},_selectFirstChoice:function(){var listItems=jQuery(this._choiceElement).find(this._get_listItemSelector());
if(listItems&&listItems.length>0){var firstItem=listItems.eq(0);
if(firstItem){firstItem.prop(this._get_selectedAttributeSelector(),true);
}}},_setCheckBoxesValueMapping:function(){for(var listItemId in this._listItemValueMap){var value=this._listItemValueMap[listItemId];
jQuery($get(listItemId,this._element)).attr("value",value);
}},enable:function(cssClass){var listItems=jQuery("#"+this._choiceElement.parentNode.id).find(this._get_listItemSelector());
for(var i=0;
i<listItems.length;
i++){jQuery(listItems[i]).removeAttr("disabled");
}if(cssClass!=null){jQuery(this._element).removeClass(cssClass);
}else{jQuery(this._element).removeClass("sfDisabledFieldCtrl");
}},disable:function(cssClass){var listItems=jQuery("#"+this._choiceElement.parentNode.id).find(this._get_listItemSelector());
for(var i=0;
i<listItems.length;
i++){jQuery(listItems[i]).attr("disabled","disabled");
}if(cssClass!=null){jQuery(this._element).addClass(cssClass);
}else{jQuery(this._element).addClass("sfDisabledFieldCtrl");
}},get_choices:function(){return this._choices;
},set_choices:function(value){this._choices=value;
},get_mutuallyExclusive:function(){return this._mutuallyExclusive;
},set_mutuallyExclusive:function(value){this._mutuallyExclusive=value;
},get_renderChoicesAs:function(){return this._renderChoicesAs;
},set_renderChoicesAs:function(value){this._renderChoicesAs=value;
},get_selectedChoicesIndex:function(){var items=this._get_choiceListItems();
var selector=this._get_selectedAttributeSelector();
var result=[];
for(var i=0,length=items.length;
i<length;
i++){if(jQuery(items[i]).prop(selector)==true){result.push(i);
}}if(result.length==0){return null;
}return result;
},set_selectedChoicesIndex:function(value){this._selectedChoicesIndex=value;
if(value!==undefined&&value!=null){var itemSelector=this._get_listItemSelector();
var selectedSelector=this._get_selectedAttributeSelector();
if(Array.prototype.isPrototypeOf(value)){for(var i=0,length=value.length;
i<length;
i++){var index=value[i];
jQuery(this._choiceElement).find(itemSelector).eq(index).prop(selectedSelector,true);
}}else{jQuery(this._choiceElement).find(itemSelector).eq(value).prop(selectedSelector,true);
}}this.raisePropertyChanged("selectedChoicesIndex");
},get_choiceElement:function(){return this._choiceElement;
},set_choiceElement:function(value){this._choiceElement=value;
},get_listItemValueMap:function(){return this._listItemValueMap;
},set_listItemValueMap:function(value){this._listItemValueMap=value;
},get_readModeLabel:function(){return this._readModeLabel;
},set_readModeLabel:function(value){this._readModeLabel=value;
},isChanged:function(){var currValue=this.get_value();
if(this.get_renderChoicesAs()===Telerik.Sitefinity.Web.UI.Fields.RenderChoicesAs.SingleCheckBox){if(currValue==="true"){currValue=true;
}if(currValue==="false"){currValue=false;
}if(currValue==="1"){currValue=1;
}if(currValue==="0"){currValue=0;
}}return this.hasValueChanged(currValue);
},hasValueChanged:function(currValue){var hasChanged=false;
if(Object.prototype.toString.call(this._value)==="[object Array]"){if(Object.prototype.toString.call(currValue)!=="[object Array]"){hasChanged=true;
}else{if(this._value.length!=currValue.length){hasChanged=true;
}else{for(var valIter=0;
valIter<this._value.length;
valIter++){if(this._value[valIter]!=currValue[valIter]){hasChanged=true;
break;
}}}}}else{hasChanged=!(this._value==currValue||(this.isValueNullOrUndefined(this._value)&&(this.get_renderChoicesAs()===1||this.get_renderChoicesAs()===3||this.get_renderChoicesAs()===5)));
}return hasChanged;
},isValueNullOrUndefined:function(value){return value===null||value===undefined;
},get_value:function(){if(this.get_displayMode()==Telerik.Sitefinity.Web.UI.Fields.FieldDisplayMode.Write){var result=this._get_selectedItemsValues();
if(this._returnValuesAlwaysInArray){return result;
}if(Array.prototype.isPrototypeOf(result)){if(result.length==1){result=result[0];
}else{if(result.length>1){return result;
}}}return result;
}return this._value;
},set_value:function(value){if(value!==undefined&&value!==null&&this._renderChoicesAs!=Telerik.Sitefinity.Web.UI.Fields.RenderChoicesAs.SingleCheckBox&&Object.prototype.toString.call(value)!=="[object Array]"&&typeof value!="string"){value=value.toString();
}this._value=value;
if(!this.get_isInitialized()&&this._renderChoicesAs==Telerik.Sitefinity.Web.UI.Fields.RenderChoicesAs.CheckBoxes){this._setCheckBoxesValueMapping();
}if(this._renderChoicesAs==Telerik.Sitefinity.Web.UI.Fields.RenderChoicesAs.SingleCheckBox&&value==null){jQuery(this._choiceElement).attr("checked",false);
}if(this.get_displayMode()==Telerik.Sitefinity.Web.UI.Fields.FieldDisplayMode.Write){this._clearAllSelectedItems();
if(value!==undefined&&value!==null){this._selectListItemsByValue(value);
}}else{if(this._renderChoicesAs==Telerik.Sitefinity.Web.UI.Fields.RenderChoicesAs.SingleCheckBox||String.isInstanceOfType(value)||(typeof value)===(typeof"")){jQuery(this._readModeLabel).html(value.toString());
}else{var compositeValue="";
if(value){if(typeof(value)==="string"){compositeValue=value;
}else{for(var cIter=0;
cIter<value.length;
cIter++){compositeValue+=(value[cIter]+", ");
}if(compositeValue.length>2){compositeValue=compositeValue.substr(0,compositeValue.length-2);
}}}jQuery(this._readModeLabel).html(compositeValue);
}}this.raisePropertyChanged("value");
this._valueChangedHandler();
},get_selectedName:function(){var selectedIndices=this.get_selectedChoicesIndex();
if(!selectedIndices||selectedIndices.length===0){return null;
}var choices=this.get_choices(),names;
if(selectedIndices.length===1){names=choices[selectedIndices[0]].Text;
}else{names=[];
for(var i=0,len=choices.length;
i<len;
i++){names.push(choices[selectedIndices[i]].Text);
}}return names;
},set_defaultValue:function(value){this._defaultValue=value+"";
},get_element:function(){return this._element;
},set_element:function(value){this._element=value;
}};
Telerik.Sitefinity.Web.UI.Fields.ChoiceField.registerClass("Telerik.Sitefinity.Web.UI.Fields.ChoiceField",Telerik.Sitefinity.Web.UI.Fields.FieldControl);

/* END Telerik.Sitefinity.Web.UI.Fields.Scripts.ChoiceField.js */
/* START Telerik.Sitefinity.Web.UI.Components.Scripts.ClientLabelManager.js */
Type.registerNamespace("Telerik.Sitefinity.Web.UI");
Telerik.Sitefinity.Web.UI.ClientLabelManager=function(element){this._dictionary=null;
Telerik.Sitefinity.Web.UI.ClientLabelManager.initializeBase(this,[element]);
};
Telerik.Sitefinity.Web.UI.ClientLabelManager.prototype={initialize:function(){this._dictionary=Sys.Serialization.JavaScriptSerializer.deserialize(this._dictionary);
Telerik.Sitefinity.Web.UI.ClientLabelManager.callBaseMethod(this,"initialize");
},dispose:function(){Telerik.Sitefinity.Web.UI.ClientLabelManager.callBaseMethod(this,"dispose");
},getLabel:function(classId,key){if(classId==null||classId==""){return key;
}return this._dictionary[classId+key];
}};
Telerik.Sitefinity.Web.UI.ClientLabelManager.registerClass("Telerik.Sitefinity.Web.UI.ClientLabelManager",Sys.UI.Control);

/* END Telerik.Sitefinity.Web.UI.Components.Scripts.ClientLabelManager.js */
/* START Telerik.Sitefinity.Web.UI.ControlDesign.Scripts.PropertyGrid.js */
Type.registerNamespace("Telerik.Sitefinity.Web.UI");
Type._registerScript("PropertyGrid.js",["IControlDesigner.js"]);
Type.registerNamespace("Telerik.Sitefinity.Web.UI.ControlDesign");
Telerik.Sitefinity.Web.UI.PropertyGrid=function(element){this._breadcrumbId=null;
this._breadcrumb=null;
this._screensBreadcrumb=null;
this._propertyBinder=null;
this._alphabeticalView=null;
this._lastCategoryName=null;
this._currentScreenId=0;
this._currentPropertyName="";
this._currentPropertyPath="";
this._currentLevel=0;
this._properties=null;
this._propertyEditor=null;
this._propertyViewsToolbar=null;
this._expandAllButtonId=null;
this._collapseAllButtonId=null;
this._proxyPropertyName=null;
this._propertyPaths=[];
Telerik.Sitefinity.Web.UI.PropertyGrid.initializeBase(this,[element]);
};
Telerik.Sitefinity.Web.UI.PropertyGrid.prototype={initialize:function(){this._pageLoadedDelegate=Function.createDelegate(this,this._pageLoaded);
this._breadcrumbClickedDelegate=Function.createDelegate(this,this._breadcrumbClicked);
this._itemDataBoundDelegate=Function.createDelegate(this,this._propertyGridItemDataBound);
this._propertyBinder.add_onItemDataBound(this._itemDataBoundDelegate);
this._dataBoundDelegate=Function.createDelegate(this,this._propertyGridDataBound);
this._propertyBinder.add_onDataBound(this._dataBoundDelegate);
this._itemSelectedDelegate=Function.createDelegate(this,this._propertyGridItemSelectCommand);
this._propertyBinder.add_onItemSelectCommand(this._itemSelectedDelegate);
this._toolbarModeChangedDelegate=Function.createDelegate(this,this._toolbarModeChanged);
this._propertyViewsToolbar.add_buttonClicking(this._toolbarModeChangedDelegate);
this._levelFilterDelegate=Function.createDelegate(this,this._levelFilter);
this._expandAllDelegate=Function.createDelegate(this,this._expandAll);
$addHandler($get(this._expandAllButtonId),"click",this._expandAllDelegate);
this._collapseAllDelegate=Function.createDelegate(this,this._collapseAll);
$addHandler($get(this._collapseAllButtonId),"click",this._collapseAllDelegate);
Sys.Application.add_load(this._pageLoadedDelegate);
Telerik.Sitefinity.Web.UI.PropertyGrid.callBaseMethod(this,"initialize");
},dispose:function(){this._pageLoadedDelegate=null;
this._breadcrumbClickedDelegate=null;
this._propertyBinder.remove_onItemDataBound(this._itemDataBoundDelegate);
this._itemDataBoundDelegate=null;
this._propertyBinder.remove_onDataBound(this,this._dataBoundDelegate);
this._dataBoundDelegate=null;
this._propertyBinder.remove_onItemSelectCommand(this._itemSelectedDelegate);
this._itemSelectedDelegate=null;
this._propertyViewsToolbar.remove_buttonClicking(this._toolbarModeChangedDelegate);
this._toolbarModeChangedDelegate=null;
this._expandAllDelegate=null;
this._collapseAllDelegate=null;
this._levelFilterDelegate=null;
Telerik.Sitefinity.Web.UI.PropertyGrid.callBaseMethod(this,"dispose");
},_pageLoaded:function(){this._breadcrumb=$find(this._breadcrumbId);
this._breadcrumb.add_click(this._breadcrumbClickedDelegate);
dialogBase.resizeToContent();
},_toolbarModeChanged:function(sender,args){var button=args.get_item();
if(args.get_item().get_value()=="Alphabetically"){this._changeView(true);
}else{if(args.get_item().get_value()=="Categorized"){this._changeView(false);
}}},_breadcrumbClicked:function(sender,args){if(typeof args!=="undefined"&&args!==null){this._navigateToScreen(args.text,args.value);
}},_propertyGridItemDataBound:function(sender,args){var dataItem=args.get_dataItem();
var categoryName=dataItem.CategoryName;
var el=args.get_itemElement();
$(el).find(".sf_categoryElement").each(function(i,element){if(alphabeticalView||lastCategoryName==dataItem.CategoryName){$(element).hide();
}else{$(element).show();
}});
if(dataItem.NeedsEditor&&dataItem.NeedsEditor.toString().toLowerCase()!="false"){$(el).find(".sf_complexProperty").each(function(i,element){$(element).show();
});
$(el).find(".sf_propertyInput").each(function(i,element){$(element).hide();
});
}var self=this;
$(el).find('input[type="text"]').keyup(function(){self._changeProperty(dataItem.PropertyName,dataItem.PropertyId,$(this).val());
});
lastCategoryName=dataItem.CategoryName;
},_propertyGridDataBound:function(sender,args){var self=this;
$("#screens").find(".sf_categoryLink").click(function(){var itemSelector="sf_item"+$(this).text().replace(" ","");
$("#propertyGridLevel"+self._currentScreenId).find("li."+itemSelector+" > div.sf_propertyElement").each(function(){$(this).toggle();
});
});
},_propertyGridItemSelectCommand:function(sender,args){var dataItem=args.get_dataItem();
var numberOfScreens=$("#screens > .screen").size();
var propertyName=dataItem.PropertyName;
$("#screens > #level0").clone().attr("id","level"+numberOfScreens).insertAfter("#screens > #level0").find("#propertyGridLevel0").attr("id","propertyGridLevel"+numberOfScreens).empty();
this._currentScreenId=numberOfScreens;
this._currentPropertyName=propertyName;
this._propertyPaths[this._currentScreenId]=dataItem.PropertyPath;
this._currentPropertyPath=dataItem.PropertyPath;
this._currentLevel=dataItem.PropertyPath.split("/").length-1;
this._bindProperties();
this._navigateToScreen(propertyName,this._currentScreenId);
},_changeView:function(toAlphabetical){var expandCollapsePanel=$("#expandCollapsePanel");
var screensList=$("#screens");
lastCategoryName="";
if(toAlphabetical){this._propertyBinder.set_sortExpression("Name");
alphabeticalView=true;
$(expandCollapsePanel).hide();
screensList.removeClass("sfCategorizedList");
}else{this._propertyBinder.set_sortExpression("Category");
alphabeticalView=false;
$(expandCollapsePanel).show();
screensList.addClass("sfCategorizedList");
}this._bindProperties();
},_setBreadcrumb:function(propertyName,screenId){if(this._screensBreadcrumb==null){this._screensBreadcrumb=[{text:"Home",value:0}];
}var screenPosition=-1;
for(screenIter=0;
screenIter<this._screensBreadcrumb.length;
screenIter++){if(this._screensBreadcrumb[screenIter].value==screenId){screenPosition=screenIter;
break;
}}if(screenPosition==-1){this._screensBreadcrumb.push({text:propertyName,value:this._screensBreadcrumb.length});
}else{this._screensBreadcrumb=this._screensBreadcrumb.slice(0,screenPosition+1);
}this._currentPropertyPath="";
for(nodeIter=1;
nodeIter<this._screensBreadcrumb.length;
nodeIter++){this._currentPropertyPath+=this._screensBreadcrumb[nodeIter].text+"/";
}this._currentPropertyPath=this._currentPropertyPath.substr(0,this._currentPropertyPath.length-1);
this._breadcrumb.set_list(this._screensBreadcrumb);
if(this._screensBreadcrumb.length==1){$("#breadcrumbDiv").hide();
$("#displayModesPanel").show();
}else{$("#breadcrumbDiv").show();
$("#displayModesPanel").hide();
}},_navigateToScreen:function(propertyName,screenId){$(".screen").hide();
$("#level"+screenId).show();
this._currentScreenId=screenId;
this._currentPropertyName=propertyName;
this._setBreadcrumb(propertyName,screenId);
},_changeProperty:function(propertyName,propertyId,propertyValue){var proxyPrefix=(this._proxyPropertyName)?"/"+this._proxyPropertyName:"";
var propertyPath=this._propertyPaths[this._currentScreenId];
if(!propertyPath){propertyPath=proxyPrefix+"/"+propertyName;
}else{if(propertyPath.charAt(0)!="/"){propertyPath=proxyPrefix+"/"+propertyPath;
}propertyPath=propertyPath+"/"+propertyName;
}this.get_propertyEditor().changePropertyValue(propertyPath,propertyValue);
},_collapseAll:function(){$(".screen").find("li > div.sf_propertyElement").each(function(i,element){$(element).hide();
});
$(".screen").find("li > div.sf_categoryElement").each(function(i,element){$(element).addClass("sfCollapsedCategory");
});
},_expandAll:function(){$(".screen").find("li > div.sf_propertyElement").each(function(i,element){$(element).show();
});
$(".screen").find("li > div.sf_categoryElement").each(function(i,element){$(element).removeClass("sfCollapsedCategory");
});
},_bindProperties:function(){var newTarget=$get("propertyGridLevel"+this._currentScreenId);
this._propertyBinder.set_target(newTarget);
this._propertyBinder.ClearTarget();
var items=this._propertyEditor.get_propertyBag();
if(this._propertyBinder.get_sortExpression()=="Name"){items.sort(this._sortPropertiesForAlphabeticalView);
}else{items.sort(this._sortPropertiesForCategoryView);
}var proxyPropertyExists=false;
var propsLength=items.length;
while(propsLength--){if(items[propsLength].IsProxy){proxyPropertyExists=true;
this._proxyPropertyName=items[propsLength].PropertyName;
break;
}}var proxyFilterDelegate=Function.createDelegate(this,this._levelFilterForProxy);
var data;
if(proxyPropertyExists){data={Items:items.filter(proxyFilterDelegate),IsGeneric:false};
}else{data={Items:items.filter(this._levelFilterDelegate),IsGeneric:false};
}this._propertyBinder.BindCollection(data);
},_sortPropertiesForCategoryView:function(a,b){if(a.CategoryName<b.CategoryName){return -1;
}else{if(a.CategoryName>b.CategoryName){return 1;
}else{return 0;
}}},_sortPropertiesForAlphabeticalView:function(a,b){if(a.Name<b.Name){return -1;
}else{if(a.Name>b.Name){return 1;
}else{return 0;
}}},_levelFilter:function(property){var level=property.PropertyPath.split("/").length-2;
if(this._currentPropertyName=="Home"){if(level>0){return false;
}else{return true;
}}else{if(property.PropertyPath.startsWith(this._propertyPaths[this._currentScreenId])){return this._currentLevel==level;
}else{return false;
}}},_levelFilterForProxy:function(property){var isProxy=property.IsProxy;
if(isProxy){return false;
}else{if(!this._currentLevel){this._currentLevel=1;
}return this._levelFilter(property);
}},get_propertyBinder:function(){return this._propertyBinder;
},set_propertyBinder:function(value){this._propertyBinder=value;
},get_propertyEditor:function(){return this._propertyEditor;
},set_propertyEditor:function(value){this._propertyEditor=value;
},get_propertyViewsToolbar:function(){return this._propertyViewsToolbar;
},set_propertyViewsToolbar:function(value){this._propertyViewsToolbar=value;
}};
Telerik.Sitefinity.Web.UI.PropertyGrid.registerClass("Telerik.Sitefinity.Web.UI.PropertyGrid",Sys.UI.Control,Telerik.Sitefinity.Web.UI.ControlDesign.IControlDesigner);
if(!Array.prototype.filter){Array.prototype.filter=function(fun){var len=this.length;
if(typeof fun!="function"){throw new TypeError();
}var res=new Array();
var thisp=arguments[1];
for(var i=0;
i<len;
i++){if(i in this){var val=this[i];
if(fun.call(thisp,val,i,this)){res.push(val);
}}}return res;
};
}String.prototype.startsWith=function(str){return(this.match("^"+str)==str);
};

/* END Telerik.Sitefinity.Web.UI.ControlDesign.Scripts.PropertyGrid.js */
/* START Telerik.Sitefinity.Web.Scripts.RadBreadCrumb.js */
Type.registerNamespace("Telerik");
Type.registerNamespace("Telerik.Sitefinity");
Type.registerNamespace("Telerik.Sitefinity.Web");
Type.registerNamespace("Telerik.Sitefinity.Web.UI");
Telerik.Sitefinity.Web.UI.RadBreadCrumb=function(element){Telerik.Sitefinity.Web.UI.RadBreadCrumb.initializeBase(this,[element]);
this._list=[];
};
Telerik.Sitefinity.Web.UI.RadBreadCrumb.prototype={get_clientStateFieldID:function(){},set_clientStateFieldID:function(){},add_click:function(handler){this.get_events().addHandler("click",handler);
},remove_click:function(handler){this.get_events().removeHandler("click",handler);
},_raiseClick:function(args){var h=this.get_events().getHandler("click");
if(h){h(this,args);
}},initialize:function(){Telerik.Sitefinity.Web.UI.RadBreadCrumb.callBaseMethod(this,"initialize");
this._registerMouseHandlers(true);
},_registerMouseHandlers:function(attachEvent){var targetElement=this.get_element();
if(true==attachEvent){var handlers={click:this._onMouseClick};
$addHandlers(targetElement,handlers,this);
}else{$clearHandlers(targetElement);
}},dispose:function(){this._clear();
this._registerMouseHandlers(false);
Telerik.Sitefinity.Web.UI.RadBreadCrumb.callBaseMethod(this,"dispose");
},_onMouseClick:function(e){var index=this._getClickedIndex(e);
var obj=this._list[index];
this._raiseClick(obj);
return $telerik.cancelRawEvent(e);
},_getClickedIndex:function(e){var target=e.target;
if(!target||target.tagName!="A"){return -1;
}var links=this.get_element().getElementsByTagName("A");
for(var i=0;
i<links.length;
i++){if(links[i]==target){return i;
}}return -1;
},_clear:function(){this.get_element().innerHTML="&nbsp;";
this._list=[];
},_addBreadcrumb:function(text,isLast){var parent=this.get_element();
var domLink=null;
if(isLast){domLink=document.createElement("SPAN");
}else{domLink=document.createElement("A");
domLink.href="javascript:void(0);";
}domLink.innerHTML=text;
parent.appendChild(domLink);
if(!isLast){var arrow=document.createElement("SPAN");
arrow.innerHTML="&nbsp;> ";
arrow.className="bcArrow";
parent.appendChild(arrow);
}},set_list:function(array){this._clear();
this._list=array;
for(var i=0;
i<array.length;
i++){var item=array[i];
this._addBreadcrumb(item.text,i>=array.length-1);
}}};
Telerik.Sitefinity.Web.UI.RadBreadCrumb.registerClass("Telerik.Sitefinity.Web.UI.RadBreadCrumb",Sys.UI.Control);

/* END Telerik.Sitefinity.Web.Scripts.RadBreadCrumb.js */
/* START Telerik.Web.UI.Common.Navigation.OverlayScript.js */
Type.registerNamespace("Telerik.Web.UI");
Telerik.Web.UI.Overlay=function(a){this._targetElement=a;
this._element=null;
};
Telerik.Web.UI.Overlay.IsSupported=function(){return $telerik.isIE;
};
Telerik.Web.UI.Overlay.prototype={initialize:function(){var a=document.createElement("div");
a.innerHTML="<iframe>Your browser does not support inline frames or is currently configured not to display inline frames.</iframe>";
this._element=a.firstChild;
this._element.src="about:blank";
this._targetElement.parentNode.insertBefore(this._element,this._targetElement);
if(this._targetElement.style.zIndex>0){this._element.style.zIndex=this._targetElement.style.zIndex-1;
}this._element.style.position="absolute";
this._element.style.border="0px";
this._element.frameBorder=0;
this._element.style.filter="progid:DXImageTransform.Microsoft.Alpha(style=0,opacity=0)";
this._element.tabIndex=-1;
if(!$telerik.isSafari&&!$telerik.isIE10Mode){a.outerHTML=null;
}this.updatePosition();
},dispose:function(){if(this._element.parentNode){this._element.parentNode.removeChild(this._element);
}this._targetElement=null;
this._element=null;
},get_targetElement:function(){return this._targetElement;
},set_targetElement:function(a){this._targetElement=a;
},get_element:function(){return this._element;
},updatePosition:function(){this._element.style.top=this._toUnit(this._targetElement.style.top);
this._element.style.left=this._toUnit(this._targetElement.style.left);
this._element.style.width=this._targetElement.offsetWidth+"px";
this._element.style.height=this._targetElement.offsetHeight+"px";
},_toUnit:function(a){if(!a){return"0px";
}return parseInt(a,10)+"px";
}};
Telerik.Web.UI.Overlay.registerClass("Telerik.Web.UI.Overlay",null,Sys.IDisposable);

/* END Telerik.Web.UI.Common.Navigation.OverlayScript.js */
/* START Telerik.Web.UI.Common.Navigation.NavigationScripts.js */
Type.registerNamespace("Telerik.Web.UI");
Telerik.Web.UI.AttributeCollection=function(a){this._owner=a;
this._data={};
this._keys=[];
};
Telerik.Web.UI.AttributeCollection.prototype={getAttribute:function(a){return this._data[a];
},setAttribute:function(b,c){this._add(b,c);
var a={};
a[b]=c;
this._owner._notifyPropertyChanged("attributes",a);
},_add:function(a,b){if(Array.indexOf(this._keys,a)<0){Array.add(this._keys,a);
}this._data[a]=b;
},removeAttribute:function(a){Array.remove(this._keys,a);
delete this._data[a];
},_load:function(b,e){if(e){for(var a=0,d=b.length;
a<d;
a++){this._add(b[a].Key,b[a].Value);
}}else{for(var c in b){this._add(c,b[c]);
}}},get_count:function(){return this._keys.length;
}};
Telerik.Web.UI.AttributeCollection.registerClass("Telerik.Web.UI.AttributeCollection");
(function(b,c){Type.registerNamespace("Telerik.Web.UI");
var a=Telerik.Web.UI;
Telerik.Web.JavaScriptSerializer={_stringRegEx:new RegExp('["\b\f\n\r\t\\\\\x00-\x1F]',"i"),serialize:function(d){var e=new Telerik.Web.StringBuilder();
Telerik.Web.JavaScriptSerializer._serializeWithBuilder(d,e);
return e.toString();
},_serializeWithBuilder:function(j,m){var e;
switch(typeof j){case"object":if(j){if(j.constructor==Array){m.append("[");
for(e=0;
e<j.length;
++e){if(e>0){m.append(",");
}this._serializeWithBuilder(j[e],m);
}m.append("]");
}else{if(j.constructor==Date){m.append('"\\/Date(');
m.append(j.getTime());
m.append(')\\/"');
break;
}var k=[];
var l=0;
for(var g in j){if(g.startsWith("$")){continue;
}k[l++]=g;
}m.append("{");
var h=false;
for(e=0;
e<l;
e++){var n=j[k[e]];
if(typeof n!=="undefined"&&typeof n!=="function"){if(h){m.append(",");
}else{h=true;
}this._serializeWithBuilder(k[e],m);
m.append(":");
this._serializeWithBuilder(n,m);
}}m.append("}");
}}else{m.append("null");
}break;
case"number":if(isFinite(j)){m.append(String(j));
}else{throw Error.invalidOperation(Sys.Res.cannotSerializeNonFiniteNumbers);
}break;
case"string":m.append('"');
if(Sys.Browser.agent===Sys.Browser.Safari||Telerik.Web.JavaScriptSerializer._stringRegEx.test(j)){var f=j.length;
for(e=0;
e<f;
++e){var d=j.charAt(e);
if(d>=" "){if(d==="\\"||d==='"'){m.append("\\");
}m.append(d);
}else{switch(d){case"\b":m.append("\\b");
break;
case"\f":m.append("\\f");
break;
case"\n":m.append("\\n");
break;
case"\r":m.append("\\r");
break;
case"\t":m.append("\\t");
break;
default:m.append("\\u00");
if(d.charCodeAt()<16){m.append("0");
}m.append(d.charCodeAt().toString(16));
}}}}else{m.append(j);
}m.append('"');
break;
case"boolean":m.append(j.toString());
break;
default:m.append("null");
break;
}}};
a.ChangeLog=function(){this._opCodeInsert=1;
this._opCodeDelete=2;
this._opCodeClear=3;
this._opCodePropertyChanged=4;
this._opCodeReorder=5;
this._logEntries=null;
};
a.ChangeLog.prototype={initialize:function(){this._logEntries=[];
this._serializedEntries=null;
},logInsert:function(d){var e={};
e.Type=this._opCodeInsert;
e.Index=d._getHierarchicalIndex();
e.Data=d._getData();
Array.add(this._logEntries,e);
},logDelete:function(d){var e={};
e.Type=this._opCodeDelete;
e.Index=d._getHierarchicalIndex();
Array.add(this._logEntries,e);
},logClear:function(d){var e={};
e.Type=this._opCodeClear;
if(d._getHierarchicalIndex){e.Index=d._getHierarchicalIndex();
}Array.add(this._logEntries,e);
},logPropertyChanged:function(d,f,g){var e={};
e.Type=this._opCodePropertyChanged;
e.Index=d._getHierarchicalIndex();
e.Data={};
e.Data[f]=g;
Array.add(this._logEntries,e);
},logReorder:function(d,f,e){Array.add(this._logEntries,{Type:this._opCodeReorder,Index:f+"",Data:{NewIndex:e+""}});
},serialize:function(){if(this._logEntries.length==0){if(this._serializedEntries==null){return"[]";
}return this._serializedEntries;
}var d=Telerik.Web.JavaScriptSerializer.serialize(this._logEntries);
if(this._serializedEntries==null){this._serializedEntries=d;
}else{this._serializedEntries=this._serializedEntries.substring(0,this._serializedEntries.length-1)+","+d.substring(1);
}this._logEntries=[];
return this._serializedEntries;
}};
a.ChangeLog.registerClass("Telerik.Web.UI.ChangeLog");
})(window);
Type.registerNamespace("Telerik.Web.UI");
Telerik.Web.UI.PropertyBag=function(a){this._data={};
this._owner=a;
};
Telerik.Web.UI.PropertyBag.prototype={getValue:function(b,a){var c=this._data[b];
if(typeof(c)==="undefined"){return a;
}return c;
},setValue:function(b,c,a){this._data[b]=c;
if(a){this._owner._notifyPropertyChanged(b,c);
}},load:function(a){this._data=a;
}};
Telerik.Web.UI.ControlItem=function(){this._key=null;
this._element=null;
this._parent=null;
this._text=null;
this._children=null;
this._childControlsCreated=false;
this._itemData=null;
this._control=null;
this._properties=new Telerik.Web.UI.PropertyBag(this);
};
Telerik.Web.UI.ControlItem.prototype={_shouldNavigate:function(){var a=this.get_navigateUrl();
if(!a){return false;
}return !a.endsWith("#");
},_getNavigateUrl:function(){if(this.get_linkElement()){return this._properties.getValue("navigateUrl",this.get_linkElement().getAttribute("href",2));
}return this._properties.getValue("navigateUrl",null);
},_initialize:function(b,a){this.set_element(a);
this._properties.load(b);
if(b.attributes){this.get_attributes()._load(b.attributes);
}this._itemData=b.items;
},_dispose:function(){if(this._children){this._children.forEach(function(a){a._dispose();
});
}if(this._element){this._element._item=null;
this._element=null;
}if(this._control){this._control=null;
}},_initializeRenderedItem:function(){var c=this._children;
if(!c||c.get_count()<1){return;
}var a=this._getChildElements();
for(var d=0,e=c.get_count();
d<e;
d++){var b=c.getItem(d);
if(!b.get_element()){b.set_element(a[d]);
if(this._shouldInitializeChild(b)){b._initializeRenderedItem();
}}}},findControl:function(a){return $telerik.findControl(this.get_element(),a);
},get_attributes:function(){if(!this._attributes){this._attributes=new Telerik.Web.UI.AttributeCollection(this);
}return this._attributes;
},get_element:function(){return this._element;
},set_element:function(a){this._element=a;
this._element._item=this;
this._element._itemTypeName=Object.getTypeName(this);
},get_parent:function(){return this._parent;
},set_parent:function(a){this._parent=a;
},get_text:function(){if(this._text!==null){return this._text;
}this._text=this._properties.getValue("text","");
if(this._text){return this._text;
}if(!this.get_element()){return"";
}var a=this.get_textElement();
if(!a){return"";
}if(typeof(a.innerText)!="undefined"){this._text=a.innerText;
}else{this._text=a.textContent;
}if($telerik.isSafari2){this._text=a.innerHTML;
}return this._text;
},set_text:function(a){var b=this.get_textElement();
if(b){b.innerHTML=a;
}this._text=a;
this._properties.setValue("text",a,true);
},get_value:function(){return this._properties.getValue("value",null);
},set_value:function(a){this._properties.setValue("value",a,true);
},get_itemData:function(){return this._itemData;
},get_index:function(){if(!this.get_parent()){return -1;
}return this.get_parent()._getChildren().indexOf(this);
},set_enabled:function(a){this._properties.setValue("enabled",a,true);
},get_enabled:function(){return this._properties.getValue("enabled",true)==true;
},get_isEnabled:function(){var a=this._getControl();
if(a){return a.get_enabled()&&this.get_enabled();
}return this.get_enabled();
},set_visible:function(a){this._properties.setValue("visible",a);
},get_visible:function(){return this._properties.getValue("visible",true);
},get_level:function(){var b=this.get_parent();
var a=0;
while(b){if(Telerik.Web.UI.ControlItemContainer.isInstanceOfType(b)){return a;
}a++;
b=b.get_parent();
}return a;
},get_isLast:function(){return this.get_index()==this.get_parent()._getChildren().get_count()-1;
},get_isFirst:function(){return this.get_index()==0;
},get_nextSibling:function(){if(!this.get_parent()){return null;
}return this.get_parent()._getChildren().getItem(this.get_index()+1);
},get_previousSibling:function(){if(!this.get_parent()){return null;
}return this.get_parent()._getChildren().getItem(this.get_index()-1);
},toJsonString:function(){return Sys.Serialization.JavaScriptSerializer.serialize(this._getData());
},_getHierarchicalIndex:function(){var c=[];
var a=this._getControl();
var b=this;
while(b!=a){c[c.length]=b.get_index();
b=b.get_parent();
}return c.reverse().join(":");
},_getChildren:function(){this._ensureChildControls();
return this._children;
},_ensureChildControls:function(){if(!this._childControlsCreated){this._createChildControls();
this._childControlsCreated=true;
}},_setCssClass:function(b,a){if(b.className!=a){b.className=a;
}},_createChildControls:function(){this._children=this._createItemCollection();
},_createItemCollection:function(){},_getControl:function(){if(!this._control){var a=this.get_parent();
if(a){if(Telerik.Web.UI.ControlItemContainer.isInstanceOfType(a)){this._control=a;
}else{this._control=a._getControl();
}}}return this._control;
},_getAllItems:function(){var a=[];
this._getAllItemsRecursive(a,this);
return a;
},_getAllItemsRecursive:function(e,c){var b=c._getChildren();
for(var d=0;
d<b.get_count();
d++){var a=b.getItem(d);
Array.add(e,a);
this._getAllItemsRecursive(e,a);
}},_getData:function(){var a=this._properties._data;
delete a.items;
a.text=this.get_text();
if(this.get_attributes().get_count()>0){a.attributes=this.get_attributes()._data;
}return a;
},_notifyPropertyChanged:function(b,c){var a=this._getControl();
if(a){a._itemPropertyChanged(this,b,c);
}},_loadFromDictionary:function(a,b){if(typeof(a.Text)!="undefined"){this.set_text(a.Text);
}if(typeof(a.Key)!="undefined"){this.set_text(a.Key);
}if(typeof(a.Value)!="undefined"&&a.Value!==""){this.set_value(a.Value);
}if(typeof(a.Enabled)!="undefined"&&a.Enabled!==true){this.set_enabled(a.Enabled);
}if(a.Attributes){this.get_attributes()._load(a.Attributes,b);
}},_loadFromCustomDictionary:function(b,c){var f=b[c.dataTextField],g=b[c.dataValueField],e=b[c.dataKeyField],d=b[c.Enabled],a=b[c.Attributes];
if(typeof(f)!="undefined"){this.set_text(f);
}if(typeof(g)!="undefined"&&g!==""){this.set_value(g);
}if(typeof(e)!="undefined"){this.set_key(e);
}if(typeof(d)!="undefined"&&d!==true){this.set_enabled(d);
}if(a){this.get_attributes()._load(a,false);
}},_createDomElement:function(){var b=document.createElement("ul");
var a=[];
this._render(a);
b.innerHTML=a.join("");
return b.firstChild;
},get_cssClass:function(){return this._properties.getValue("cssClass","");
},set_cssClass:function(b){var a=this.get_cssClass();
this._properties.setValue("cssClass",b,true);
this._applyCssClass(b,a);
},get_key:function(){return this._properties.getValue("key",null);
},set_key:function(a){this._properties.setValue("key",a,true);
},_applyCssClass:function(){}};
Telerik.Web.UI.ControlItem.registerClass("Telerik.Web.UI.ControlItem");
Type.registerNamespace("Telerik.Web.UI");
Telerik.Web.UI.ControlItemCollection=function(a){this._array=[];
this._parent=a;
this._control=null;
};
Telerik.Web.UI.ControlItemCollection.prototype={add:function(b){var a=this._array.length;
this.insert(a,b);
},insert:function(b,c){var d=c.get_parent();
var a=this._parent._getControl();
if(d){d._getChildren().remove(c);
}if(a){a._childInserting(b,c,this._parent);
}Array.insert(this._array,b,c);
c.set_parent(this._parent);
if(a){a._childInserted(b,c,this._parent);
a._logInserted(c);
}},remove:function(b){var a=this._parent._getControl();
if(a){a._childRemoving(b);
}Array.remove(this._array,b);
if(a){a._childRemoved(b,this._parent);
}b.set_parent(null);
b._control=null;
},removeAt:function(a){var b=this.getItem(a);
if(b){this.remove(b);
}},clear:function(){var a=this._parent._getControl();
if(a){a._logClearing(this._parent);
a._childrenCleared(this._parent);
}this._array=[];
},get_count:function(){return this._array.length;
},getItem:function(a){return this._array[a];
},indexOf:function(b){for(var a=0,c=this._array.length;
a<c;
a++){if(this._array[a]===b){return a;
}}return -1;
},forEach:function(c){for(var b=0,a=this.get_count();
b<a;
b++){c(this._array[b]);
}},toArray:function(){return this._array.slice(0);
}};
Telerik.Web.UI.ControlItemCollection.registerClass("Telerik.Web.UI.ControlItemCollection");
function WebForm_CallbackComplete(){for(var c=0;
c<__pendingCallbacks.length;
c++){var b=__pendingCallbacks[c];
if(b&&b.xmlRequest&&(b.xmlRequest.readyState==4)){__pendingCallbacks[c]=null;
WebForm_ExecuteCallback(b);
if(!b.async){__synchronousCallBackIndex=-1;
}var a="__CALLBACKFRAME"+c;
var d=document.getElementById(a);
if(d){d.parentNode.removeChild(d);
}}}}Type.registerNamespace("Telerik.Web.UI");
(function(a,b){b.ControlItemContainer=function(c){b.ControlItemContainer.initializeBase(this,[c]);
this._childControlsCreated=false;
this._enabled=true;
this._log=new b.ChangeLog();
this._enableClientStatePersistence=false;
this._eventMap=new b.EventMap();
this._attributes=new b.AttributeCollection(this);
this._children=null;
this._odataClientSettings=null;
this._dataTextField="";
this._dataValueField="";
this._clientDataSourceID="";
};
b.ControlItemContainer.prototype={initialize:function(){b.ControlItemContainer.callBaseMethod(this,"initialize");
this._ensureChildControls();
this._log.initialize();
this._initializeEventMap();
if(this.get_isUsingODataSource()){this._initializeODataSourceBinder();
}},dispose:function(){if(this._eventMap){this._eventMap.dispose();
}if(this._childControlsCreated){this._disposeChildren();
}if(this.get_isUsingODataSource()){this._disposeODataSourceBinder();
}b.ControlItemContainer.callBaseMethod(this,"dispose");
},trackChanges:function(){this._enableClientStatePersistence=true;
},set_enabled:function(c){this._enabled=c;
},set_clientDataSource:function(){throw"Not implemented";
},get_enabled:function(){return this._enabled;
},commitChanges:function(){this.updateClientState();
this._enableClientStatePersistence=false;
},get_attributes:function(){return this._attributes;
},set_attributes:function(c){this._attributes._load(c);
},get_isUsingODataSource:function(){return this._odataClientSettings!=null;
},get_odataClientSettings:function(){return this._odataClientSettings;
},set_odataClientSettings:function(c){this._odataClientSettings=c;
},_disposeChildren:function(){var c=this._getChildren();
for(var d=0,e=c.get_count();
d<e;
d++){c.getItem(d)._dispose();
}},_initializeEventMap:function(){this._eventMap.initialize(this);
},_initializeODataSourceBinder:function(){},_disposeODataSourceBinder:function(){},_getChildren:function(){this._ensureChildControls();
return this._children;
},_extractErrorMessage:function(c){if(c.get_message){return c.get_message();
}else{return c.replace(/(\d*\|.*)/,"");
}},_notifyPropertyChanged:function(c,d){},_childInserting:function(c,d,e){},_childInserted:function(c,d,g){if(!g._childControlsCreated){return;
}if(!g.get_element()){return;
}var e=d._createDomElement();
var f=e.parentNode;
this._attachChildItem(d,e,g);
this._destroyDomElement(f);
if(!d.get_element()){d.set_element(e);
d._initializeRenderedItem();
}else{d.set_element(e);
}},_attachChildItem:function(c,d,g){var h=g.get_childListElement();
if(!h){h=g._createChildListElement();
}var e=c.get_nextSibling();
var f=e?e.get_element():null;
g.get_childListElement().insertBefore(d,f);
},_destroyDomElement:function(d){var c="radControlsElementContainer";
var e=$get(c);
if(!e){e=document.createElement("div");
e.id=c;
e.style.display="none";
document.body.appendChild(e);
}e.appendChild(d);
e.innerHTML="";
},_childrenCleared:function(e){for(var d=0;
d<e._getChildren().get_count();
d++){e._getChildren().getItem(d)._dispose();
}var c=e.get_childListElement();
if(c){c.innerHTML="";
}},_childRemoving:function(c){this._logRemoving(c);
},_childRemoved:function(c,d){c._dispose();
},_createChildListElement:function(){throw Error.notImplemented();
},_createDomElement:function(){throw Error.notImplemented();
},_getControl:function(){return this;
},_logInserted:function(e){if(!e.get_parent()._childControlsCreated||!this._enableClientStatePersistence){return;
}this._log.logInsert(e);
var c=e._getAllItems();
for(var d=0;
d<c.length;
d++){this._log.logInsert(c[d]);
}},_logRemoving:function(c){if(this._enableClientStatePersistence){this._log.logDelete(c);
}},_logClearing:function(c){if(this._enableClientStatePersistence){this._log.logClear(c);
}},_itemPropertyChanged:function(c,d,e){if(this._enableClientStatePersistence){this._log.logPropertyChanged(c,d,e);
}},_ensureChildControls:function(){if(!this._childControlsCreated){this._createChildControls();
this._childControlsCreated=true;
}},_createChildControls:function(){throw Error.notImplemented();
},_extractItemFromDomElement:function(c){this._ensureChildControls();
while(c&&c.nodeType!==9){if(c._item&&this._verifyChildType(c._itemTypeName)){return c._item;
}c=c.parentNode;
}return null;
},_verifyChildType:function(c){return c===this._childTypeName;
},_getAllItems:function(){var c=[];
for(var d=0;
d<this._getChildren().get_count();
d++){var e=this._getChildren().getItem(d);
Array.add(c,e);
Array.addRange(c,e._getAllItems());
}return c;
},_findItemByText:function(e){var c=this._getAllItems();
for(var d=0;
d<c.length;
d++){if(c[d].get_text()==e){return c[d];
}}return null;
},_findItemByValue:function(e){var c=this._getAllItems();
for(var d=0;
d<c.length;
d++){if(c[d].get_value()==e){return c[d];
}}return null;
},_findItemByAttribute:function(d,f){var c=this._getAllItems();
for(var e=0;
e<c.length;
e++){if(c[e].get_attributes().getAttribute(d)==f){return c[e];
}}return null;
},_findItemByAbsoluteUrl:function(e){var c=this._getAllItems();
for(var d=0;
d<c.length;
d++){if(c[d].get_linkElement()&&c[d].get_linkElement().href==e){return c[d];
}}return null;
},_findItemByUrl:function(e){var c=this._getAllItems();
for(var d=0;
d<c.length;
d++){if(c[d].get_navigateUrl()==e){return c[d];
}}return null;
},_findItemByHierarchicalIndex:function(g){var e=null;
var c=this;
var h=g.split(":");
for(var f=0;
f<h.length;
f++){var d=parseInt(h[f],10);
if(c._getChildren().get_count()<=d){return null;
}e=c._getChildren().getItem(d);
c=e;
}return e;
}};
b.ControlItemContainer.registerClass("Telerik.Web.UI.ControlItemContainer",b.RadWebControl);
})($telerik.$,Telerik.Web.UI);
(function(a,e){var b=Telerik.Web.UI;
var d=".dropdown";
var c={anchor:null,enableOverlay:false,width:"",height:"",maxWidth:"",maxHeight:"",enableScreenBoundaryDetection:true,enableDirectionDetection:false,rtl:false};
b.DropDown=function(f,g){a.observable(this);
this._options=a.extend({},c,{direction:b.jSlideDirection.Down,expandAnimation:new b.AnimationSettings({}),collapseAnimation:new b.AnimationSettings({})},g);
this._element=f.children[0];
this._animationContainer=f;
if(f){f._dropDown=this;
}};
b.DropDown.prototype={initialize:function(){var f=a(this._element).parents("form").eq(0);
if(!f.length){f=a(this._element).parents("body").eq(0);
}f.prepend(this._animationContainer);
this._initializeSlide();
},_initializeSlide:function(){this._slide=new b.jSlide(this._element,this.get_expandAnimation(),this.get_collapseAnimation(),this._options.enableOverlay);
this._slide.set_direction(this.get_direction());
this._slide.initialize();
this._expandAnimationStartedDelegate=Function.createDelegate(this,this._onExpandAnimationStarted);
this._slide.add_expandAnimationStarted(this._expandAnimationStartedDelegate);
this._expandAnimationEndedDelegate=Function.createDelegate(this,this._onExpandAnimationEnded);
this._slide.add_expandAnimationEnded(this._expandAnimationEndedDelegate);
this._collapseAnimationStartedDelegate=Function.createDelegate(this,this._onCollapseAnimationStarted);
this._slide.add_collapseAnimationStarted(this._collapseAnimationStartedDelegate);
this._collapseAnimationEndedDelegate=Function.createDelegate(this,this._onCollapseAnimationEnded);
this._slide.add_collapseAnimationEnded(this._collapseAnimationEndedDelegate);
},dispose:function(){this._unbindParentsScroll();
this.disposeObservable();
this._disposeSlide();
var f=Sys.WebForms?Sys.WebForms.PageRequestManager.getInstance().get_isInAsyncPostBack():false;
if(f){$telerik.disposeElement(this._animationContainer);
}a(this._animationContainer).remove();
this._animationContainer=null;
this._element=null;
},_disposeSlide:function(){if(this._expandAnimationStartedDelegate){if(this._slide){this._slide.remove_expandAnimationStarted(this._expandAnimationStartedDelegate);
}this._expandAnimationStartedDelegate=null;
}if(this._expandAnimationEndedDelegate){if(this._slide){this._slide.remove_expandAnimationEnded(this._expandAnimationEndedDelegate);
}this._expandAnimationEndedDelegate=null;
}if(this._collapseAnimationStartedDelegate){if(this._slide){this._slide.remove_collapseAnimationStarted(this._collapseAnimationStartedDelegate);
}this._collapseAnimationStartedDelegate=null;
}if(this._collapseAnimationEndedDelegate){if(this._slide){this._slide.remove_collapseAnimationEnded(this._collapseAnimationEndedDelegate);
}this._collapseAnimationEndedDelegate=null;
}if(this._slide){this._slide.dispose();
this._slide=null;
}},get_anchor:function(){return this._options.anchor;
},set_anchor:function(f){this._options.anchor=f;
},get_direction:function(){return this._options.direction;
},set_direction:function(f){this._options.direction=f;
this._slide._direction=f;
},get_expandAnimation:function(){return this._options.expandAnimation;
},set_expandAnimation:function(f){this._options.expandAnimation=f;
this._slide._expandAnimation=f;
},get_collapseAnimation:function(){return this._options.collapseAnimation;
},set_collapseAnimation:function(f){this._options.collapseAnimation=f;
this._slide._collapseAnimation=f;
},get_width:function(){return this._options.width;
},set_width:function(f){this._options.width=f;
},get_height:function(){return this._options.height;
},set_height:function(f){this._options.height=f;
},get_maxWidth:function(){return this._options.maxWidth;
},set_maxWidth:function(f){this._options.maxWidth=f;
},get_maxHeight:function(){return this._options.maxHeight;
},set_maxHeight:function(f){this._options.maxHeight=f;
},get_enableScreenBoundaryDetection:function(){return this._options.enableScreenBoundaryDetection;
},set_enableScreenBoundaryDetection:function(f){this._options.enableScreenBoundaryDetection=f;
},get_enableDirectionDetection:function(){return this._options.enableDirectionDetection;
},set_enableDirectionDetection:function(f){this._options.enableDirectionDetection=f;
},_onExpandAnimationStarted:function(){this.trigger("expandAnimationStarted",new Sys.EventArgs());
},_onExpandAnimationEnded:function(){this.trigger("expandAnimationEnded",new Sys.EventArgs());
},_onCollapseAnimationStarted:function(){this.trigger("collapseAnimationStarted",new Sys.EventArgs());
},_onCollapseAnimationEnded:function(){this.trigger("collapseAnimationEnded",new Sys.EventArgs());
},show:function(f){if(this.isVisible()){return;
}var g=new Sys.CancelEventArgs();
this.trigger("opening",g);
if(!g.get_cancel()){f=f||this.get_anchor();
this.reflow(f);
this._slide.expand();
this._bindParentsScroll();
this._bindWindowResize(f);
this.trigger("opened",new Sys.EventArgs());
}},hide:function(){if(!this.isVisible()){return;
}var f=new Sys.CancelEventArgs();
this.trigger("closing",f);
if(!f.get_cancel()){this._slide.collapse();
this._unbindParentsScroll();
this._unbindWindowResize();
this.trigger("closed",new Sys.EventArgs());
}},toggle:function(f){if(this.isVisible()){this.hide();
}else{this.show(f);
}},isVisible:function(){return a(this._animationContainer).is(":visible");
},updateSize:function(g){var f=a(g);
var i=this.get_width();
var h=this.get_height();
if(i==="auto"){i=f.outerWidth();
}if(h==="auto"){h=f.outerHeight();
}this._setDimensions({width:i,height:h});
this._checkMaxDimensions();
},resolveScreenBoundaries:function(){if(this.get_enableScreenBoundaryDetection()){var f=this._options.enableDirectionDetection;
var i=this.get_direction();
var g=this._getAvailableSpace();
var j=this._getHiddenElementSize(this._animationContainer);
var n;
var k;
var m=this.get_maxWidth();
var l=this.get_maxHeight();
var h={};
switch(i){case b.jSlideDirection.Up:if(j.height>g.top){if(f&&g.bottom>0&&g.bottom>g.top){i=b.jSlideDirection.Down;
k=Math.min(j.height,g.bottom);
}else{k=g.top;
}}break;
case b.jSlideDirection.Down:if(j.height>g.bottom){if(f&&g.top>0&&g.top>g.bottom){i=b.jSlideDirection.Up;
k=Math.min(j.height,g.top);
}else{k=g.bottom;
}}break;
case b.jSlideDirection.Left:if(j.width>g.left){if(f&&g.right>0&&g.right>g.left){i=b.jSlideDirection.Right;
n=Math.min(j.width,g.right);
}else{n=g.left;
}}break;
case b.jSlideDirection.Right:if(j.width>g.right){if(f&&g.left>0&&g.left>g.right){i=b.jSlideDirection.Left;
n=Math.min(j.width,g.left);
}else{n=g.right;
}}break;
}if(n&&n>0){if(m){n=Math.min(n,m);
}h.width=n;
}else{if(k&&k>0){if(l){k=Math.min(k,l);
}h.height=k;
}}this._setDimensions(h);
this._slide._direction=i;
}},position:function(g){var f=a(g||this.get_anchor());
var h=this._animationContainer;
var l=f.offset();
var j=this._getHiddenElementSize(h);
var m=this._getHiddenElementOffsetParent(h)||document.body;
var n=a(m).offset();
var o=l.top;
var k=l.left;
var i=$telerik.getComputedStyle(document.body,"position",null);
switch(this._slide._direction){case b.jSlideDirection.Up:o-=j.height;
break;
case b.jSlideDirection.Down:o+=f.outerHeight();
break;
case b.jSlideDirection.Left:k-=j.width;
break;
case b.jSlideDirection.Right:k+=f.outerWidth();
break;
}if(m!==document.body||i==="relative"||i==="absolute"){o-=n.top;
k-=n.left;
}if(this._options.rtl){k-=j.width-f.width();
}a(h).css({top:o+"px",left:k+"px"});
},reflow:function(f){var g=new Sys.CancelEventArgs();
f=f||this.get_anchor();
this.trigger("reflowing",g);
if(!g.get_cancel()){this.updateSize(f);
this.resolveScreenBoundaries();
this.position(f);
this.trigger("reflowed",new Sys.EventArgs());
}},_setDimensions:function(h){var f=a(this._animationContainer);
var g=a(this._element);
if(h.width!==e){f.width(h.width);
g.outerWidth(h.width);
}if(h.height!==e){f.height(h.height);
g.outerHeight(h.height);
}},_checkMaxDimensions:function(){var h=this.get_maxWidth();
var g=this.get_maxHeight();
var f;
if(h||g){f=this._getHiddenElementSize(this._animationContainer);
if(h&&h<f.width){this._setDimensions({width:h});
}if(g&&g<f.height){this._setDimensions({height:g});
}}},_bindParentsScroll:function(){var g=this;
var f=this._getScrollableParents();
f.on("scroll"+d,function(){g.hide();
});
},_unbindParentsScroll:function(){var f=this._getScrollableParents();
f.off("scroll"+d);
},_getScrollableParents:function(){return a(this.get_anchor()).parentsUntil("body").filter(function(g,f){var h=$telerik.getComputedStyle(f,"overflow",null);
return h!=="visible";
});
},_bindWindowResize:function(f){var g=this;
a(window).on("resize"+d,function(){g.reflow(f);
});
if($telerik.isTouchDevice){a(window).on("scroll"+d,function(h){g.reflow(f);
});
}},_unbindWindowResize:function(){a(window).off("resize"+d).off("scroll"+d);
},_getAvailableSpace:function(){var f=a(this.get_anchor());
var g=a(document);
var h=a(window);
var i=f.offset();
var m=i.top-g.scrollTop();
var j=h.outerHeight()-m-f.outerHeight();
var k=i.left-g.scrollLeft();
var l=h.outerWidth()-k-f.outerWidth();
return{top:m,bottom:j,left:k,right:l};
},_getHiddenElementSize:function(f){var g;
this._withHiddenElement(f,function(h){g={width:f.offsetWidth,height:f.offsetHeight};
});
return g;
},_getHiddenElementOffsetParent:function(f){var g;
this._withHiddenElement(f,function(h){g=h.offsetParent;
});
return g;
},_withHiddenElement:function(g,f){var h=g.style.display;
var i=g.style.visibility;
g.style.visibility="hidden";
g.style.display="block";
f(g);
g.style.visibility=i;
g.style.display=h;
}};
b.DropDown.registerClass("Telerik.Web.UI.DropDown");
})($telerik.$);
Type.registerNamespace("Telerik.Web.UI");
Telerik.Web.UI.EventMap=function(){this._owner=null;
this._element=null;
this._eventMap={};
this._onDomEventDelegate=null;
this._browserHandlers={};
this._externalHandlers={};
};
Telerik.Web.UI.EventMap.prototype={initialize:function(b,a){this._owner=b;
if(!a){a=this._owner.get_element();
}this._element=a;
},skipElement:function(b,c){var f=b.target;
if(f.nodeType==3){return false;
}var d=f.tagName.toLowerCase();
var a=f.className;
if(d=="select"){return true;
}if(d=="option"){return true;
}if(d=="a"&&(!c||a.indexOf(c)<0)){return true;
}if(d=="input"){return true;
}if(d=="label"){return true;
}if(d=="textarea"){return true;
}if(d=="button"){return true;
}return false;
},dispose:function(){if(this._onDomEventDelegate){for(var d in this._eventMap){if(this._shouldUseEventCapture(d)){var a=this._browserHandlers[d];
this._element.removeEventListener(d,a,true);
}else{$telerik.removeHandler(this._element,d,this._onDomEventDelegate);
}var f=this._externalHandlers[d];
if(f){$telerik.removeExternalHandler(this._element,d,f);
}}this._onDomEventDelegate=null;
var b=true;
if(this._element._events){for(var c in this._element._events){if(this._element._events[c].length>0){b=false;
break;
}}if(b){this._element._events=null;
}}}},addHandlerForClassName:function(f,b,h,j){var i=this;
if(typeof(this._eventMap[f])=="undefined"){this._eventMap[f]={};
if(this._shouldUseEventCapture(f)){var c=this._getDomEventDelegate();
var d=this._element;
var a=function(k){return c.call(d,new Sys.UI.DomEvent(k));
};
this._browserHandlers[f]=a;
d.addEventListener(f,a,true);
}else{if(!!j){var g=function(k){i._onDomEvent(new Sys.UI.DomEvent(k));
};
$telerik.addExternalHandler(this._element,f,g);
this._externalHandlers[f]=g;
}else{$telerik.addHandler(this._element,f,this._getDomEventDelegate());
}}}var e=this._eventMap[f];
e[b]=h;
},addHandlerForClassNames:function(b,a,c,e){if(!(a instanceof Array)){a=a.split(/[,\s]+/g);
}for(var d=0;
d<a.length;
d++){this.addHandlerForClassName(b,a[d],c,e);
}},_onDomEvent:function(d){var c=this._eventMap[d.type];
if(!c){return;
}var h=d.target;
while(h&&h.nodeType!==9){var a=h.className;
if(!a){h=h.parentNode;
continue;
}var g=(typeof a=="string")?a.split(" "):[];
var b=null;
for(var f=0;
f<g.length;
f++){b=c[g[f]];
if(b){break;
}}if(b){this._fillEventFields(d,h);
if(b.call(this._owner,d)!=true){if(!h.parentNode){d.stopPropagation();
}return;
}}if(h==this._element){return;
}h=h.parentNode;
}},_fillEventFields:function(b,a){b.eventMapTarget=a;
if(b.rawEvent.relatedTarget){b.eventMapRelatedTarget=b.rawEvent.relatedTarget;
}else{if(b.type=="mouseover"){b.eventMapRelatedTarget=b.rawEvent.fromElement;
}else{b.eventMapRelatedTarget=b.rawEvent.toElement;
}}if(!b.eventMapRelatedTarget){return;
}try{b.eventMapRelatedTarget.className;
}catch(c){b.eventMapRelatedTarget=this._element;
}},_shouldUseEventCapture:function(a){return(a=="blur"||a=="focus")&&!$telerik.isIE;
},_getDomEventDelegate:function(){if(!this._onDomEventDelegate){this._onDomEventDelegate=Function.createDelegate(this,this._onDomEvent);
}return this._onDomEventDelegate;
}};
Telerik.Web.UI.EventMap.registerClass("Telerik.Web.UI.EventMap");
(function(a,b){Type.registerNamespace("Telerik.Web.UI");
Telerik.Web.UI.AnimationType=function(){};
Telerik.Web.UI.AnimationType.toEasing=function(c){return"ease"+Telerik.Web.UI.AnimationType.toString(c);
};
Telerik.Web.UI.AnimationType.prototype={None:0,Linear:1,InQuad:2,OutQuad:3,InOutQuad:4,InCubic:5,OutCubic:6,InOutCubic:7,InQuart:8,OutQuart:9,InOutQuart:10,InQuint:11,OutQuint:12,InOutQuint:13,InSine:14,OutSine:15,InOutSine:16,InExpo:17,OutExpo:18,InOutExpo:19,InBack:20,OutBack:21,InOutBack:22,InBounce:23,OutBounce:24,InOutBounce:25,InElastic:26,OutElastic:27,InOutElastic:28};
Telerik.Web.UI.AnimationType.registerEnum("Telerik.Web.UI.AnimationType");
Telerik.Web.UI.AnimationSettings=function(c){this._type=Telerik.Web.UI.AnimationType.OutQuart;
this._duration=300;
if(typeof(c.type)!="undefined"){this._type=c.type;
}if(typeof(c.duration)!="undefined"){this._duration=c.duration;
}};
Telerik.Web.UI.AnimationSettings.prototype={get_type:function(){return this._type;
},set_type:function(c){this._type=c;
},get_duration:function(){return this._duration;
},set_duration:function(c){this._duration=c;
}};
Telerik.Web.UI.AnimationSettings.registerClass("Telerik.Web.UI.AnimationSettings");
Telerik.Web.UI.jSlideDirection=function(){};
Telerik.Web.UI.jSlideDirection.prototype={Up:1,Down:2,Left:3,Right:4};
Telerik.Web.UI.jSlideDirection.registerEnum("Telerik.Web.UI.jSlideDirection");
Telerik.Web.UI.jSlide=function(c,f,d,e){this._animatedElement=c;
this._element=c.parentNode;
this._expandAnimation=f;
this._collapseAnimation=d;
this._direction=Telerik.Web.UI.jSlideDirection.Down;
this._expanding=null;
if(e==null){this._enableOverlay=true;
}else{this._enableOverlay=e;
}this._events=null;
this._overlay=null;
this._animationEndedDelegate=null;
};
Telerik.Web.UI.jSlide.prototype={initialize:function(){if(Telerik.Web.UI.Overlay.IsSupported()&&this._enableOverlay){var c=this.get_animatedElement();
this._overlay=new Telerik.Web.UI.Overlay(c);
this._overlay.initialize();
}this._animationEndedDelegate=Function.createDelegate(this,this._animationEnded);
},dispose:function(){this._animatedElement=null;
this._events=null;
if(this._overlay){this._overlay.dispose();
this._overlay=null;
}this._animationEndedDelegate=null;
this._element=null;
this._expandAnimation=null;
this._collapseAnimation=null;
},get_element:function(){return this._element;
},get_animatedElement:function(){return this._animatedElement;
},set_animatedElement:function(c){this._animatedElement=c;
if(this._overlay){this._overlay.set_targetElement(this._animatedElement);
}},get_direction:function(){return this._direction;
},set_direction:function(c){this._direction=c;
},get_events:function(){if(!this._events){this._events=new Sys.EventHandlerList();
}return this._events;
},updateSize:function(){var c=this.get_animatedElement();
var d=this.get_element();
var g=0;
if(c.style.top){g=Math.max(parseInt(c.style.top,10),0);
}var f=0;
if(c.style.left){f=Math.max(parseInt(c.style.left,10),0);
}var e=c.offsetHeight+g;
if(d.style.height!=e+"px"){d.style.height=Math.max(e,0)+"px";
}var h=c.offsetWidth+f;
if(d.style.width!=h+"px"){d.style.width=Math.max(h,0)+"px";
}if(this._overlay){this._updateOverlay();
}},show:function(){this._showElement();
},expand:function(){this._expanding=true;
this._resetState(true);
var d=null;
var c=null;
switch(this.get_direction()){case Telerik.Web.UI.jSlideDirection.Up:case Telerik.Web.UI.jSlideDirection.Left:d=parseInt(this._getSize(),10);
c=0;
break;
case Telerik.Web.UI.jSlideDirection.Down:case Telerik.Web.UI.jSlideDirection.Right:d=parseInt(this._getPosition(),10);
c=0;
break;
}this._expandAnimationStarted();
if((d==c)||(this._expandAnimation.get_type()==Telerik.Web.UI.AnimationType.None)){this._setPosition(c);
this.get_animatedElement().style.visibility="visible";
this._animationEnded();
}else{this._playAnimation(this._expandAnimation,c);
}},collapse:function(){this._resetState();
this._expanding=false;
var f=null;
var c=null;
var e=parseInt(this._getSize(),10);
var d=parseInt(this._getPosition(),10);
switch(this.get_direction()){case Telerik.Web.UI.jSlideDirection.Up:case Telerik.Web.UI.jSlideDirection.Left:f=0;
c=e;
break;
case Telerik.Web.UI.jSlideDirection.Down:case Telerik.Web.UI.jSlideDirection.Right:f=0;
c=d-e;
break;
}this._collapseAnimationStarted();
if((f==c)||(this._collapseAnimation.get_type()==Telerik.Web.UI.AnimationType.None)){this._setPosition(c);
this._animationEnded();
}else{this._playAnimation(this._collapseAnimation,c);
}},add_collapseAnimationStarted:function(c){this.get_events().addHandler("collapseAnimationStarted",c);
},remove_collapseAnimationStarted:function(c){this.get_events().removeHandler("collapseAnimationStarted",c);
},add_collapseAnimationEnded:function(c){this.get_events().addHandler("collapseAnimationEnded",c);
},remove_collapseAnimationEnded:function(c){this.get_events().removeHandler("collapseAnimationEnded",c);
},add_expandAnimationStarted:function(c){this.get_events().addHandler("expandAnimationStarted",c);
},remove_expandAnimationStarted:function(c){this.get_events().removeHandler("expandAnimationStarted",c);
},add_expandAnimationEnded:function(c){this.get_events().addHandler("expandAnimationEnded",c);
},remove_expandAnimationEnded:function(c){this.get_events().removeHandler("expandAnimationEnded",c);
},_playAnimation:function(d,f){this.get_animatedElement().style.visibility="visible";
var h=this._getAnimationQuery();
var c=this._getAnimatedStyleProperty();
var g={};
g[c]=f;
var e=d.get_duration();
$telerik.stopTransition(h,false);
$telerik.transition(h,g,e,Telerik.Web.UI.AnimationType.toEasing(d.get_type()),this._animationEndedDelegate);
},_stopAnimation:function(){$telerik.stopTransition(this._getAnimationQuery(),false,true);
},_expandAnimationStarted:function(){this._raiseEvent("expandAnimationStarted",Sys.EventArgs.Empty);
},_collapseAnimationStarted:function(){this._raiseEvent("collapseAnimationStarted",Sys.EventArgs.Empty);
},_animationEnded:function(){if(this._expanding){if(this._element){this._element.style.overflow="visible";
}this._raiseEvent("expandAnimationEnded",Sys.EventArgs.Empty);
}else{if(this._element){this._element.style.display="none";
}this._raiseEvent("collapseAnimationEnded",Sys.EventArgs.Empty);
}if(this._overlay){this._updateOverlay();
}},_updateOverlay:function(){this._overlay.updatePosition();
},_showElement:function(){var c=this.get_animatedElement();
var d=this.get_element();
if(!d){return;
}if(!d.style){return;
}d.style.display=(d.tagName.toUpperCase()!="TABLE")?"block":"";
c.style.display=(c.tagName.toUpperCase()!="TABLE")?"block":"";
d.style.overflow="hidden";
},_resetState:function(d){this._stopAnimation();
this._showElement();
if(d){var c=this.get_animatedElement();
switch(this.get_direction()){case Telerik.Web.UI.jSlideDirection.Up:c.style.top=c.offsetHeight+"px";
break;
case Telerik.Web.UI.jSlideDirection.Down:c.style.top=-c.offsetHeight+"px";
break;
case Telerik.Web.UI.jSlideDirection.Left:c.style.left=c.offsetWidth+"px";
break;
case Telerik.Web.UI.jSlideDirection.Right:c.style.left=-c.offsetWidth+"px";
break;
default:Error.argumentOutOfRange("direction",this.get_direction(),"Slide direction is invalid. Use one of the values in the Telerik.Web.UI.SlideDirection enumeration.");
break;
}}},_getAnimationQuery:function(){var c=[this.get_animatedElement()];
if(this._enableOverlay&&this._overlay){c[c.length]=this._overlay.get_element();
}return a(c);
},_getSize:function(){var c=this.get_animatedElement();
switch(this.get_direction()){case Telerik.Web.UI.jSlideDirection.Up:case Telerik.Web.UI.jSlideDirection.Down:return c.offsetHeight;
case Telerik.Web.UI.jSlideDirection.Left:case Telerik.Web.UI.jSlideDirection.Right:return c.offsetWidth;
default:return 0;
}},_setPosition:function(e){var c=this.get_animatedElement();
var d=this._getAnimatedStyleProperty();
c.style[d]=e;
},_getPosition:function(){var c=this.get_animatedElement();
var d=this._getAnimatedStyleProperty();
return c.style[d]||0;
},_getAnimatedStyleProperty:function(){switch(this.get_direction()){case Telerik.Web.UI.jSlideDirection.Up:case Telerik.Web.UI.jSlideDirection.Down:return"top";
case Telerik.Web.UI.jSlideDirection.Left:case Telerik.Web.UI.jSlideDirection.Right:return"left";
}},_raiseEvent:function(d,c){var e=this.get_events().getHandler(d);
if(e){if(!c){c=Sys.EventArgs.Empty;
}e(this,c);
}}};
Telerik.Web.UI.jSlide.registerClass("Telerik.Web.UI.jSlide",null,Sys.IDisposable);
})($telerik.$);
(function(a){a.TemplateRenderer={renderTemplate:function(c,b,h){var i=this._getTemplateFunction(b,h),g;
if(!i){return null;
}try{g=i(c);
}catch(d){throw Error.invalidOperation(String.format("Error rendering template: {0}",d.message));
}if(b&&b.raiseEvent){var f=new a.RadTemplateBoundEventArgs(c,i,g);
b.raiseEvent("templateDataBound",f);
g=f.get_html();
}return g;
},_getTemplateFunction:function(c,f){var g;
if(f&&f.get_clientTemplate){g=f.get_clientTemplate();
}if(!g&&c){g=c.get_clientTemplate();
}if(!g){return null;
}if(c){if(!c._templateCache){c._templateCache={};
}var b=c._templateCache[g];
if(b){return b;
}}var h;
try{h=a.Template.compile(g);
}catch(d){throw Error.invalidOperation(String.format("Error creating template: {0}",d.message));
}if(c){c._templateCache[g]=h;
}return h;
}};
})(Telerik.Web.UI);

/* END Telerik.Web.UI.Common.Navigation.NavigationScripts.js */
/* START Telerik.Web.UI.ToolBar.RadToolBarScripts.js */
Telerik.Web.UI.RadToolBarEventArgs=function(b,a){Telerik.Web.UI.RadToolBarEventArgs.initializeBase(this);
this._item=b;
this._domEvent=a;
};
Telerik.Web.UI.RadToolBarEventArgs.prototype={get_item:function(){return this._item;
},get_domEvent:function(){return this._domEvent;
}};
Telerik.Web.UI.RadToolBarEventArgs.registerClass("Telerik.Web.UI.RadToolBarEventArgs",Sys.EventArgs);
Telerik.Web.UI.RadToolBarCancelEventArgs=function(b,a){Telerik.Web.UI.RadToolBarCancelEventArgs.initializeBase(this);
this._item=b;
this._domEvent=a;
};
Telerik.Web.UI.RadToolBarCancelEventArgs.prototype={get_item:function(){return this._item;
},get_domEvent:function(){return this._domEvent;
}};
Telerik.Web.UI.RadToolBarCancelEventArgs.registerClass("Telerik.Web.UI.RadToolBarCancelEventArgs",Sys.CancelEventArgs);
(function(){var a=$telerik.$,b=Telerik.Web.UI,c=$telerik.isTouchDevice?"touchstart":"mousedown",d=$telerik.isTouchDevice?"touchend":"mouseup";
a.registerEnum(b,"ToolBarSingleClick",{None:0,Button:1,ToolBar:2});
Type.registerNamespace("Telerik.Web.UI");
$telerik.findToolBar=$find;
$telerik.toToolBar=function(e){return e;
};
b.RadToolBar=function(e){Telerik.Web.UI.RadToolBar.initializeBase(this,[e]);
this._childTypeNames=["Telerik.Web.UI.RadToolBarButton","Telerik.Web.UI.RadToolBarDropDown","Telerik.Web.UI.RadToolBarSplitButton"];
this._properties=new Telerik.Web.UI.PropertyBag(this);
this._itemData=null;
this._childListElement=null;
this._outerContainer=null;
this._middleContainer=null;
this._innerContainer=null;
this._skin=null;
this._logEntriesJson="[]";
this._slideDirection=Telerik.Web.UI.jSlideDirection.Down;
this._expandAnimation=new Telerik.Web.UI.AnimationSettings({});
this._collapseAnimation=new Telerik.Web.UI.AnimationSettings({});
this._rawPostBackReference=null;
this._postBackReference=null;
this._activeDropDownItem=null;
this._focusedItem=null;
this._isRightToLeft=null;
this._simplePostBack=false;
this._isInPostBack=false;
this._singleClick=b.ToolBarSingleClick.None;
this._enableRoundedCorners=false;
this._enableShadows=false;
this._enableImageSprites=false;
this._cssClass="";
};
b.RadToolBar._createChildControls=function(k,f){var j=k.get_itemData();
if(!j||j.length===0){return;
}var e=$telerik.getChildrenByTagName(k.get_childListElement(),"li");
for(var g=0;
g<j.length;
g++){var h=Telerik.Web.UI.RadToolBar._createItem(j[g]);
f.add(h);
h._initialize(j[g],e[g]);
}};
b.RadToolBar._createItem=function(e){switch(e.type){case Telerik.Web.UI.RadToolBarItemType.DropDown:return new Telerik.Web.UI.RadToolBarDropDown();
case Telerik.Web.UI.RadToolBarItemType.SplitButton:return new Telerik.Web.UI.RadToolBarSplitButton();
default:return new Telerik.Web.UI.RadToolBarButton();
}};
b.RadToolBar._removeChildListCorners=function(e){a(".rtbTopRight, .rtbBottomLeft, .rtbBottomRight, .rtbTopFix, .rtbBottomFix",e.get_scrollWrapElement()).remove();
e._roundedCornersRendered=false;
e._shadowsRendered=false;
};
b.RadToolBar._renderCornerElements=function(g,f){var e='<div class="rtbTopRight"></div><div class="rtbBottomLeft"></div><div class="rtbBottomRight"></div><div class="rtbTopFix"></div><div class="rtbBottomFix"></div>';
if(f){e='<div class="rtbTopRight rtbTopShadowRight"></div><div class="rtbBottomLeft rtbBottomShadowLeft"></div><div class="rtbBottomRight rtbBottomShadowRight"></div>';
}a(g.get_scrollWrapElement()).prepend(e);
};
b.RadToolBar._ensureCorners=function(f,e){if($telerik.isIE6||$telerik.quirksMode){if(f.get_enableRoundedCorners()||f.get_enableShadows()){setTimeout(function(){var j=e.get_scrollWrapElement();
var g=a(j);
j.style.cssText=j.style.cssText;
var i=g.innerWidth()-4;
var h=g.innerHeight();
a("> .rtbTopRight",g).height(h);
a("> .rtbTopFix, > .rtbBottomFix",g).width(i);
a("> .rtbBottomRight, > .rtbBottomLeft",g).add(g).each(function(){this.style.cssText=this.style.cssText;
});
a("> .rtbBottomShadowLeft",g).width(g.innerWidth()-4);
},0);
}}};
b.RadToolBar.prototype={initialize:function(){Telerik.Web.UI.RadToolBar.callBaseMethod(this,"initialize");
if(this._requiresRtl()){this._applyRtl();
}this._eventMap.addHandlerForClassName("click","rtbChoiceArrow",this._onDropDownArrowClick);
this._eventMap.addHandlerForClassName("click","rtbItem",this._onItemClick);
this._eventMap.addHandlerForClassName("mouseover","rtbItem",this._onItemMouseOver);
this._eventMap.addHandlerForClassName("mouseout","rtbItem",this._onItemMouseOut);
this._eventMap.addHandlerForClassName("blur","rtbItem",this._onItemBlur);
this._eventMap.addHandlerForClassName("deactivate","rtbItem",this._onItemBlur);
this._eventMap.addHandlerForClassName("focus","rtbItem",this._onItemFocus);
this._eventMap.addHandlerForClassName("activate","rtbItem",this._onItemActivate);
this._eventMap.addHandlerForClassName("keydown","rtbItem",this._onItemKeyDown);
this._eventMap.addHandlerForClassName(c,"rtbItem",this._onItemMouseDown);
this._eventMap.addHandlerForClassName(d,"rtbItem",this._onItemMouseUp);
var e=$telerik.isOpera&&!("oncontextmenu" in document.documentElement)?"mousedown":"contextmenu";
this._eventMap.addHandlerForClassName(e,"rtbItem",this._onItemContextMenu);
this._documentMouseDownHandler=Function.createDelegate(this,this._documentMouseDown);
if($telerik.isIE6){document.attachEvent("onmousedown",this._documentMouseDownHandler);
}else{$telerik.addHandler(document,c,this._documentMouseDownHandler);
}this.raiseEvent("load");
},dispose:function(){this.attachDropDowns();
if($telerik.isIE6){document.detachEvent("onmousedown",this._documentMouseDownHandler);
}else{$telerik.removeHandler(document,c,this._documentMouseDownHandler);
}this._documentMouseDownHandler=null;
Telerik.Web.UI.RadToolBar.callBaseMethod(this,"dispose");
},_childInserting:function(e,f,g){Telerik.Web.UI.RadToolBar.callBaseMethod(this,"_childInserting",[e,f,g]);
if(f._isCheckable()&&f.get_isChecked()&&!this._uncheckSameGroupButtons(f)){f._setChecked(false);
}},_childInserted:function(e,f,g){this._allItems=null;
if(this._childControlsCreated&&g!=this&&g._isDropDownItem()&&g._buttonInserted){g._buttonInserted(f);
}if(this._focusedItem!==null&&f.get_focused()){this._focusedItem.blur();
f.focus();
}Telerik.Web.UI.RadToolBar.callBaseMethod(this,"_childInserted",[e,f,g]);
},_childRemoved:function(e,f){this._allItems=null;
if(this._childControlsCreated&&f!=this&&f._isDropDownItem()&&f._buttonRemoved){f._buttonRemoved(e);
}if(this._focusedItem==e){this._focusedItem=null;
}Telerik.Web.UI.RadToolBar.callBaseMethod(this,"_childRemoved",[e,f]);
},_createChildControls:function(){this._children=new Telerik.Web.UI.RadToolBarItemCollection(this);
Telerik.Web.UI.RadToolBar._createChildControls(this,this._children);
},_getOuterContainer:function(){if(this._outerContainer===null){this._outerContainer=$telerik.getFirstChildByTagName(this.get_element(),"div",0);
}return this._outerContainer;
},_getMiddleContainer:function(){if(this._middleContainer===null){this._middleContainer=$telerik.getFirstChildByTagName(this._getOuterContainer(),"div",0);
}return this._middleContainer;
},_getInnerContainer:function(){if(this._innerContainer===null){this._innerContainer=$telerik.getFirstChildByTagName(this._getMiddleContainer(),"div",0);
}return this._innerContainer;
},_childRemoving:function(e){e._cleanElements();
Telerik.Web.UI.RadToolBar.callBaseMethod(this,"_childRemoving",[e]);
},_verifyChildType:function(e){return Array.contains(this._childTypeNames,e);
},_destroyChildListElement:function(){this._destroyChildren(this);
},_createChildListElement:function(){var e=document.createElement("ul");
e.className="rtbUL";
this._getInnerContainer().appendChild(e);
},_destroyChildren:function(e){if(e.get_childListElement()&&e.get_childListElement().parentNode){e.get_childListElement().parentNode.removeChild(e.get_childListElement());
e._childListElement=null;
}},_childrenCleared:function(e){this._allItems=null;
e._destroyChildListElement();
Telerik.Web.UI.RadToolBar.callBaseMethod(this,"_childrenCleared",[e]);
},_onDropDownArrowClick:function(f){return this._onItemEvent(f,"_onDropDownArrowClick");
},_onItemClick:function(f){if(this._eventMap.skipElement(f,"rtbWrap")){return;
}var g=this._extractItemFromDomElement(f.eventMapTarget);
var h=this._onItemEvent(f,"_onClick");
if(!g.get_isEnabled()){f.preventDefault();
}return h;
},_onItemMouseOver:function(f){return this._onItemEvent(f,"_onMouseOver");
},_onItemMouseOut:function(f){return this._onItemEvent(f,"_onMouseOut");
},_onItemContextMenu:function(f){return this._onItemEvent(f,"_onContextMenu");
},_onItemBlur:function(f){return this._onItemEvent(f,"_onBlur");
},_onItemFocus:function(f){return this._onItemEvent(f,"_onFocus");
},_onItemActivate:function(f){return this._onItemEvent(f,"_onActivate");
},_onItemKeyDown:function(f){return this._onItemEvent(f,"_onKeyDown");
},_onItemMouseDown:function(f){return this._onItemEvent(f,"_onMouseDown");
},_onItemMouseUp:function(f){return this._onItemEvent(f,"_onMouseUp");
},_onItemEvent:function(f,h){var i=f.eventMapTarget||f.target||f.srcElement;
var g=this._extractItemFromDomElement(i);
if(!g.get_isEnabled()){return true;
}if(g[h]&&g[h](f)){f.preventDefault();
return false;
}return true;
},_documentMouseDown:function(f){if(this._shouldHideActiveDropDown(f)){this._hideActiveDropDownItem(f);
}},_requiresRtl:function(){var e=this.get_element();
if(e.className.indexOf("RadToolBar_rtl")>-1){this._isRightToLeft=true;
return this._isRightToLeft;
}this._isRightToLeft=$telerik.getCurrentStyle(e,"direction","ltr")=="rtl";
return this._isRightToLeft;
},_isRtl:function(){if(this._isRightToLeft===null){if(this._requiresRtl()){this._applyRtl();
}}return this._isRightToLeft;
},_applyRtl:function(){$telerik.addCssClasses(this.get_element(),["RadToolBar_rtl",String.format("RadToolBar_{0}_rtl",this.get_skin())]);
},_shouldHideActiveDropDown:function(f){if(!this._activeDropDownItem){return false;
}if($telerik.isDescendant(this._activeDropDownItem.get_dropDownElement(),f.target||f.srcElement)){return false;
}if($telerik.isDescendant(this._activeDropDownItem.get_animationContainer(),f.target||f.srcElement)){return false;
}if($telerik.isDescendant(this._activeDropDownItem.get_element(),f.target||f.srcElement)){return false;
}return true;
},_hideActiveDropDownItem:function(f){if(this._activeDropDownItem){this._activeDropDownItem._hideDropDown(f);
}},_setActiveDropDownItem:function(g,f){if(this._activeDropDownItem!=g){if(g){this._hideActiveDropDownItem(f);
}this._activeDropDownItem=g;
}},_postback:function(f){if(this._simplePostBack){if(!this._postBackReference){return;
}eval(String.format(this._postBackReference,f._getHierarchicalIndex()));
}else{if(!this._getPostBackReference()){return;
}var g=f._getHierarchicalIndex();
var i="";
var e=f._getCausesValidation();
if(e){i=f._validationGroupSet()?f.get_validationGroup():this.get_validationGroup();
}var h=f._postBackUrlSet()?f.get_postBackUrl():this.get_postBackUrl();
this._doPostBack(g,e,i,h);
}},_canPostBack:function(){if(this._simplePostBack){return this._postBackReference;
}return this._getPostBackReference();
},_getPostBackReference:function(){if(this._rawPostBackReference){if(!this._postBackReference){this._extractPostBackReferences();
}return this._postBackReference;
}return null;
},_getPostBackOptionsReference:function(){if(this._rawPostBackReference){if(!this._postBackOptionsReference){this._extractPostBackReferences();
}return this._postBackOptionsReference;
}return null;
},_extractPostBackReferences:function(){if(!this._rawPostBackReference){return;
}var e=/(.*?)\((.*)(.*?)\)/;
this._postBackOptionsReference=this._rawPostBackReference.replace(e,"$2");
this._postBackReference=this._rawPostBackReference.replace(e,"$1");
},_doPostBack:function(e,h,i,g){var f=eval(String.format(this._getPostBackOptionsReference(),e,i,g));
f.validation=h;
eval(this._getPostBackReference())(f);
},_raiseEvent:function(f,g,e){this.raiseEvent(f,new Telerik.Web.UI.RadToolBarEventArgs(g,e));
},_raiseCancelEvent:function(g,h,e){var f=new Telerik.Web.UI.RadToolBarCancelEventArgs(h,e);
this.raiseEvent(g,f);
return f.get_cancel();
},attachDropDowns:function(){this.get_items().forEach(function(e){if(e._isDropDownItem()){e._attachDropDown();
}});
this.setIsInPostBack(true);
},_uncheckSameGroupButtons:function(g){var n=function(j,i){return j!=i&&j._isCheckable()&&j.get_isChecked()&&j.get_group()==i.get_group();
};
var l=this.get_items();
for(var h=0;
h<l.get_count();
h++){var k=l.getItem(h);
if(n(k,g)){return k._setChecked(false);
}if(k._isDropDownItem()){var f=k.get_buttons();
for(var m=0;
m<f.get_count();
m++){var e=f.getButton(m);
if(n(e,g)){return e._setChecked(false);
}}}}return true;
},_getHorizontalClassNames:function(){if(!this._horizontalClassNames){this._horizontalClassNames=["RadToolBar_Horizontal","RadToolBar_"+this.get_skin()+"_Horizontal"];
}return this._horizontalClassNames;
},_getVerticalClassNames:function(){if(!this._verticalClassNames){this._verticalClassNames=["RadToolBar_Vertical","RadToolBar_"+this.get_skin()+"_Vertical"];
}return this._verticalClassNames;
},commitChanges:function(){this._logEntriesJson=this._log.serialize();
Telerik.Web.UI.RadToolBar.callBaseMethod(this,"commitChanges");
},saveClientState:function(){return'{"logEntries":'+this._logEntriesJson+"}";
},findItemByText:function(e){return this._findItemByText(e);
},findItemByAttribute:function(e,f){return this._findItemByAttribute(e,f);
},findItemByValue:function(e){return this._findItemByValue(e);
},findButtonByUrl:function(e){return this._findItemByUrl(e);
},findButtonByAbsoluteUrl:function(e){return this._findItemByAbsoluteUrl(e);
},findButtonByCommandName:function(f){var e=this._getAllItems();
for(var g=0;
g<e.length;
g++){var h=e[g];
if(h.get_commandName&&h.get_commandName()==f){return h;
}}return null;
},get_allItems:function(){if(!this._allItems){this._allItems=this._getAllItems();
}return this._allItems;
},setIsInPostBack:function(e){this._isInPostBack=e;
},get_childListElement:function(){if(!this._childListElement){this._childListElement=$telerik.getFirstChildByTagName(this._getInnerContainer(),"ul",0);
}return this._childListElement;
},get_itemData:function(){return this._itemData;
},set_itemData:function(e){this._itemData=e;
},get_items:function(){return this._getChildren();
},set_items:function(e){this._children=e;
},get_skin:function(){return this._skin;
},get_expandAnimation:function(){return this._expandAnimation;
},set_expandAnimation:function(f){var e=Sys.Serialization.JavaScriptSerializer.deserialize(f);
this._expandAnimation=new Telerik.Web.UI.AnimationSettings(e);
},get_collapseAnimation:function(){return this._collapseAnimation;
},set_collapseAnimation:function(f){var e=Sys.Serialization.JavaScriptSerializer.deserialize(f);
this._collapseAnimation=new Telerik.Web.UI.AnimationSettings(e);
},get_slideDirection:function(){return this._slideDirection;
},set_slideDirection:function(e){this._slideDirection=e;
},get_orientation:function(){if(/RadToolBar_Horizontal/.test(this.get_element().className)){return Telerik.Web.UI.Orientation.Horizontal;
}else{if(/RadToolBar_Vertical/.test(this.get_element().className)){return Telerik.Web.UI.Orientation.Vertical;
}}return this._properties.getValue("orientation",Telerik.Web.UI.Orientation.Horizontal);
},set_orientation:function(g){if(g==this.get_orientation()){return;
}var f;
var e;
if(g==Telerik.Web.UI.Orientation.Horizontal){f=this._getVerticalClassNames();
e=this._getHorizontalClassNames();
}else{f=this._getHorizontalClassNames();
e=this._getVerticalClassNames();
}$telerik.removeCssClasses(this.get_element(),f);
$telerik.addCssClasses(this.get_element(),e);
this._properties.setValue("orientation",g);
},get_isHorizontal:function(){return this.get_orientation()==Telerik.Web.UI.Orientation.Horizontal;
},get_causesValidation:function(){return this._properties.getValue("causesValidation",true);
},set_causesValidation:function(e){this._properties.setValue("causesValidation",e,true);
},get_validationGroup:function(){return this._properties.getValue("validationGroup","");
},set_validationGroup:function(e){this._properties.setValue("validationGroup",e,true);
},get_postBackUrl:function(){return this._properties.getValue("postBackUrl","");
},set_postBackUrl:function(e){this._properties.setValue("postBackUrl",e,true);
},get_enableRoundedCorners:function(){return this._enableRoundedCorners;
},set_enableRoundedCorners:function(e){this._enableRoundedCorners=e;
},get_enableShadows:function(){return this._enableShadows;
},set_enableShadows:function(e){this._enableShadows=e;
},get_enableImageSprites:function(){return this._enableImageSprites;
},set_enableImageSprites:function(e){this._enableImageSprites=e;
},add_load:function(e){this.get_events().addHandler("load",e);
},remove_load:function(e){this.get_events().removeHandler("load",e);
},add_buttonClicking:function(e){this.get_events().addHandler("buttonClicking",e);
},remove_buttonClicking:function(e){this.get_events().removeHandler("buttonClicking",e);
},add_buttonClicked:function(e){this.get_events().addHandler("buttonClicked",e);
},remove_buttonClicked:function(e){this.get_events().removeHandler("buttonClicked",e);
},add_dropDownOpening:function(e){this.get_events().addHandler("dropDownOpening",e);
},remove_dropDownOpening:function(e){this.get_events().removeHandler("dropDownOpening",e);
},add_dropDownOpened:function(e){this.get_events().addHandler("dropDownOpened",e);
},remove_dropDownOpened:function(e){this.get_events().removeHandler("dropDownOpened",e);
},add_dropDownClosing:function(e){this.get_events().addHandler("dropDownClosing",e);
},remove_dropDownClosing:function(e){this.get_events().removeHandler("dropDownClosing",e);
},add_dropDownClosed:function(e){this.get_events().addHandler("dropDownClosed",e);
},remove_dropDownClosed:function(e){this.get_events().removeHandler("dropDownClosed",e);
},add_contextMenu:function(e){this.get_events().addHandler("contextMenu",e);
},remove_contextMenu:function(e){this.get_events().removeHandler("contextMenu",e);
},add_mouseOver:function(e){this.get_events().addHandler("mouseOver",e);
},remove_mouseOver:function(e){this.get_events().removeHandler("mouseOver",e);
},add_mouseOut:function(e){this.get_events().addHandler("mouseOut",e);
},remove_mouseOut:function(e){this.get_events().removeHandler("mouseOut",e);
},add_checkedStateChanging:function(e){this.get_events().addHandler("checkedStateChanging",e);
},remove_checkedStateChanging:function(e){this.get_events().removeHandler("checkedStateChanging",e);
},add_checkedStateChanged:function(e){this.get_events().addHandler("checkedStateChanged",e);
},remove_checkedStateChanged:function(e){this.get_events().removeHandler("checkedStateChanged",e);
}};
Telerik.Web.UI.RadToolBar.registerClass("Telerik.Web.UI.RadToolBar",Telerik.Web.UI.ControlItemContainer);
})();
Type.registerNamespace("Telerik.Web.UI");
Telerik.Web.UI.RadToolBarItemCollection=function(a){Telerik.Web.UI.RadToolBarItemCollection.initializeBase(this,[a]);
};
Telerik.Web.UI.RadToolBarItemCollection.prototype={};
Telerik.Web.UI.RadToolBarItemCollection.registerClass("Telerik.Web.UI.RadToolBarItemCollection",Telerik.Web.UI.ControlItemCollection);
Type.registerNamespace("Telerik.Web.UI");
Telerik.Web.UI.RadToolBarButtonCollection=function(a){Telerik.Web.UI.RadToolBarButtonCollection.initializeBase(this,[a]);
};
Telerik.Web.UI.RadToolBarButtonCollection.prototype={getButton:function(a){return this.getItem(a);
}};
Telerik.Web.UI.RadToolBarButtonCollection.registerClass("Telerik.Web.UI.RadToolBarButtonCollection",Telerik.Web.UI.ControlItemCollection);
(function(){Type.registerNamespace("Telerik.Web.UI");
Telerik.Web.UI.IRadToolBarDropDownItem=function(){};
Telerik.Web.UI.IRadToolBarDropDownItem.prototype={get_dropDownVisible:function(a){throw Error.notImplemented();
},showDropDown:function(a){throw Error.notImplemented();
},hideDropDown:function(a){throw Error.notImplemented();
}};
Telerik.Web.UI.IRadToolBarDropDownItem.registerInterface("Telerik.Web.UI.IRadToolBarDropDownItem");
Telerik.Web.UI.RadToolBarItemType=function(){};
Telerik.Web.UI.RadToolBarItemType.prototype={Button:0,DropDown:1,SplitButton:2};
Telerik.Web.UI.RadToolBarItemType.registerEnum("Telerik.Web.UI.RadToolBarItemType");
Telerik.Web.UI.ToolBarImagePosition=function(){};
Telerik.Web.UI.ToolBarImagePosition.prototype={Left:0,Right:1,AboveText:2,BelowText:3};
Telerik.Web.UI.ToolBarImagePosition.registerEnum("Telerik.Web.UI.ToolBarImagePosition");
Telerik.Web.UI.RadToolBarItem=function(){Telerik.Web.UI.RadToolBarItem.initializeBase(this);
this._properties=new Telerik.Web.UI.PropertyBag(this);
this._isHovered=false;
this._isClicked=false;
this._isFocused=false;
this._isDropDownVisible=false;
this._enableImageSprite=null;
this._shouldRemoveFocusState=false;
};
Telerik.Web.UI.RadToolBarItem.prototype={_initialize:function(b,a){Telerik.Web.UI.RadToolBarItem.callBaseMethod(this,"_initialize",[b,a]);
this._postInitialize();
},_postInitialize:function(){if(this._isDropDownItem()){this._initializeAnimation();
this._eventMap=new Telerik.Web.UI.EventMap();
this._eventMap.initialize(this,this.get_dropDownElement());
this._eventMap.addHandlerForClassName("click","rtbItem",this._onButtonClick);
this._eventMap.addHandlerForClassName("mouseover","rtbItem",this._onButtonMouseOver);
this._eventMap.addHandlerForClassName("mouseout","rtbItem",this._onButtonMouseOut);
this._eventMap.addHandlerForClassName("blur","rtbItem",this._onButtonBlur);
this._eventMap.addHandlerForClassName("deactivate","rtbItem",this._onButtonBlur);
this._eventMap.addHandlerForClassName("focus","rtbItem",this._onButtonFocus);
this._eventMap.addHandlerForClassName("activate","rtbItem",this._onButtonActivate);
this._eventMap.addHandlerForClassName("keydown","rtbItem",this._onButtonKeyDown);
this._eventMap.addHandlerForClassName("mousedown","rtbItem",this._onButtonMouseDown);
this._eventMap.addHandlerForClassName("mouseup","rtbItem",this._onButtonMouseUp);
var b=$telerik.isOpera&&!("oncontextmenu" in document.documentElement)?"mousedown":"contextmenu";
this._eventMap.addHandlerForClassName(b,"rtbItem",this._onButtonContextMenu);
}this._onButtonFocusDelegate=Function.createDelegate(this,this._onButtonFocus);
this._onButtonBlurDelegate=Function.createDelegate(this,this._onButtonBlur);
var d=this,a=$telerik.$;
if($telerik.isFirefox){$telerik.$(this._element).on("mouseleave",".rtbWrap",function(){if(d._shouldRemoveFocusState){a(d._element).removeClass("rtbItemFocused");
a(d._element).removeClass("rtbSplBtnFocused");
}d._shouldRemoveFocusState=false;
});
$telerik.$(this._element).on("mouseenter",".rtbWrap",function(){if(!d._isFocused){d._shouldRemoveFocusState=true;
}});
}var c=this.get_linkElement();
if(c){$telerik.addHandler(c,"focus",this._onButtonFocusDelegate);
$telerik.addHandler(c,"blur",this._onButtonBlurDelegate);
}},_initializeRenderedItem:function(){Telerik.Web.UI.RadToolBarItem.callBaseMethod(this,"_initializeRenderedItem");
this._postInitialize();
},_dispose:function(){if(this._slide){this._slide.remove_expandAnimationEnded(this._expandAnimationEndedDelegate);
this._slide.remove_expandAnimationStarted(this._expandAnimationStartedDelegate);
this._slide.remove_expandAnimationStarted(this._collapseAnimationEndedDelegate);
}if(this._eventMap){this._eventMap.dispose();
}var a=this.get_linkElement();
if(a){$telerik.removeHandler(a,"focus",this._onButtonFocusDelegate);
$telerik.removeHandler(a,"blur",this._onButtonBlurDelegate);
}Telerik.Web.UI.RadToolBarItem.callBaseMethod(this,"_dispose");
},_onButtonClick:function(a){this.get_toolBar()._onItemClick(a);
},_onButtonMouseOver:function(a){this.get_toolBar()._onItemMouseOver(a);
},_onButtonMouseOut:function(a){this.get_toolBar()._onItemMouseOut(a);
},_onButtonBlur:function(a){this.get_toolBar()._onItemBlur(a);
},_onButtonFocus:function(a){this.get_toolBar()._onItemFocus(a);
},_onButtonActivate:function(a){this.get_toolBar()._onItemActivate(a);
},_onButtonKeyDown:function(a){this.get_toolBar()._onItemKeyDown(a);
},_onButtonMouseDown:function(a){this.get_toolBar()._onItemMouseDown(a);
},_onButtonMouseUp:function(a){this.get_toolBar()._onItemMouseUp(a);
},_onButtonContextMenu:function(a){this.get_toolBar()._onItemContextMenu(a);
},_getHoveredCssClass:function(){return this.get_hoveredCssClass();
},_getFocusedCssClass:function(){return this.get_focusedCssClass();
},_getClickedCssClass:function(){return this.get_clickedCssClass();
},_hover:function(){this._updateElementClass(true,["rtbItemHovered",this._getHoveredCssClass()]);
this._isHovered=true;
this._updateImageUrl();
},_unHover:function(){this._updateElementClass(false,["rtbItemHovered",this._getHoveredCssClass()]);
this._isHovered=false;
this._updateImageUrl();
},_onMouseOver:function(a){if(a.eventMapRelatedTarget&&$telerik.isDescendant(this.get_element(),a.eventMapRelatedTarget)){return false;
}this._hover();
this.get_toolBar()._raiseEvent("mouseOver",this,a);
return false;
},_onMouseOut:function(a){if(a.eventMapRelatedTarget&&$telerik.isDescendant(this.get_element(),a.eventMapRelatedTarget)){return false;
}this._unHover();
this.get_toolBar()._raiseEvent("mouseOut",this,a);
if(this.get_clicked()){this._onMouseUp(a);
}return false;
},_onContextMenu:function(a){if($telerik.isOpera&&a.button!=2){return false;
}this.get_toolBar()._raiseEvent("contextMenu",this,a);
return false;
},_onBlur:function(a){this._doBlur();
return false;
},_onFocus:function(a){this._doFocus();
},_onActivate:function(a){if(!a.altKey){return;
}this._doFocus();
this._doClick(a);
},_isEventFiredForInputElement:function(a){var b=a?a.target.tagName.toLowerCase():"";
return b=="input"||b=="textarea";
},_isEventFiredFromTemplatedItem:function(a){if(!a){return false;
}var b=a.target;
while(b&&b!=this.get_element()){if(b&&b.tagName&&b.tagName.toLowerCase()=="a"&&Sys.UI.DomElement.containsCssClass(b,"rtbWrap")){return false;
}b=b.parentNode;
}return true;
},_onKeyDown:function(a){var c=a.keyCode?a.keyCode:a.rawEvent.keyCode;
var b=this._isEventFiredForInputElement(a);
switch(c){case Sys.UI.Key.up:if(b){return false;
}this._onKeyboardUp(a);
break;
case Sys.UI.Key.down:if(b){return false;
}this._onKeyboardDown(a);
break;
case Sys.UI.Key.left:if(b){return false;
}this._onKeyboardLeft(a);
break;
case Sys.UI.Key.right:if(b){return false;
}this._onKeyboardRight(a);
break;
case Sys.UI.Key.esc:this._onKeyboardEsc(a);
break;
case Sys.UI.Key.enter:if(Telerik.Web.UI.RadToolBarDropDown.isInstanceOfType(this)){this._onKeyboardEnter(a);
return true;
}return false;
default:return false;
}return true;
},_onMouseDown:function(a){this._isClicked=true;
this._updateImageUrl();
this._updateElementClass(true,["rtbItemClicked",this._getClickedCssClass()]);
},_onMouseUp:function(a){this._isClicked=false;
this._updateImageUrl();
this._updateElementClass(false,["rtbItemClicked",this._getClickedCssClass()]);
},_onKeyboardUp:function(a){var b=this._isToolBarHorizontal();
if(b){this._doLtrHorizontalKeyboardUp(a);
}else{this._doLtrHorizontalKeyboardLeft(a);
}},_onKeyboardEnter:function(){this._showDropDown();
this._focusFirstChild();
},_onKeyboardDown:function(a){var b=this._isToolBarHorizontal();
if(b){this._doLtrHorizontalKeyboardDown(a);
}else{this._doLtrHorizontalKeyboardRight(a);
}},_onKeyboardLeft:function(a){var c=this.get_toolBar()._isRtl();
var b=this._isToolBarHorizontal();
if(b){if(c){this._doLtrHorizontalKeyboardRight(a);
}else{this._doLtrHorizontalKeyboardLeft(a);
}}else{if(c){this._doLtrHorizontalKeyboardDown(a);
}else{this._doLtrHorizontalKeyboardUp(a);
}}},_onKeyboardRight:function(a){var c=this.get_toolBar()._isRtl();
var b=this._isToolBarHorizontal();
if(b){if(c){this._doLtrHorizontalKeyboardLeft(a);
}else{this._doLtrHorizontalKeyboardRight(a);
}}else{if(c){this._doLtrHorizontalKeyboardUp(a);
}else{this._doLtrHorizontalKeyboardDown(a);
}}},_doLtrHorizontalKeyboardUp:function(a){},_doLtrHorizontalKeyboardDown:function(a){},_doLtrHorizontalKeyboardRight:function(a){},_doLtrHorizontalKeyboardLeft:function(a){},_doClick:function(a){},_onKeyboardEsc:function(a){},_focusNextItem:function(a){this.blur();
this._getNextItem().focus();
},_focusPreviousItem:function(a){this.blur();
this._getPreviousItem().focus();
},_focusFirstChild:function(){if(!this.get_buttons){return;
}var a=this.get_buttons();
if(a.get_count()>0){a.getButton(0).focus();
}},_focusLastChild:function(){if(!this.get_buttons){return;
}var a=this.get_buttons();
if(a.get_count()>0){a.getButton(a.get_count()-1).focus();
}},_canGetFocus:function(){return true;
},_getSiblings:function(){var a=this.get_parent();
var b=this.get_toolBar();
if(a==b){return a.get_items();
}return a.get_buttons();
},_getSibling:function(b,a){if(b.getButton){return b.getButton(a);
}return b.getItem(a);
},_getNextItem:function(){var a=this._getSiblings();
return this._getNextFocusableSibling(a,true);
},_getNextFocusableSibling:function(d,c){c=typeof(c)=="undefined"?true:c;
var e=c?1:-1;
var a=this.get_index()+e;
while(a!=this.get_index()){if(a==d.get_count()){a=0;
}if(a==-1){a=d.get_count()-1;
}var b=this._getSibling(d,a);
if(b._canGetFocus()){return b;
}a+=e;
}return this;
},_getPreviousItem:function(){var a=this._getSiblings();
return this._getNextFocusableSibling(a,false);
},_isImageBeforeTextPosition:function(a){return a==Telerik.Web.UI.ToolBarImagePosition.Left||a==Telerik.Web.UI.ToolBarImagePosition.AboveText;
},_isImageBeforeText:function(){return this._isImageBeforeTextPosition(this.get_imagePosition());
},_isImageVerticallyOriented:function(){return this.get_imagePosition()==Telerik.Web.UI.ToolBarImagePosition.BelowText||this.get_imagePosition()==Telerik.Web.UI.ToolBarImagePosition.AboveText;
},_applyEnabledClass:function(a){if(!this.get_isEnabled()){a[a.length]=" rtbDisabled";
if(this.get_disabledCssClass()){a[a.length]=" ";
a[a.length]=this.get_disabledCssClass();
}}},_renderTextContainer:function(a){if(!this._getText()){return;
}a[a.length]="<span class='rtbText'>";
a[a.length]=this._getText();
a[a.length]="</span>";
},_renderLinkAttributes:function(b){var a="#";
if(this.get_navigateUrl&&this.get_navigateUrl()){if(this.get_target()){b[b.length]=" target='";
b[b.length]=this.get_target();
b[b.length]="'";
}a=this.get_navigateUrl();
}b[b.length]=" href='";
b[b.length]=a;
b[b.length]="'";
},_renderInnerSpan:function(a){a[a.length]="<span class='rtbIn";
if(this._isImageVerticallyOriented()){a[a.length]=" rtbVOriented";
}a[a.length]="'>";
},_renderImageAndText:function(b){var a=this._getCurrentImageUrl();
if(this._isImageBeforeText()){if(a||this.get_enableImageSprite()){this._renderImage(b);
}this._renderTextContainer(b);
}else{this._renderTextContainer(b);
if(a||this.get_enableImageSprite()){this._renderImage(b);
}}},_getCurrentImageUrl:function(){var a;
if(!this.get_imageUrl()){return"";
}if(!this.get_isEnabled()){a=this.get_disabledImageUrl();
}if(!a&&this._getIsClicked()){a=this.get_clickedImageUrl();
}if(!a&&this._getIsHovered()){a=this.get_hoveredImageUrl();
}if(!a&&this._getIsFocused()){a=this.get_focusedImageUrl();
}if(!a){a=this.get_imageUrl();
}return a;
},_renderImage:function(b){var a=this.get_enableImageSprite();
var c=a?"span":"img";
b[b.length]="<"+c+" class='rtbIcon'";
if(a){b[b.length]="'></span>";
}else{b[b.length]=" src='";
b[b.length]=this._getCurrentImageUrl();
b[b.length]="' alt='";
b[b.length]=this.get_toolTip();
b[b.length]="'/>";
}},_cleanElements:function(){if(this.get_buttons){var a=this.get_buttons();
for(var b=0;
b<a.get_count();
b++){a.getButton(b)._cleanElements();
}}this.get_parent().get_childListElement().removeChild(this.get_element());
this._element=null;
if($telerik.getChildrenByTagName(this.get_parent().get_childListElement(),"li")<1){this.get_parent()._destroyChildListElement();
}},_insertImageElement:function(a){if(this.get_textElement()){if(this._isImageBeforeText()){this._insertBefore(a,this.get_textElement());
}else{this._insertAfter(a,this.get_textElement());
}}},_createImageElement:function(){var b=this.get_enableImageSprite()?"span":"img";
var a=document.createElement(b);
a.className="rtbIcon";
this._insertImageElement(a);
this._imageElement=null;
if(a.parentNode===null){return null;
}return a;
},_destroyImageElement:function(){if(this.get_imageElement()){this.get_imageElement().parentNode.removeChild(this.get_imageElement());
this._imageElement=null;
}},_updateImageUrl:function(){var b=this._getCurrentImageUrl();
var a=this.get_imageElement();
if(b){if(!a){a=this._createImageElement();
}if(a){a.src=b;
}}else{if(a&&!this.get_enableImageSprite()){this._destroyImageElement();
}}},_updateToolTip:function(){var c=this.get_toolTip();
var a=this.get_imageElement();
var b=this.get_linkElement();
if(c){if(a){a.title=c;
}if(b){b.title=c;
}}},_getText:function(){return Telerik.Web.UI.RadToolBarItem.callBaseMethod(this,"get_text");
},_setText:function(a){if(!a){this._removeTextElement();
}else{this._ensureTextElement();
}Telerik.Web.UI.RadToolBarItem.callBaseMethod(this,"set_text",[a]);
},_getIsHovered:function(){return this._isHovered;
},_getIsClicked:function(){return this._isClicked;
},_getIsFocused:function(){return this._isFocused;
},_removeTextElement:function(){var a=this.get_textElement();
if(a){a.parentNode.removeChild(a);
this._textElement=null;
}},_beforePostBack:function(){},_clicking:function(a){return true;
},_processClickPostBackLogic:function(b,g){var h=this.get_toolBar();
if(!h){return true;
}var d=this._shouldNavigate();
if($telerik.isIE&&d&&this.get_imageElement()==b.target){$telerik.$(b.target).parent().trigger("click");
return true;
}var a=false;
if(!g){a=h._raiseCancelEvent("buttonClicking",this,b);
}var c=!a;
c=c&&this._clicking(b);
var f=this._shouldPostBack();
if(a){return true;
}h._raiseEvent("buttonClicked",this,b);
switch(h._singleClick){case Telerik.Web.UI.ToolBarSingleClick.None:break;
case Telerik.Web.UI.ToolBarSingleClick.Button:this.set_enabled(false);
break;
case Telerik.Web.UI.ToolBarSingleClick.ToolBar:h.set_enabled(false);
break;
default:break;
}if(this._requiresPageValidation()){if(typeof(Page_ClientValidate)!=="undefined"&&!Page_ClientValidate(this._getValidationGroup())){Page_BlockSubmit=false;
return true;
}}if(this._isEventFiredForInputElement(b)){return false;
}if(this._isEventFiredFromTemplatedItem(b)){return false;
}if(c&&f&&!d){this._beforePostBack();
h._postback(this);
return true;
}if(!c||!d){return true;
}return false;
},_requiresPageValidation:function(){if(this._causesValidationSet()){return this.get_causesValidation();
}return this.get_toolBar().get_causesValidation();
},_getCausesValidation:function(){if(this._causesValidationSet()){return this.get_causesValidation();
}return this.get_toolBar().get_causesValidation();
},_getValidationGroup:function(){if(this._validationGroupSet()){return this.get_validationGroup();
}return this.get_toolBar().get_validationGroup();
},_shouldPreventClickDefault:function(){return false;
},_shouldPostBack:function(){if(!this.get_toolBar()._canPostBack()){return false;
}if(!this.get_postBack()){return false;
}return true;
},_isDropDownChildButton:function(){return this.get_parent()!=this.get_toolBar();
},_detachDropDown:function(){if(this._detached){return;
}this._dropDownPositionKeeperElement=document.createElement("span");
var a=this.get_animationContainer();
a.parentNode.insertBefore(this._dropDownPositionKeeperElement,a);
if(!Sys.UI.DomElement.containsCssClass(a,this.get_toolBar()._cssClass)){$telerik.addCssClasses(a,[this.get_toolBar()._cssClass]);
}var b=document.forms[0]||document.body;
b.insertBefore(a,b.firstChild);
this._detached=true;
},_attachDropDown:function(){if(!this._detached){return;
}var a=this.get_animationContainer();
this.hideDropDown();
a.style.display="none";
if(Sys.UI.DomElement.containsCssClass(a,this.get_toolBar()._cssClass)){$telerik.removeCssClasses(a,[this.get_toolBar()._cssClass]);
}this._dropDownPositionKeeperElement.parentNode.insertBefore(a,this._dropDownPositionKeeperElement);
this._dropDownPositionKeeperElement.parentNode.removeChild(this._dropDownPositionKeeperElement);
this._dropDownPositionKeeperElement=null;
this._detached=false;
},_renderDropDown:function(a){var b=this.get_toolBar();
a[a.length]="<div style='display:none;' class='rtbSlide";
a[a.length]="'><div class='RadToolBarDropDown RadToolBarDropDown_";
a[a.length]=b.get_skin();
if(b.get_enableRoundedCorners()){a[a.length]=" rtbNoBackground";
}a[a.length]="'>";
if(b.get_enableRoundedCorners()||b.get_enableShadows()){a[a.length]="<div class='rtbScrollWrap";
if(b.get_enableRoundedCorners()){a[a.length]=" rtbRoundedCorners";
}if(b.get_enableShadows()){a[a.length]=" rtbShadows";
}a[a.length]="'>";
}this._renderChildList(a);
if(b.get_enableRoundedCorners()||b.get_enableShadows()){a[a.length]="</div>";
}a[a.length]="</div></div>";
},_renderChildList:function(b){if(!this.get_buttons){return;
}var a=this.get_buttons().get_count();
if(a>0){b[b.length]="<ul class='rtbActive rtbGroup rtbLevel1'>";
for(var c=0;
c<a;
c++){this.get_buttons().getButton(c)._render(b);
}b[b.length]="</ul>";
}},_getChildElements:function(){if(!this.get_childListElement){return null;
}return $telerik.getChildrenByClassName(this.get_childListElement(),"rtbItem");
},_shouldInitializeChild:function(a){return this.get_buttons;
},get_animationContainer:function(){if(!this.get_buttons){throw Error.invalidOperation("Only RadToolBarDropDown and RadToolBarSplitButton can be animated");
}if(!this._animationContainer&&this.get_element()){this._animationContainer=$telerik.getChildByClassName(this.get_element(),"rtbSlide");
}return this._animationContainer;
},get_dropDownElement:function(){if(!this.get_buttons){throw Error.invalidOperation("Only RadToolBarDropDown and RadToolBarSplitButton can have a dropdown element");
}if(!this._dropDownElement&&this.get_animationContainer()){this._dropDownElement=$telerik.getChildByClassName(this.get_animationContainer(),"RadToolBarDropDown");
}return this._dropDownElement;
},get_scrollWrapElement:function(){if(!this.get_buttons){throw Error.invalidOperation("Only RadToolBarDropDown and RadToolBarSplitButton can have a scroll wrap element");
}if(!this._scrollWrapElement&&this.get_dropDownElement()){this._scrollWrapElement=$telerik.getChildByClassName(this.get_dropDownElement(),"rtbScrollWrap");
}return this._scrollWrapElement;
},get_childListElement:function(){if(!this.get_buttons){throw Error.invalidOperation("Only RadToolBarDropDown and RadToolBarSplitButton can have a child list element");
}if(!this._childListElement&&this.get_dropDownElement()){this._childListElement=$telerik.$(".rtbGroup",this.get_dropDownElement())[0];
}return this._childListElement;
},_createChildListElement:function(){var a=document.createElement("ul");
a.className="rtbActive rtbGroup rtbLevel1";
var b=this.get_scrollWrapElement();
if(b){b.appendChild(a);
}else{this.get_dropDownElement().appendChild(a);
}},_isDropDownItem:function(){return Telerik.Web.UI.IRadToolBarDropDownItem.isInstanceOfType(this);
},_isCheckable:function(){return Telerik.Web.UI.RadToolBarButton.isInstanceOfType(this);
},_isToolBarHorizontal:function(){return this.get_toolBar().get_orientation()==Telerik.Web.UI.Orientation.Horizontal;
},_showDropDown:function(c){var g=this.get_toolBar();
if(g._isInPostBack){return false;
}var a=this.get_animationContainer();
if(!a){return false;
}if(g._raiseCancelEvent("dropDownOpening",this,c)){return false;
}a.style.position="absolute";
this._detachDropDown();
g._setActiveDropDownItem(this,c);
var b=this.get_dropDownElement();
b.style.display="block";
this._ensureRoundedCorners();
this._ensureShadows();
Telerik.Web.UI.RadToolBar._ensureCorners(g,this);
this._positionDropDown();
a.style.display="block";
var f;
if(this._isToolBarHorizontal()){if(this.get_expandDirection()==Telerik.Web.UI.ToolBarDropDownExpandDirection.Up){f=Telerik.Web.UI.jSlideDirection.Up;
}else{f=Telerik.Web.UI.jSlideDirection.Down;
}}else{if(g._isRtl()){f=Telerik.Web.UI.jSlideDirection.Left;
}else{f=Telerik.Web.UI.jSlideDirection.Right;
}}this._slide.set_direction(f);
var d=String.format("RadToolBarDropDown_{0}_rtl",g.get_skin());
if(g._isRtl()){b.dir="rtl";
$telerik.addCssClasses(b,["RadToolBarDropDown_rtl",d]);
}else{b.dir="";
$telerik.removeCssClasses(b,["RadToolBarDropDown_rtl",d]);
}this._updateIE6Width();
this._slide.updateSize();
if($telerik.isIE6&&g._isRtl()){b.style.cssText=b.style.cssText;
}this._slide.expand();
this._updateElementClass(true,[this._getExpandedClassName()]);
this._originalZIndex=this.get_animationContainer().style.zIndex;
a.style.zIndex=this.get_toolBar().get_element().style.zIndex;
g._raiseEvent("dropDownOpened",this,c);
this._isDropDownVisible=true;
return true;
},_getExpandedClassName:function(){return"";
},_hideElement:function(a,b){a.style.display=b?"block":"none";
a.style.visibility=b?"hidden":"visible";
},_updateIE6Width:function(){if(!$telerik.isIE6&&!$telerik.quirksMode){return;
}$telerik.$(this.get_childListElement()).css({overflow:"hidden","overflow-y":"auto"}).add(this.get_scrollWrapElement()).height("100%");
},_positionDropDown:function(){var g=$telerik.getLocation(this.get_element());
var a=this.get_animationContainer();
var c=this.get_dropDownElement();
this._hideElement(a,true);
var e=$telerik.getBorderWidth(c,Telerik.Web.BoxSide.Left);
var h=$telerik.getBorderWidth(c,Telerik.Web.BoxSide.Right);
var f=$telerik.getPaddingBox(c);
var d=c.offsetWidth-e-h-f.horizontal;
d=Math.max(d,this.get_element().offsetWidth-e-h);
if(this._dropDownWidth){d=parseInt(this._dropDownWidth,10);
}c.style.width=d+"px";
var i=this.get_scrollWrapElement();
if(this._dropDownHeight){a.style.height=c.style.height;
c.style.height=this._dropDownHeight;
var b=this.get_childListElement();
if(!i){b.style.position="absolute";
b.style.height=c.offsetHeight;
}else{i.style.height=parseInt(this._dropDownHeight,10)-4+"px";
}}c.style.top=0;
if(this.get_toolBar()._isRtl()&&!this._isToolBarHorizontal()){g.x-=(this.get_element().offsetWidth+d);
}if(this._isToolBarHorizontal()){if(this.get_toolBar()._isRtl()){g.x-=((d+e+h)-this.get_element().offsetWidth);
}a.style.left=g.x+"px";
if(this.get_expandDirection()==Telerik.Web.UI.ToolBarDropDownExpandDirection.Up){var j={horizontal:0,vertical:0};
if(i){j=$telerik.getPaddingBox(i);
}a.style.top=g.y-parseInt($telerik.$(a).height(),10)-j.vertical+"px";
}else{a.style.top=g.y+this.get_element().offsetHeight+"px";
}}else{a.style.left=g.x+this.get_element().offsetWidth+"px";
a.style.top=g.y+"px";
}this._hideElement(a,false);
},_hideDropDown:function(a){if(!this.get_dropDownVisible()){return false;
}if(this.get_toolBar()._raiseCancelEvent("dropDownClosing",this,a)){return false;
}this.get_dropDownElement().style.display="none";
this.get_toolBar()._setActiveDropDownItem(null,a);
if(!this.get_animationContainer()){return false;
}this._slide.collapse();
this._updateElementClass(false,[this._getExpandedClassName()]);
this.get_toolBar()._raiseEvent("dropDownClosed",this,a);
this._isDropDownVisible=false;
return true;
},_initializeAnimation:function(){var a=this.get_dropDownElement();
if(a){this._slide=new Telerik.Web.UI.jSlide(a,this.get_toolBar().get_expandAnimation(),this.get_toolBar().get_collapseAnimation());
this._slide.initialize();
this._slide.set_direction(this.get_toolBar().get_slideDirection());
}this._expandAnimationEndedDelegate=Function.createDelegate(this,this._onExpandAnimationEnded);
this._slide.add_expandAnimationEnded(this._expandAnimationEndedDelegate);
this._expandAnimationStartedDelegate=Function.createDelegate(this,this._onExpandAnimationStarted);
this._slide.add_expandAnimationStarted(this._expandAnimationStartedDelegate);
this._collapseAnimationEndedDelegate=Function.createDelegate(this,this._onCollapseAnimationEnded);
this._slide.add_collapseAnimationEnded(this._collapseAnimationEndedDelegate);
this._collapseAnimationStartedDelegate=Function.createDelegate(this,this._onCollapseAnimationStarted);
this._slide.add_collapseAnimationStarted(this._collapseAnimationStartedDelegate);
},_updateElementClass:function(a,b){if(a===true){$telerik.addCssClasses(this.get_element(),b);
}else{$telerik.removeCssClasses(this.get_element(),b);
}},_onExpandAnimationEnded:function(c,a){var b=this.get_scrollWrapElement()?this.get_childListElement():this.get_dropDownElement();
if(!$telerik.isOpera){if(this._dropDownHeight){b.style.overflow="hidden";
b.style.overflowY="auto";
}}},_onExpandAnimationStarted:function(c,a){var b=this.get_scrollWrapElement()?this.get_childListElement():this.get_dropDownElement();
if(b){if($telerik.isOpera){b.style.overflow="auto";
b.style.overflowX="hidden";
}else{b.style.overflow="hidden";
}}},_onCollapseAnimationStarted:function(c,a){var b=this.get_scrollWrapElement()?this.get_childListElement():this.get_dropDownElement();
if(b){if($telerik.isFirefox){b.style.overflow="hidden";
}}},_onCollapseAnimationEnded:function(b,a){this.get_animationContainer().style.zIndex=this._originalZIndex;
this._originalZIndex="";
},_ensureTextElement:function(){if(this.get_textElement()===null){var a=document.createElement("span");
a.className="rtbText";
a.innerHTML=this._getText();
this._insertTextElement(a);
}},_doFocus:function(){var c=this.get_toolBar();
if(!c){this._isFocused=true;
return;
}var a=c._focusedItem;
if(a!==null){a.blur();
}var b=this.get_linkElement();
if(!this.get_focused()&&b){b.focus();
}this._isFocused=true;
this._updateElementClass(true,["rtbItemFocused",this._getFocusedCssClass()]);
this._updateImageUrl();
},_doBlur:function(){var b=this.get_toolBar();
if(!b){return;
}if(b._focusedItem==this){b._focusedItem=null;
}var a=this.get_linkElement();
if(this.get_focused()&&a){a.blur();
}this._isFocused=false;
this._updateElementClass(false,["rtbItemFocused",this._getFocusedCssClass()]);
this._updateImageUrl();
},_insertBefore:function(a,c){var b=c.parentNode;
if(!b){return;
}b.insertBefore(a,c);
},_insertAfter:function(b,d){var c=d.parentNode;
if(!c){return;
}var a=d.nextSibling;
if(a){c.insertBefore(b,a);
}else{c.appendChild(b);
}},_ensureRoundedCorners:function(){if(this._roundedCornersRendered){return;
}var a=this.get_toolBar();
if(a&&a.get_enableRoundedCorners()){this._roundedCornersRendered=true;
Telerik.Web.UI.RadToolBar._renderCornerElements(this);
}},_ensureShadows:function(){if(this._shadowsRendered){return;
}var a=this.get_toolBar();
if(a&&a.get_enableShadows()){this._shadowsRendered=true;
Telerik.Web.UI.RadToolBar._renderCornerElements(this,"shadow");
}},get_toolBar:function(){return this._getControl();
},set_enabled:function(a){Telerik.Web.UI.RadToolBarItem.callBaseMethod(this,"set_enabled",[a]);
if(!this.get_element()){return;
}this.blur();
this._unHover();
this._updateElementClass(!a,["rtbDisabled",this.get_disabledCssClass()]);
this._updateImageUrl();
},get_linkElement:function(){if(!this._linkElement){if(this.get_element()){this._linkElement=$telerik.getChildByClassName(this.get_element(),"rtbWrap");
}}return this._linkElement||null;
},get_outerWrapElement:function(){if(!this.get_linkElement()){return null;
}if(!this._outerWrapElement){this._outerWrapElement=$telerik.getChildByClassName(this.get_linkElement(),"rtbOut");
}return this._outerWrapElement||null;
},get_middleWrapElement:function(){if(!this.get_outerWrapElement()){return null;
}if(!this._midleWrapElement){this._midleWrapElement=$telerik.getChildByClassName(this.get_outerWrapElement(),"rtbMid");
}return this._midleWrapElement||null;
},get_innerWrapElement:function(){if(!this.get_middleWrapElement()){return null;
}if(!this._innerWrapElement){this._innerWrapElement=$telerik.getChildByClassName(this.get_middleWrapElement(),"rtbIn");
}return this._innerWrapElement||null;
},get_textElement:function(){if(!this._textElement){if(this.get_innerWrapElement()){this._textElement=$telerik.getChildByClassName(this.get_innerWrapElement(),"rtbText");
}}return this._textElement||null;
},get_imageElement:function(){if(!this._imageElement){if(this.get_innerWrapElement()){this._imageElement=$telerik.getChildByClassName(this.get_innerWrapElement(),"rtbIcon");
}}return this._imageElement||null;
},set_text:function(a){this._setText(a);
},get_disabledCssClass:function(){return this._properties.getValue("disabledCssClass","");
},set_disabledCssClass:function(a){this._properties.setValue("disabledCssClass",a,true);
},get_disabledImageUrl:function(){return this._properties.getValue("disabledImageUrl","");
},set_disabledImageUrl:function(a){this._properties.setValue("disabledImageUrl",a,true);
this._updateImageUrl();
},get_imageUrl:function(){return this._properties.getValue("imageUrl","");
},set_imageUrl:function(a){this._properties.setValue("imageUrl",a,true);
this._updateImageUrl();
},get_hoveredImageUrl:function(){return this._properties.getValue("hoveredImageUrl","");
},set_hoveredImageUrl:function(a){this._properties.setValue("hoveredImageUrl",a,true);
this._updateImageUrl();
},get_hoveredCssClass:function(){return this._properties.getValue("hoveredCssClass","");
},set_hoveredCssClass:function(a){if(this.get_element()){if(this._getIsHovered()){this._updateElementClass(false,[this.get_hoveredCssClass()]);
this._updateElementClass(true,[a]);
}}this._properties.setValue("hoveredCssClass",a,true);
},get_clickedImageUrl:function(){return this._properties.getValue("clickedImageUrl","");
},set_clickedImageUrl:function(a){this._properties.setValue("clickedImageUrl",a,true);
this._updateImageUrl();
},get_clickedCssClass:function(){return this._properties.getValue("clickedCssClass","");
},set_clickedCssClass:function(a){if(this.get_element()){if(this._getIsClicked()){this._updateElementClass(false,[this.get_clickedCssClass()]);
this._updateElementClass(true,[a]);
}}this._properties.setValue("clickedCssClass",a,true);
},get_focusedImageUrl:function(){return this._properties.getValue("focusedImageUrl","");
},set_focusedImageUrl:function(a){this._properties.setValue("focusedImageUrl",a,true);
this._updateImageUrl();
},get_focusedCssClass:function(){return this._properties.getValue("focusedCssClass","");
},set_focusedCssClass:function(a){if(this.get_element()){if(this._getIsFocused()){this._updateElementClass(false,[this.get_focusedCssClass()]);
this._updateElementClass(true,[a]);
}}this._properties.setValue("focusedCssClass",a,true);
},get_outerCssClass:function(){return this._properties.getValue("outerCssClass","");
},set_outerCssClass:function(a){if(this.get_element()){this._updateElementClass(false,[this.get_outerCssClass()]);
this._updateElementClass(true,[a]);
}this._properties.setValue("outerCssClass",a,true);
},_applyCssClass:function(a){this.set_outerCssClass(a);
},get_toolTip:function(){return this._properties.getValue("toolTip","");
},set_toolTip:function(a){this._properties.setValue("toolTip",a,true);
this._updateToolTip();
},set_focused:function(a){if(a){this._doFocus();
}else{this._doBlur();
}},get_imagePosition:function(){return this._properties.getValue("imagePosition",Telerik.Web.UI.ToolBarImagePosition.Left);
},set_imagePosition:function(d){if(this.get_imagePosition()==d){return;
}var b=this._isImageBeforeText();
var c=this._isImageBeforeTextPosition(d);
this._properties.setValue("imagePosition",d,true);
if(this.get_toolBar()){var a=this.get_imageElement();
if(b!=c&&a){a.style.display="none";
this.get_element().appendChild(a);
window.setTimeout(function(){a.parentNode.removeChild(a);
},0);
this._imageElement=null;
this._updateImageUrl();
}if(this.get_innerWrapElement()){if(d==Telerik.Web.UI.ToolBarImagePosition.Right||d==Telerik.Web.UI.ToolBarImagePosition.Left){$telerik.removeCssClasses(this.get_innerWrapElement(),["rtbVOriented"]);
}else{$telerik.addCssClasses(this.get_innerWrapElement(),["rtbVOriented"]);
}}}},set_visible:function(a){var b=this.get_visible()!=a;
if(!b){return;
}Telerik.Web.UI.RadToolBarItem.callBaseMethod(this,"set_visible",[a]);
this.get_element().style.display=a?"":"none";
},get_visible:function(){var a=this._properties.getValue("visible",null);
if(a===null){return this.get_element().style.display!="none";
}return a;
},get_spriteCssClass:function(){return this._properties.getValue("spriteCssClass",null);
},set_spriteCssClass:function(a){this._properties.setValue("cssSpriteName",a);
},set_enableImageSprite:function(a){this._properties.setValue("enableImageSprite",a);
this._enableImageSprite=a;
},get_enableImageSprite:function(){if(this._enableImageSprite===null){var b=this.get_toolBar();
var a=this._properties.getValue("enableImageSprite",null);
if(b!==null&&a===null){this._enableImageSprite=b._enableImageSprites;
}else{this._enableImageSprite=a||false;
}}return this._enableImageSprite;
},get_text:function(){return this._getText();
},get_clicked:function(){return this._getIsClicked();
},get_focused:function(){return this._getIsFocused();
},get_hovered:function(){return this._getIsHovered();
},enable:function(){this.set_enabled(true);
},disable:function(){this.set_enabled(false);
},focus:function(){this.set_focused(true);
},blur:function(){this.set_focused(false);
},show:function(){this.set_visible(true);
},hide:function(){this.set_visible(false);
}};
Telerik.Web.UI.RadToolBarItem.registerClass("Telerik.Web.UI.RadToolBarItem",Telerik.Web.UI.ControlItem);
})();
Type.registerNamespace("Telerik.Web.UI");
Telerik.Web.UI.RadToolBarButton=function(){Telerik.Web.UI.RadToolBarButton.initializeBase(this);
this._textElement=null;
this._isRendered=false;
};
Telerik.Web.UI.RadToolBarButton.prototype={_initialize:function(b,a){Telerik.Web.UI.RadToolBarButton.callBaseMethod(this,"_initialize",[b,a]);
},_dispose:function(){Telerik.Web.UI.RadToolBarButton.callBaseMethod(this,"_dispose");
},_render:function(a){if(this.get_isSeparator()){this._renderSeparator(a);
}else{if(this._isDropDownChild()){this._renderDropDownChild(a);
}else{this._renderButton(a);
}}this._isRendered=true;
},_renderSeparator:function(a){a[a.length]="<li class='rtbSeparator'>";
a[a.length]="<span class='rtbText'>";
a[a.length]=this.get_text();
a[a.length]="</span>";
a[a.length]="</li>";
},_applyCheckedClass:function(a){if(this.get_isChecked()){a[a.length]=" rtbChecked";
if(this.get_checkedImageUrl()){a[a.length]=" ";
a[a.length]=this.get_checkedImageUrl();
}if(this.get_checkedCssClass()){a[a.length]=" ";
a[a.length]=this.get_checkedCssClass();
}}},_renderDropDownChild:function(a){a[a.length]="<li class='rtbItem ";
a[a.length]=this.get_outerCssClass();
a[a.length]=" ";
this._applyCheckedClass(a);
this._applyEnabledClass(a);
a[a.length]="'><a class='rtbWrap'";
this._renderLinkAttributes(a);
a[a.length]=">";
if(this._getCurrentImageUrl()){this._renderImage(a);
}this._renderTextContainer(a);
a[a.length]="</a></li>";
},_renderButton:function(a){a[a.length]="<li class='rtbItem rtbBtn";
this._applyCheckedClass(a);
this._applyEnabledClass(a);
a[a.length]="'><a class='rtbWrap'";
this._renderLinkAttributes(a);
a[a.length]="><span class='rtbOut'><span class='rtbMid'>";
this._renderInnerSpan(a);
this._renderImageAndText(a);
a[a.length]="</span></span></span></a>";
a[a.length]="</li>";
},_removeTextElement:function(){if(this.get_isSeparator()){return;
}Telerik.Web.UI.RadToolBarButton.callBaseMethod(this,"_removeTextElement");
},_insertTextElement:function(c){if(this.get_isSeparator()){return;
}if(this._isDropDownChild()){if(this.get_linkElement()){this.get_linkElement().appendChild(c);
}}else{if(this.get_innerWrapElement()){var b=this.get_innerWrapElement();
var a=this.get_imageElement();
if(this._isImageBeforeText()||!a){b.appendChild(c);
}else{b.insertBefore(c,a);
}}}},_insertImageElement:function(a){if(this.get_isSeparator()){return;
}if(!this._isDropDownChild()){Telerik.Web.UI.RadToolBarButton.callBaseMethod(this,"_insertImageElement",[a]);
}else{if(this.get_textElement()){var b=this.get_textElement();
b.parentNode.insertBefore(a,b);
}}if(!this.get_textElement()){if(this._isDropDownChild()&&this.get_linkElement()){this.get_linkElement().appendChild(a);
}else{if(this.get_innerWrapElement()){this.get_innerWrapElement().appendChild(a);
}}}},_getChildren:function(b,a){return{get_count:function(){return 0;
}};
},_canGetFocus:function(){return !this.get_isSeparator();
},_isDropDownChild:function(){return !Telerik.Web.UI.RadToolBar.isInstanceOfType(this._parent);
},_checkElement:function(a){if(!this.get_element()){return;
}if(a){$telerik.addCssClasses(this.get_element(),["rtbChecked",this.get_checkedCssClass()]);
}else{$telerik.removeCssClasses(this.get_element(),["rtbChecked",this.get_checkedCssClass()]);
}this._updateImageUrl();
},_getCurrentImageUrl:function(){if(this.get_isSeparator()){return"";
}if(!this.get_imageUrl()){return"";
}var a="";
if(!this.get_isEnabled()){a=this.get_disabledImageUrl();
}if(!a&&this._getIsClicked()){a=this.get_clickedImageUrl();
}if(!a&&this._getIsHovered()){a=this.get_hoveredImageUrl();
}if(!a&&this._getIsFocused()){a=this.get_focusedImageUrl();
}if(!a&&this.get_isChecked()){a=this.get_checkedImageUrl();
}if(!a){a=this.get_imageUrl();
}return a;
},_beforePostBack:function(){var a=this.get_parent();
if(a&&Telerik.Web.UI.RadToolBarSplitButton.isInstanceOfType(a)&&a.get_enableDefaultButton()){a._beforeChildPostBack(this);
}},_clicking:function(a){if(this.get_checkOnClick()){if(this.get_allowSelfUnCheck()||!this.get_checked()){return this._processChecking(!this.get_checked(),false,a);
}}return true;
},_processChecking:function(c,a,b){var f=this.get_toolBar();
if(f&&f._raiseCancelEvent("checkedStateChanging",this,b)){return false;
}if(c){if(f&&!f._uncheckSameGroupButtons(this)){return false;
}}var d=a?"checkOnClick":"checked";
if(f){f.trackChanges();
}this._properties.setValue(d,c,true);
if(f){f.commitChanges();
}this._checkElement(c);
if(f){f._raiseEvent("checkedStateChanged",this,b);
}return true;
},_setChecked:function(a){if(this.get_checkOnClick()&&a!=this.get_checked()){return this._processChecking(a,false,null);
}this._properties.setValue("checked",a,true);
return true;
},_doClick:function(b){var f=this.get_toolBar();
if(!f){return;
}var c=this.get_parent();
var a=f._raiseCancelEvent("buttonClicking",this,b);
if(a){if(c._hideDropDown){c._hideDropDown(b);
}$telerik.cancelRawEvent(b);
return;
}b=b||null;
var d=this._processClickPostBackLogic(b,true);
if(c._childClicked){c._childClicked(this,b);
}return d;
},_onClick:function(a){return this._doClick(a);
},_doLtrHorizontalKeyboardUp:function(a){if(this._isDropDownChild()){this._focusPreviousItem();
}},_doLtrHorizontalKeyboardDown:function(a){if(this._isDropDownChild()){this._focusNextItem();
}},_doLtrHorizontalKeyboardRight:function(a){if(this._isDropDownChild()){var b=this.get_parent();
if(b.get_dropDownVisible()){b.hideDropDown();
}b._focusNextItem();
}else{this._focusNextItem();
}},_doLtrHorizontalKeyboardLeft:function(a){if(this._isDropDownChild()){var b=this.get_parent();
if(b.get_dropDownVisible()){b.hideDropDown();
}b._focusPreviousItem();
}else{this._focusPreviousItem();
}},_onKeyboardUp:function(a){if(this._isDropDownChild()){var b=this._isToolBarHorizontal();
if(!b){this._focusPreviousItem();
return;
}}Telerik.Web.UI.RadToolBarButton.callBaseMethod(this,"_onKeyboardUp",[a]);
},_onKeyboardDown:function(a){if(this._isDropDownChild()){var b=this._isToolBarHorizontal();
if(!b){this._focusNextItem();
return;
}}Telerik.Web.UI.RadToolBarButton.callBaseMethod(this,"_onKeyboardDown",[a]);
},_onKeyboardLeft:function(a){if(this._isDropDownChild()){var c=this.get_toolBar()._isRtl();
var b=this._isToolBarHorizontal();
if(!b){if(!c){this.get_parent().hideDropDown();
this.get_parent().focus();
}return;
}}Telerik.Web.UI.RadToolBarButton.callBaseMethod(this,"_onKeyboardLeft",[a]);
},_onKeyboardRight:function(a){if(this._isDropDownChild()){var c=this.get_toolBar()._isRtl();
var b=this._isToolBarHorizontal();
if(!b){if(c){this.get_parent().hideDropDown();
this.get_parent().focus();
}return;
}}Telerik.Web.UI.RadToolBarButton.callBaseMethod(this,"_onKeyboardRight",[a]);
},_onKeyboardEsc:function(a){var b=this.get_parent();
var c=this.get_toolBar();
if(b==c){this.blur();
}else{b.hideDropDown();
b.focus();
}},_causesValidationSet:function(){return this._properties.getValue("causesValidation",null)!==null;
},_postBackUrlSet:function(){return this._properties.getValue("postBackUrl",null)!==null;
},_validationGroupSet:function(){return this._properties.getValue("validationGroup",null)!==null;
},_isParentHorizontal:function(a){var b=this.get_parent();
var c=this.get_toolBar();
if(b==c){return c.get_isHorizontal();
}return !c.get_isHorizontal();
},get_postBack:function(){return this._properties.getValue("postback",true);
},set_postBack:function(a){this._properties.setValue("postback",a);
},get_navigateUrl:function(){return this._getNavigateUrl();
},set_navigateUrl:function(a){this._properties.setValue("navigateUrl",a,true);
if(this.get_linkElement()){this.get_linkElement().href=a;
}},get_target:function(){if(this.get_linkElement()){return this._properties.getValue("target",this.get_linkElement().target);
}return this._properties.getValue("target",null);
},set_target:function(a){this._properties.setValue("target",a,true);
if(this.get_linkElement()){this.get_linkElement().target=a;
}},get_isSeparator:function(){return this._properties.getValue("isSeparator",false);
},set_isSeparator:function(a){if(this._isRendered){throw Error.invalidOperation("The IsSeparator property cannot be set to an already rendered button. Try setting the property before adding the button to the buttons/items collection of its parent.");
}this._properties.setValue("isSeparator",a,true);
},get_isChecked:function(){return this.get_checkOnClick()&&this.get_checked();
},get_linkElement:function(){if(this.get_isSeparator()){return null;
}return Telerik.Web.UI.RadToolBarButton.callBaseMethod(this,"get_linkElement");
},get_imageElement:function(){if(!this._imageElement){if(this._isDropDownChild()){if(this.get_linkElement()){this._imageElement=$telerik.getChildByClassName(this.get_linkElement(),"rtbIcon");
}}else{this._imageElement=Telerik.Web.UI.RadToolBarButton.callBaseMethod(this,"get_imageElement");
}}return this._imageElement;
},get_outerWrapElement:function(){if(this._isDropDownChild()){return null;
}return Telerik.Web.UI.RadToolBarButton.callBaseMethod(this,"get_outerWrapElement");
},get_textElement:function(){if(!this._textElement){if(this.get_isSeparator()&&this.get_element()){this._textElement=$telerik.getChildByClassName(this.get_element(),"rtbText");
}else{if(this._isDropDownChild()&&this.get_linkElement()){this._textElement=$telerik.getChildByClassName(this.get_linkElement(),"rtbText");
}else{if(this.get_innerWrapElement()){this._textElement=Telerik.Web.UI.RadToolBarButton.callBaseMethod(this,"get_textElement");
}}}}return this._textElement;
},get_checkOnClick:function(){return this._properties.getValue("checkOnClick",false);
},set_checkOnClick:function(a){if(this.get_checked()&&a!=this.get_checkOnClick()){this._processChecking(a,true,null);
return;
}this._properties.setValue("checkOnClick",a);
},get_checked:function(){return this._properties.getValue("checked",false);
},set_checked:function(a){this._setChecked(a);
},get_group:function(a){return this._properties.getValue("group","");
},set_group:function(c){var a=this.get_group();
this._properties.setValue("group",c);
var b=this.get_toolBar();
if(b&&this.get_isChecked()){if(!b._uncheckSameGroupButtons(this)){this._properties.setValue("group",a,true);
}}},get_checkedCssClass:function(){return this._properties.getValue("checkedCssClass","");
},set_checkedCssClass:function(a){this._properties.setValue("checkedCssClass",a,true);
},get_checkedImageUrl:function(){return this._properties.getValue("checkedImageUrl","");
},set_checkedImageUrl:function(a){this._properties.setValue("checkedImageUrl",a,true);
this._updateImageUrl();
},get_allowSelfUnCheck:function(a){return this._properties.getValue("allowSelfUnCheck",false);
},set_allowSelfUnCheck:function(a){this._properties.setValue("allowSelfUnCheck",a,true);
},get_commandName:function(){return this._properties.getValue("commandName","");
},set_commandName:function(a){this._properties.setValue("commandName",a,true);
},get_commandArgument:function(){return this._properties.getValue("commandArgument","");
},set_commandArgument:function(a){this._properties.setValue("commandArgument",a,true);
},get_causesValidation:function(){return this._properties.getValue("causesValidation",true);
},set_causesValidation:function(a){this._properties.setValue("causesValidation",a,true);
},get_validationGroup:function(){return this._properties.getValue("validationGroup","");
},set_validationGroup:function(a){this._properties.setValue("validationGroup",a,true);
},get_postBackUrl:function(){return this._properties.getValue("postBackUrl","");
},set_postBackUrl:function(a){this._properties.setValue("postBackUrl",a,true);
},toggle:function(){if(!this.get_checkOnClick()){throw Error.invalidOperation("The button is not checkable. Enable checking by setting the checkOnClick property to true first.");
}else{this.set_checked(!this.get_checked());
}},check:function(){this.set_checked(true);
},unCheck:function(){this.set_checked(false);
},click:function(){this._doClick(null);
}};
Telerik.Web.UI.RadToolBarButton.registerClass("Telerik.Web.UI.RadToolBarButton",Telerik.Web.UI.RadToolBarItem);
Type.registerNamespace("Telerik.Web.UI");
Telerik.Web.UI.ToolBarDropDownExpandDirection=function(){};
Telerik.Web.UI.ToolBarDropDownExpandDirection.prototype={Up:0,Down:1};
Telerik.Web.UI.ToolBarDropDownExpandDirection.registerEnum("Telerik.Web.UI.ToolBarDropDownExpandDirection");
Telerik.Web.UI.RadToolBarDropDown=function(){Telerik.Web.UI.RadToolBarDropDown.initializeBase(this);
};
Telerik.Web.UI.RadToolBarDropDown.prototype={_initialize:function(b,a){Telerik.Web.UI.RadToolBarDropDown.callBaseMethod(this,"_initialize",[b,a]);
this._dropDownWidth=b.dropDownWidth;
this._dropDownHeight=b.dropDownHeight;
this._ensureChildControls();
},_dispose:function(){Telerik.Web.UI.RadToolBarDropDown.callBaseMethod(this,"_dispose");
},_createChildControls:function(){this._children=new Telerik.Web.UI.RadToolBarButtonCollection(this);
Telerik.Web.UI.RadToolBar._createChildControls(this,this._children);
},_render:function(a){a[a.length]="<li class='rtbItem rtbDropDown ";
a[a.length]=this.get_outerCssClass();
a[a.length]=" ";
this._applyEnabledClass(a);
a[a.length]="'><a href='#' class='rtbWrap";
this._applyDirectionClass(a);
a[a.length]="'><span class='rtbOut'><span class='rtbMid'>";
this._renderInnerSpan(a);
this._renderImageAndText(a);
a[a.length]="<span class='rtbChoiceArrow'></span></span></span></span></a>";
this._renderDropDown(a);
a[a.length]="</li>";
},_applyDirectionClass:function(a){if(this.get_expandDirection==Telerik.Web.UI.ToolBarDropDownExpandDirection.Up){a[a.length]=" rtbExpandUp";
}else{a[a.length]=" rtbExpandDown";
}},_insertTextElement:function(d){var a=this.get_arrowElement();
var c=this.get_innerWrapElement();
if(!a||!c){return;
}var b=this.get_imageElement();
if(this._isImageBeforeText()||!b){c.insertBefore(d,a);
}else{c.insertBefore(d,b);
}},_insertImageElement:function(a){Telerik.Web.UI.RadToolBarButton.callBaseMethod(this,"_insertImageElement",[a]);
if(!this.get_textElement()&&this.get_arrowElement()){this.get_innerWrapElement().insertBefore(a,this.get_arrowElement());
}},_getExpandedClassName:function(){return"rtbDropDownExpanded";
},_destroyChildListElement:function(){this.get_toolBar()._destroyChildren(this);
},_onDropDownArrowClick:function(a){return false;
},_onClick:function(a){if(!this.get_dropDownVisible()){return this._showDropDown(a);
}return this._hideDropDown(a);
},_onMouseOver:function(a){this._updateElementClass(true,["rtbDropDownHovered"]);
return Telerik.Web.UI.RadToolBarDropDown.callBaseMethod(this,"_onMouseOver",[a]);
},_onMouseOut:function(a){this._updateElementClass(false,["rtbDropDownHovered"]);
return Telerik.Web.UI.RadToolBarDropDown.callBaseMethod(this,"_onMouseOut",[a]);
},_getData:function(){var a=Telerik.Web.UI.RadToolBarItem.callBaseMethod(this,"_getData");
a.itemType=Telerik.Web.UI.RadToolBarItemType.DropDown;
return a;
},_doLtrHorizontalKeyboardRight:function(){if(this.get_dropDownVisible()){this.blur();
this.hideDropDown();
}this._focusNextItem();
},_doLtrHorizontalKeyboardLeft:function(){if(this.get_dropDownVisible()){this.blur();
this.hideDropDown();
}this._focusPreviousItem();
},_doLtrHorizontalKeyboardUp:function(){if(this.get_dropDownVisible()){this.hideDropDown();
}},_doLtrHorizontalKeyboardDown:function(){if(!this.get_dropDownVisible()){this.showDropDown();
this._focusFirstChild();
}},_onKeyboardEsc:function(a){this.blur();
},_childClicked:function(b,a){this._hideDropDown(a);
},showDropDown:function(){if(!this.get_dropDownVisible()){return this._showDropDown(null);
}return false;
},hideDropDown:function(){if(this.get_dropDownVisible()){return this._hideDropDown(null);
}return false;
},get_expandDirection:function(){return this._properties.getValue("expandDirection",Telerik.Web.UI.ToolBarDropDownExpandDirection.Down);
},set_expandDirection:function(a){if(this.get_expandDirection()==a){return;
}this._properties.setValue("expandDirection",a,true);
},get_arrowElement:function(){if(!this._arrowElement){if(this.get_innerWrapElement()){this._arrowElement=$telerik.getChildByClassName(this.get_innerWrapElement(),"rtbChoiceArrow");
}}return this._arrowElement||null;
},get_dropDownVisible:function(){return this._isDropDownVisible;
},get_linkElement:function(){if(!this._linkElement&&this.get_element()){this._linkElement=$telerik.getChildByClassName(this.get_element(),"rtbWrap");
}return this._linkElement;
},get_buttons:function(){return this._getChildren();
}};
Telerik.Web.UI.RadToolBarDropDown.registerClass("Telerik.Web.UI.RadToolBarDropDown",Telerik.Web.UI.RadToolBarItem,Telerik.Web.UI.IRadToolBarDropDownItem);
Type.registerNamespace("Telerik.Web.UI");
Telerik.Web.UI.RadToolBarSplitButton=function(){Telerik.Web.UI.RadToolBarSplitButton.initializeBase(this);
};
Telerik.Web.UI.RadToolBarSplitButton.prototype={_initialize:function(c,a){this._callBase("_initialize",[c,a]);
this._dropDownWidth=c.dropDownWidth;
this._dropDownHeight=c.dropDownHeight;
this._ensureChildControls();
var b=this._properties.getValue("enabled",true);
if(!b&&this.get_enableDefaultButton()){this.getDefaultButton().set_enabled(false);
}},_dispose:function(){this._callBase("_dispose");
},_callBase:function(a,b){return Telerik.Web.UI.RadToolBarSplitButton.callBaseMethod(this,a,b||null);
},_createChildControls:function(){this._children=new Telerik.Web.UI.RadToolBarButtonCollection(this);
Telerik.Web.UI.RadToolBar._createChildControls(this,this._children);
},_render:function(a){a[a.length]="<li class='rtbItem rtbSplBtn ";
a[a.length]=this.get_outerCssClass();
a[a.length]=" ";
this._applyEnabledClass(a);
a[a.length]="'><a class='rtbWrap";
this._applyDirectionClass(a);
this._renderLinkAttributes(a);
a[a.length]=" ><span class='rtbOut'><span class='rtbMid'>";
this._renderInnerSpan(a);
a[a.length]="<span class='rtbSplBtnActivator'>";
this._renderImageAndText(a);
a[a.length]="</span><span class='rtbChoiceArrow'></span></span></span></span></a>";
this._renderDropDown(a);
a[a.length]="</li>";
},_applyDirectionClass:function(a){if(this.get_expandDirection==Telerik.Web.UI.ToolBarDropDownExpandDirection.Up){a[a.length]=" rtbExpandUp'";
}else{a[a.length]=" rtbExpandDown'";
}},_insertTextElement:function(c){var a=this.get_activatorElement();
if(!a){return;
}var b=this.get_imageElement();
if(this._isImageBeforeText()||!b){a.appendChild(c);
}else{a.insertBefore(c,b);
}},_buttonInserted:function(b){if(!this.get_enableDefaultButton()){return;
}this._defaultButton=null;
var a=this.getDefaultButton();
if(a!=b){return;
}this._setText(a.get_text());
this._updateImageUrl();
},_buttonRemoved:function(a){if(!this.get_enableDefaultButton()){return;
}var b=this.getDefaultButton();
if(b!=a||b.get_index()<a.get_index()){return;
}this._defaultButton=null;
var c=this.getDefaultButton();
this._setText(c.get_text());
this._updateImageUrl();
},_getProperty:function(b,a){if(!this.get_enableDefaultButton()){return this._properties.getValue(b,a||"");
}return this._getDefaultButtonProperty(b);
},_getDefaultButtonProperty:function(b){var c=this.get_toolBar();
if(!c||!c._childControlsCreated){return null;
}var a=this.getDefaultButton();
if(a){return a["get_"+b]();
}return null;
},_setProperty:function(a,b){if(!this.get_enableDefaultButton()){this._properties.setValue(a,b,true);
}return this._setDefaultButtonProperty(a,b);
},_setDefaultButtonProperty:function(b,d){var c=this.get_toolBar();
if(!c||!c._childControlsCreated){return;
}var a=this.getDefaultButton();
if(a){a["set_"+b](d);
}},_insertImageElement:function(a){this._callBase("_insertImageElement",[a]);
if(!this.get_textElement()&&this.get_activatorElement()){this.get_activatorElement().appendChild(a);
}},_destroyChildListElement:function(){this.get_toolBar()._destroyChildren(this);
},_getExpandedClassName:function(){return"rtbSplBtnExpanded";
},_getHoveredCssClass:function(){if(this.get_enableDefaultButton()){var a=this.getDefaultButton();
if(a){return a.get_hoveredCssClass();
}return"";
}return this._callBase("_getHoveredCssClass");
},_getFocusedCssClass:function(){if(this.get_enableDefaultButton()){var a=this.getDefaultButton();
if(a){return a.get_focusedCssClass();
}return"";
}return this._callBase("_getFocusedCssClass");
},_getClickedCssClass:function(){if(this.get_enableDefaultButton()){var a=this.getDefaultButton();
if(a){return a.get_clickedCssClass();
}return"";
}return this._callBase("_getClickedCssClass");
},_getText:function(){if(this.get_enableDefaultButton()){var a=this.getDefaultButton();
if(a){return a.get_text();
}return"";
}return this._callBase("_getText");
},_onDropDownArrowClick:function(a){if(!this.get_dropDownVisible()){return this._showDropDown(a);
}return this._hideDropDown(a);
},_beforeChildPostBack:function(a){this.get_toolBar().trackChanges();
this.set_defaultButtonIndex(a.get_index());
this.get_toolBar().commitChanges();
},_doClick:function(b){b=b||null;
if(this.get_enableDefaultButton()){var a=this.getDefaultButton();
if(a){return a._onClick(b);
}return false;
}return this._processClickPostBackLogic(b);
},_onClick:function(a){return this._doClick(a);
},_onFocus:function(a){this._updateElementClass(true,["rtbSplBtnFocused"]);
return this._callBase("_onFocus",[a]);
},_onBlur:function(a){this._updateElementClass(false,["rtbSplBtnFocused"]);
return this._callBase("_onBlur",[a]);
},_onMouseOver:function(a){this._updateElementClass(true,["rtbSplBtnHovered"]);
return this._callBase("_onMouseOver",[a]);
},_onMouseOut:function(a){this._updateElementClass(false,["rtbSplBtnHovered"]);
return this._callBase("_onMouseOut",[a]);
},_onMouseDown:function(a){this._updateElementClass(true,["rtbSplBtnClicked"]);
return this._callBase("_onMouseDown",[a]);
},_onMouseUp:function(a){this._updateElementClass(false,["rtbSplBtnClicked"]);
return this._callBase("_onMouseUp",[a]);
},_getData:function(){var a=Telerik.Web.UI.RadToolBarItem.callBaseMethod(this,"_getData");
a.itemType=Telerik.Web.UI.RadToolBarItemType.SplitButton;
return a;
},_doBlur:function(){this._callBase("_doBlur");
},_doLtrHorizontalKeyboardRight:function(){if(this.get_dropDownVisible()){this.blur();
}this._focusNextItem();
},_doLtrHorizontalKeyboardLeft:function(){if(this.get_dropDownVisible()){this.blur();
}this._focusPreviousItem();
},_doLtrHorizontalKeyboardUp:function(){if(this.get_dropDownVisible()){this.hideDropDown();
}},_doLtrHorizontalKeyboardDown:function(){if(!this.get_dropDownVisible()){this.showDropDown();
this._focusFirstChild();
}},_onKeyboardEsc:function(a){this.blur();
},_childClicked:function(b,a){var c=b.get_index();
if(c!=this.get_defaultButtonIndex()){this.get_toolBar().trackChanges();
this.set_defaultButtonIndex(b.get_index());
this.get_toolBar().commitChanges();
}this._hideDropDown(a);
},_getCurrentImageUrl:function(){var a=this;
if(this.get_enableDefaultButton()){a=this.getDefaultButton();
if(!a){return"";
}}var b;
if(!a.get_imageUrl()){return"";
}if(!this.get_isEnabled()){b=a.get_disabledImageUrl();
}if(!b&&this._getIsClicked()){b=a.get_clickedImageUrl();
}if(!b&&this._getIsHovered()){b=a.get_hoveredImageUrl();
}if(!b&&this._getIsFocused()){b=a.get_focusedImageUrl();
}if(!b){b=a.get_imageUrl();
}return b;
},_causesValidationSet:function(){return this._properties.getValue("causesValidation",null)!==null;
},_postBackUrlSet:function(){return this._properties.getValue("postBackUrl",null)!==null;
},_validationGroupSet:function(){return this._properties.getValue("validationGroup",null)!==null;
},get_dropDownVisible:function(){return this._isDropDownVisible;
},get_activatorElement:function(){if(!this.get_innerWrapElement()){return null;
}if(!this._activatorElement){this._activatorElement=$telerik.getChildByClassName(this.get_innerWrapElement(),"rtbSplBtnActivator");
}return this._activatorElement;
},get_arrowElement:function(){if(!this.get_innerWrapElement()){return null;
}if(!this._arrowElement){this._arrowElement=$telerik.getChildByClassName(this.get_innerWrapElement(),"rtbChoiceArrow");
}return this._arrowElement;
},get_textElement:function(){if(!this._textElement){if(this.get_activatorElement()){this._textElement=$telerik.getChildByClassName(this.get_activatorElement(),"rtbText");
}}return this._textElement;
},get_imageElement:function(){if(!this._imageElement){if(this.get_activatorElement()){this._imageElement=$telerik.getChildByClassName(this.get_activatorElement(),"rtbIcon");
}}return this._imageElement;
},showDropDown:function(){if(!this.get_dropDownVisible()){return this._showDropDown(null);
}return false;
},hideDropDown:function(){if(this.get_dropDownVisible()){return this._hideDropDown(null);
}return false;
},getDefaultButton:function(){if(!this.get_enableDefaultButton()){return null;
}if(this.get_buttons().get_count()===0){return null;
}if(!this._defaultButton){var b=this.get_defaultButtonIndex();
var a=this.get_buttons();
if(b>=a.get_count()||b<0){b=0;
}this._defaultButton=a.getButton(b);
}return this._defaultButton;
},click:function(){this._doClick(null);
},get_postBack:function(){return this._properties.getValue("postback",true);
},set_postBack:function(a){this._properties.setValue("postback",a,true);
},get_navigateUrl:function(){return this._getNavigateUrl();
},set_navigateUrl:function(a){this._properties.setValue("navigateUrl",a,true);
if(this.get_linkElement()){this.get_linkElement().href=a;
}},get_target:function(){if(this.get_linkElement()){return this._properties.getValue("target",this.get_linkElement().target);
}return this._properties.getValue("target",null);
},set_target:function(a){this._properties.setValue("target",a,true);
if(this.get_linkElement()){this.get_linkElement().target=a;
}},get_buttons:function(){return this._getChildren();
},get_enableDefaultButton:function(){return this._properties.getValue("enableDefaultButton",true);
},set_enableDefaultButton:function(a){if(a!=this.get_enableDefaultButton()){this._defaultButton=null;
}this._properties.setValue("enableDefaultButton",a);
},get_defaultButtonIndex:function(){return this._properties.getValue("defaultButtonIndex",0);
},set_defaultButtonIndex:function(b){if(b==this.get_defaultButtonIndex()){return;
}this._properties.setValue("defaultButtonIndex",b,true);
this._defaultButton=null;
var a=this.getDefaultButton();
if(a){this._setText(a.get_text());
this.set_toolTip(a.get_toolTip());
if(this.get_enableImageSprite()){this._destroyImageElement();
if(a.get_enableImageSprite()){this._createImageElement();
}}this._updateImageUrl();
this._updateToolTip();
}},get_expandDirection:function(){return this._properties.getValue("expandDirection",Telerik.Web.UI.ToolBarDropDownExpandDirection.Down);
},set_expandDirection:function(a){if(this.get_expandDirection()==a){return;
}this._properties.setValue("expandDirection",a,true);
},set_text:function(a){this._setProperty("text",a,true);
this._callBase("set_text",[a]);
},get_value:function(){return this._getProperty("value");
},set_value:function(a){this._setProperty("value",a);
},get_commandName:function(){return this._getProperty("commandName");
},set_commandName:function(a){this._setProperty("commandName",a);
},get_commandArgument:function(){return this._getProperty("commandArgument");
},set_commandArgument:function(a){this._setProperty("commandArgument",a);
},get_causesValidation:function(){return this._getProperty("causesValidation");
},set_causesValidation:function(a){this._setProperty("causesValidation",a);
},get_validationGroup:function(){return this._getProperty("validationGroup");
},set_validationGroup:function(a){this._setProperty("validationGroup",a);
},get_postBackUrl:function(){return this._getProperty("postBackUrl");
},set_postBackUrl:function(a){this._setProperty("postBackUrl",a);
},get_imageUrl:function(){return this._getProperty("imageUrl");
},set_imageUrl:function(a){this._setProperty("imageUrl",a);
this._updateImageUrl();
},get_hoveredImageUrl:function(){return this._getProperty("hoveredImageUrl");
},set_hoveredImageUrl:function(a){this._setProperty("hoveredImageUrl",a);
},get_focusedImageUrl:function(){return this._getProperty("focusedImageUrl");
},set_focusedImageUrl:function(a){this._setProperty("focusedImageUrl",a);
},get_clickedImageUrl:function(){return this._getProperty("clickedImageUrl");
},set_clickedImageUrl:function(a){this._setProperty("clickedImageUrl",a);
},get_hoveredCssClass:function(){return this._getProperty("hoveredCssClass");
},set_hoveredCssClass:function(a){this._setProperty("hoveredCssClass",a);
},get_focusedCssClass:function(){return this._getProperty("focusedCssClass");
},set_focusedCssClass:function(a){this._setProperty("focusedCssClass",a);
},get_clickedCssClass:function(){return this._getProperty("clickedCssClass");
},set_clickedCssClass:function(a){this._setProperty("clickedCssClass",a);
},set_enabled:function(a){this._setProperty("enabled",a);
Telerik.Web.UI.RadToolBarSplitButton.callBaseMethod(this,"set_enabled",[a]);
},get_enabled:function(){return this._getProperty("enabled",true);
}};
Telerik.Web.UI.RadToolBarSplitButton.registerClass("Telerik.Web.UI.RadToolBarSplitButton",Telerik.Web.UI.RadToolBarItem,Telerik.Web.UI.IRadToolBarDropDownItem);

/* END Telerik.Web.UI.ToolBar.RadToolBarScripts.js */
/* START Telerik.Sitefinity.Web.Scripts.GenericCollectionBinder.js */
Telerik.Sitefinity.Web.UI.GenericCollectionBinder=function(){this._selectedValue=null;
this._selectFirst=false;
this._selectLast=false;
Telerik.Sitefinity.Web.UI.GenericCollectionBinder.initializeBase(this);
};
Telerik.Sitefinity.Web.UI.GenericCollectionBinder.prototype={initialize:function(){Telerik.Sitefinity.Web.UI.GenericCollectionBinder.callBaseMethod(this,"initialize");
this._serviceCallback=this.BindCollection;
},dispose:function(){Telerik.Sitefinity.Web.UI.GenericCollectionBinder.callBaseMethod(this,"dispose");
},DataBind:function(){Telerik.Sitefinity.Web.UI.GenericCollectionBinder.callBaseMethod(this,"DataBind");
var clientManager=this.get_manager();
clientManager.set_urlParams(this.get_urlParams());
clientManager.GetItemCollection(this);
},SaveChanges:function(){if($(document.forms[0]).validate().form()==false){return false;
}this._savingHandler();
return true;
},BindCollection:function(data){data=this.DeserializeData(data);
this._dataBindingHandler(data);
this.ClearTarget();
var target=this.GetTarget();
var template=new Sys.UI.Template($get(this._clientTemplates[0]));
for(var i=0;
i<data.Items.length;
i++){var dataItem=data.Items[i];
this.LoadDataItemKey(dataItem);
var key=this.GetItemKey(i);
this._itemDataBindingHandler(dataItem);
this.LoadItem(this.GetTarget(),template,dataItem,data.IsGeneric,i);
var itemElement;
itemElement=jQuery(target).children()[i];
$(itemElement).find("[for]").each(function(i1,element){var attrUnique=$(element).attr("for")+i;
$(element).attr("for",attrUnique);
});
this.BuildInputWrappers(itemElement);
this.AssignCommands(itemElement,dataItem,key,i);
this.ApplyValidationRules(itemElement,i);
this._itemDataBoundHandler(key,dataItem,i,itemElement);
}if(this._selectedValue){var selValue=this._selectedValue;
if($(target).hasClass("radioList")){$(target).find('input:[value="'+selValue+'"]').each(function(){$(this).attr("checked","checked");
});
}else{if($(target).hasClass("checkboxList")){$(target).find('input:[value="'+selValue+'"]').each(function(){$(this).attr("checked","checked");
});
}else{if($(target).hasClass("optionList")){$(target).find("option").each(function(){if($(this).val()==selValue){$(this).attr("selected","selected");
return false;
}});
}}}this._selectedValue=null;
}else{if(this._selectFirst){this.SelectFirstOrLast(target,true);
this._selectFirst=false;
}else{if(this._selectLast){this.SelectFirstOrLast(target,false);
this._selectLast=false;
}}}this._dataBoundHandler(data);
},SelectFirstOrLast:function(target,value){var attr=value?"first":"last";
if($(target).hasClass("radioList")||$(target).hasClass("checkboxList")){$(target).find("input[type='radio']:"+attr).each(function(){$(this).attr("checked","checked");
});
}else{if($(target).hasClass("optionList")){$(target).find("option:"+attr).each(function(){$(this).attr("selected","selected");
});
}}},BindItem:function(data){alert("write here why this does not work!");
},get_selectedValue:function(){return this._selectedValue;
},set_selectedValue:function(value){if(this._selectedValue!=value){this._selectedValue=value;
this.raisePropertyChanged(value);
}},SelectFirst:function(){this._selectFirst=true;
},SelectLast:function(){this._selectLast=true;
}};
Telerik.Sitefinity.Web.UI.GenericCollectionBinder.registerClass("Telerik.Sitefinity.Web.UI.GenericCollectionBinder",Telerik.Sitefinity.Web.UI.ClientBinder);

/* END Telerik.Sitefinity.Web.Scripts.GenericCollectionBinder.js */
/* START Telerik.Web.UI.Ajax.Ajax.js */
Type.registerNamespace("Telerik.Web.UI");
Telerik.Web.UI.RadAjaxControl=function(a){Telerik.Web.UI.RadAjaxControl.initializeBase(this,[a]);
this._clientEvents={};
this._uniqueID="";
this._enableHistory=false;
this._enableAJAX=true;
this._requestQueueSize=0;
this._requestQueue=[];
this._loadingPanelsToHide=[];
this._initializeRequestHandler=null;
this._endRequestHandler=null;
this._isRequestInProgress=false;
this._links=[];
this._styles=[];
this.Type="Telerik.Web.UI.RadAjaxControl";
this.UniqueID=this._uniqueID;
this.EnableHistory=this._enableHistory;
this.EnableAJAX=this._enableAJAX;
this.Links=this._links;
this.Styles=this._styles;
this._enableAriaSupport=false;
this._updatePanels="";
};
Telerik.Web.UI.RadAjaxControl.prototype={initialize:function(){Telerik.Web.UI.RadAjaxControl.callBaseMethod(this,"initialize");
for(var a in this._clientEvents){if(typeof(this._clientEvents[a])!="string"){continue;
}if(this._clientEvents[a]!=""){var b=this._clientEvents[a];
if(b.indexOf("(")!=-1){this[a]=b;
}else{this[a]=eval(b);
}}else{this[a]=null;
}}var c=Sys.WebForms.PageRequestManager.getInstance();
if(this.get_enableAriaSupport()){this._initializeAriaSupport();
}this._initializeRequestHandler=Function.createDelegate(this,this._initializeRequest);
c.add_initializeRequest(this._initializeRequestHandler);
},_getResponseHeader:function(c,b){try{return c.getResponseHeader(b);
}catch(a){return null;
}},_handleAsyncRedirect:function(d){var b=this._getResponseHeader(d,"Location");
if(b&&b!=""){var c=document.createElement("a");
c.style.display="none";
c.href=b;
document.body.appendChild(c);
if(c.click){try{c.click();
}catch(a){}}else{window.location.href=b;
}document.body.removeChild(c);
return true;
}return false;
},_initializeAriaSupport:function(){var b=document.getElementsByTagName("div");
for(var c=0;
c<b.length;
c++){var a=b[c];
if(a.className&&a.className.indexOf("RadAjaxPanel")>-1){a.setAttribute("aria-live","assertive");
}}},_onFormSubmitCompleted:function(s,a){if(s._xmlHttpRequest!=null){if(this._handleAsyncRedirect(s._xmlHttpRequest)){try{s._aborted=true;
}catch(d){}return;
}}var g,k;
if(s._xmlHttpRequest!=null&&!s.get_timedOut()){var r=this.getResponseItems(s.get_responseData(),"scriptBlock");
for(g=0,k=r.length;
g<k;
g++){var c=r[g].content;
if(c.indexOf('"links":')!=-1&&c.indexOf(Sys.WebForms.PageRequestManager.getInstance()._uniqueIDToClientID(this._uniqueID))!=-1){var l=c.substr(c.indexOf('"links":')+10,c.indexOf("]",c.indexOf('"links":'))-(c.indexOf('"links":')+10)).replace(/\"/g,"");
if(l!=""){this._links=l.split(",");
this.updateHeadLinks();
}}if(c.indexOf(".axd")==-1&&r[g].id=="ScriptPath"){Telerik.Web.UI.RadAjaxControl.IncludeClientScript(c);
}}var p=this.getResponseItems(s.get_responseData(),"updatePanel");
Telerik.Web.UI.RadAjaxControl.panelsToClear=[];
for(g=0,k=p.length;
g<k;
g++){var o=p[g];
if(!$get(o.id)){var m=document.createElement("div");
m.id=o.id;
var f=$get(o.id.replace("Panel",""));
if(!f){continue;
}var q=f.parentNode;
var n=f.nextSibling||Telerik.Web.UI.RadAjaxControl.GetNodeNextSibling(f);
if(f.nodeType===1){if(f.dispose&&typeof(f.dispose)==="function"){f.dispose();
}else{if(f.control&&typeof(f.control.dispose)==="function"){f.control.dispose();
}}var b=Sys.UI.Behavior.getBehaviors(f);
for(var h=b.length-1;
h>=0;
h--){b[h].dispose();
}}$telerik.disposeElement(f);
q.removeChild(f);
Telerik.Web.UI.RadAjaxControl.InsertAtLocation(m,q,n);
Telerik.Web.UI.RadAjaxControl.panelsToClear[Telerik.Web.UI.RadAjaxControl.panelsToClear.length]=o;
}}}s.get_webRequest().remove_completed(this._onFormSubmitCompletedHandler);
},dispose:function(){this.hideLoadingPanels();
var a=Sys.WebForms.PageRequestManager.getInstance();
a.remove_initializeRequest(this._initializeRequestHandler);
window.$clearHandlers(this.get_element());
this._element.control=null;
window[Sys.WebForms.PageRequestManager.getInstance()._uniqueIDToClientID(this._uniqueID)]=null;
Telerik.Web.UI.RadAjaxControl.callBaseMethod(this,"dispose");
},get_enableAJAX:function(){return this._enableAJAX;
},set_enableAJAX:function(a){if(this._enableAJAX!=a){this._enableAJAX=a;
}},get_enableAriaSupport:function(){return this._enableAriaSupport;
},get_enableHistory:function(){return this._enableHistory;
},set_enableHistory:function(a){if(this._enableHistory!=a){this._enableHistory=a;
}},get_clientEvents:function(){return this._clientEvents;
},set_clientEvents:function(a){if(this._clientEvents!=a){this._clientEvents=a;
}},get_links:function(){return this._links;
},set_links:function(a){if(this._links!=a){this._links=a;
if(this._links.length>0){this.updateHeadLinks();
}}},get_styles:function(){return this._styles;
},set_styles:function(a){if(this._styles!=a){this._styles=a;
if(this._styles.length>0){this.updateHeadStyles();
}}},get_uniqueID:function(){return this._uniqueID;
},set_uniqueID:function(a){if(this._uniqueID!=a){this._uniqueID=a;
window[Sys.WebForms.PageRequestManager.getInstance()._uniqueIDToClientID(this._uniqueID)]=this;
}},get_requestQueueSize:function(){return this._requestQueueSize;
},set_requestQueueSize:function(a){if(a>0){this._requestQueueSize=a;
this.raisePropertyChanged("requestQueueSize");
}},isChildOf:function(a,b){while(a!=null){if(a==b){return true;
}a=a.parentNode;
}return false;
},_initializeRequest:function(i,a){var g=Sys.WebForms.PageRequestManager.getInstance();
if(g.get_isInAsyncPostBack()&&this._requestQueueSize>0){this._queueRequest(i,a);
return false;
}var e;
var c=false;
if(this.Type=="Telerik.Web.UI.RadAjaxManager"){if(a.get_postBackElement()!=this.get_element()){var f=this._updatePanels.split(",");
if(Array.contains(f,a.get_postBackElement().id)){this._isRequestInProgress=true;
this._attachRequestHandlers(i,a,false);
return false;
}else{e=a.get_postBackElement().parentNode;
c=false;
while(e!=null){if(e.id&&Array.contains(f,e.id)){c=true;
break;
}e=e.parentNode;
}if(c){this._isRequestInProgress=true;
this._attachRequestHandlers(i,a,false);
return false;
}}if(!this._initiators[a.get_postBackElement().id]){e=a.get_postBackElement().parentNode;
c=false;
while(e!=null){if(e.id&&this._initiators[e.id]){c=true;
break;
}e=e.parentNode;
}if(!c){this._isRequestInProgress=true;
this._attachRequestHandlers(i,a,false);
return false;
}}}}if(this.Type=="Telerik.Web.UI.RadAjaxPanel"){var d=this._getParentAjaxPanel(a.get_postBackElement());
if(d&&d.get_id()!=this.get_id()){return false;
}if(!this.isChildOf(a.get_postBackElement(),this.get_element())){return false;
}}if(this._enableHistory){if(Telerik.Web.UI.RadAjaxControl.History[""]==null){Telerik.Web.UI.RadAjaxControl.HandleHistory(i._uniqueIDToClientID(this._uniqueID),"");
}Telerik.Web.UI.RadAjaxControl.HandleHistory(i._uniqueIDToClientID(this._uniqueID),a.get_request().get_body());
}if(i._form.__EVENTTARGET&&i._form.__EVENTTARGET.value){this.__EVENTTARGET=i._form.__EVENTTARGET.value;
}else{this.__EVENTTARGET=a.get_postBackElement().id;
}if(a.get_postBackElement().name){this.__EVENTTARGET=a.get_postBackElement().name;
}this.__EVENTARGUMENT=i._form.__EVENTARGUMENT.value;
var b=new Telerik.Web.UI.RadAjaxRequestEventArgs(this.__EVENTTARGET,i._form.__EVENTARGUMENT.value,this._enableAJAX);
var h=this.fireEvent(this,"OnRequestStart",[b]);
if(b.get_cancel()||(typeof(h)!="undefined"&&!h)){delete this.__EVENTTARGET;
delete this.__EVENTARGUMENT;
a.set_cancel(true);
return;
}if(!b._enableAjax||!b.EnableAjax){a.set_cancel(true);
i._form.__EVENTTARGET.value=this.__EVENTTARGET;
i._form.__EVENTARGUMENT.value=this.__EVENTARGUMENT;
i._form.submit();
return;
}this._isRequestInProgress=true;
this._attachRequestHandlers(i,a,true);
},_endRequest:function(k,a){var l=this.context;
k.remove_endRequest(l._endRequestHandler);
for(var d=0,e=Telerik.Web.UI.RadAjaxControl.panelsToClear.length;
d<e;
d++){var g=Telerik.Web.UI.RadAjaxControl.panelsToClear[d];
var h=document.getElementById(g.id);
var b=$get(g.id.replace("Panel",""));
if(!b){continue;
}var j=h.parentNode;
var f=h.nextSibling||Telerik.Web.UI.RadAjaxControl.GetNodeNextSibling(h);
Telerik.Web.UI.RadAjaxControl.InsertAtLocation(b,j,f);
h.parentNode.removeChild(h);
}l._isRequestInProgress=false;
l.hideLoadingPanels();
if(typeof(l.__EVENTTARGET)!="undefined"&&typeof(l.__EVENTARGUMENT)!="undefined"&&!a.get_response().get_aborted()){var c=new Telerik.Web.UI.RadAjaxRequestEventArgs(l.__EVENTTARGET,l.__EVENTARGUMENT,l._enableAJAX);
l.fireEvent(l,"OnResponseEnd",[c]);
}if(l._requestQueue.length>0){l.__id=this.id;
l._executePendingRequest();
}},_queueRequest:function(e,a){a.set_cancel(true);
if(this._requestQueue.length>=this._requestQueueSize){return;
}var d=a.get_postBackElement();
var c=d.id;
if(d.name){c=d.name;
}if(e._form.__EVENTTARGET&&e._form.__EVENTTARGET.value){c=e._form.__EVENTTARGET.value;
}var b=e._form.__EVENTARGUMENT.value;
Array.enqueue(this._requestQueue,[c,b]);
},_executePendingRequest:function(){var d=Array.dequeue(this._requestQueue);
var c=d[0];
var b=d[1];
if(this._requestQueue.length>0&&this.__id!=""){var a=$find(this.__id);
if(a){Array.addRange(a._requestQueue,this._requestQueue);
}}var e=Sys.WebForms.PageRequestManager.getInstance();
e._doPostBack(c,b);
},_attachRequestHandlers:function(e,a,f){this._endRequestHandler=Function.createDelegate({context:this,id:this.get_id()},this._endRequest);
e.add_endRequest(this._endRequestHandler);
this._onFormSubmitCompletedHandler=Function.createDelegate(this,this._onFormSubmitCompleted);
a.get_request().add_completed(this._onFormSubmitCompletedHandler);
if(typeof(a.get_request()._get_eventHandlerList)=="function"){a.get_request()._get_eventHandlerList()._list.completed.reverse();
}else{if(Sys.Observer){var d=Sys.Observer._getContext(a.get_request());
if(d&&d.events){d.events._list.completed.reverse();
}}}if(f){var c=a.get_request().get_body();
var b=(c.lastIndexOf("&")!=c.length-1)?"&":"";
c+=b+"RadAJAXControlID="+e._uniqueIDToClientID(this._uniqueID);
a.get_request().set_body(c);
}},_getParentAjaxPanel:function(b){var a=null;
while(b!=null){if(typeof(b.id)!="undefined"&&$find(b.id)&&$find(b.id).Type=="Telerik.Web.UI.RadAjaxPanel"){a=$find(b.id);
break;
}b=b.parentNode;
}return a;
},getResponseItems:function(m,g,f){var l=Sys.WebForms.PageRequestManager.getInstance();
var j=m;
var c,h,n,e,a;
var k=0;
var i=null;
var b="|";
var d=[];
while(k<j.length){c=j.indexOf(b,k);
if(c===-1){i=l._findText(j,k);
break;
}h=parseInt(j.substring(k,c),10);
if((h%1)!==0){i=l._findText(j,k);
break;
}k=c+1;
c=j.indexOf(b,k);
if(c===-1){i=l._findText(j,k);
break;
}n=j.substring(k,c);
k=c+1;
c=j.indexOf(b,k);
if(c===-1){i=l._findText(j,k);
break;
}e=j.substring(k,c);
k=c+1;
if((k+h)>=j.length){i=l._findText(j,j.length);
break;
}if(typeof(l._decodeString)!="undefined"){a=l._decodeString(j.substr(k,h));
}else{a=j.substr(k,h);
}k+=h;
if(j.charAt(k)!==b){i=l._findText(j,k);
break;
}k++;
if(g!=undefined&&g!=n){continue;
}if(f!=undefined&&f!=e){continue;
}Array.add(d,{type:n,id:e,content:a});
}return d;
},pageLoading:function(b,a){},pageLoaded:function(b,a){},hideLoadingPanels:function(){for(var b=0;
b<this._loadingPanelsToHide.length;
b++){var c=this._loadingPanelsToHide[b].Panel;
var a=this._loadingPanelsToHide[b].ControlID;
if(c!=null){c.hide(a);
Array.remove(this._loadingPanelsToHide,this._loadingPanelsToHide[b]);
b--;
}}},fireEvent:function(d,b,a){var c=true;
if(typeof(d[b])=="string"){c=eval(d[b]);
}else{if(typeof(d[b])=="function"){if(a){if(typeof(a.unshift)!="undefined"){a.unshift(d);
c=d[b].apply(d,a);
}else{c=d[b].apply(d,[a]);
}}else{c=d[b]();
}}}if(typeof(c)!="boolean"){return true;
}else{return c;
}},updateHeadLinks:function(){var e=this.getHeadElement();
var d=e.getElementsByTagName("link");
var c=[];
for(var k=0,h=d.length;
k<h;
k++){var b=d[k].getAttribute("href");
c.push(b);
}for(var g=0,l=this._links.length;
g<l;
g++){var f=this._links[g];
f=f.replace(/&amp;amp;t/g,"&t");
f=f.replace(/&amp;t/g,"&t");
var a=Array.contains(c,f);
if(!a){if(f==""){continue;
}var m=document.createElement("link");
m.setAttribute("rel","stylesheet");
m.setAttribute("href",f);
e.appendChild(m);
}}},_retrieveFirstStyleSheet:function(){var h=null;
if(document.createStyleSheet!=null){try{h=document.createStyleSheet();
}catch(c){}if(h==null){h=document.createElement("style");
}}else{var f=document.styleSheets;
if(f.length==0){var b=document.createElement("style");
b.media="all";
b.type="text/css";
var d=this.getHeadElement();
d.appendChild(b);
}var g=f.length;
var a=0;
while(h==null&&a<g){h=f[a++];
try{h.cssRules;
}catch(c){h=null;
}}}return h;
},updateHeadStyles:function(){var f=this._retrieveFirstStyleSheet();
if(f==null){return;
}var b,d,c,a;
if(document.createStyleSheet!=null){for(b=0,d=this._styles.length;
b<d;
b++){a=this._styles[b];
f.cssText=a;
}}else{for(b=0;
b<this._styles.length;
b++){a=this._styles[b];
var e=a.split("}");
for(c=0;
c<e.length;
c++){if(e[c].replace(/\s*/,"")==""){continue;
}if(e[c].indexOf("{")!=-1){f.insertRule(e[c]+"}",f.cssRules.length);
}}}}},getHeadElement:function(){var b=document.getElementsByTagName("head");
if(b.length>0){return b[0];
}var a=document.createElement("head");
document.documentElement.appendChild(a);
return a;
},ajaxRequest:function(a){__doPostBack(this._uniqueID,a);
},ajaxRequestWithTarget:function(b,a){__doPostBack(b,a);
},__doPostBack:function(c,a){var b=Sys.WebForms.PageRequestManager.getInstance()._form;
if(b!=null){if(b.__EVENTTARGET!=null){b.__EVENTTARGET.value=c;
}if(b.__EVENTARGUMENT!=null){b.__EVENTARGUMENT.value=a;
}b.submit();
}}};
Telerik.Web.UI.RadAjaxControl.registerClass("Telerik.Web.UI.RadAjaxControl",Sys.UI.Control);
Telerik.Web.UI.RadAjaxRequestEventArgs=function(c,b,a){Telerik.Web.UI.RadAjaxRequestEventArgs.initializeBase(this);
this._enableAjax=a;
this._eventTarget=c;
this._eventArgument=b;
this._postbackControlClientID=c.replace(/(\$|:)/g,"_");
this._eventTargetElement=$get(this._postbackControlClientID);
this.EnableAjax=this._enableAjax;
this.EventTarget=this._eventTarget;
this.EventArgument=this._eventArgument;
this.EventTargetElement=this._eventTargetElement;
};
Telerik.Web.UI.RadAjaxRequestEventArgs.prototype={get_enableAjax:function(){return this._enableAjax;
},set_enableAjax:function(a){if(this._enableAjax!=a){this._enableAjax=a;
}},get_eventTarget:function(){return this._eventTarget;
},get_eventArgument:function(){return this._eventArgument;
},get_eventTargetElement:function(){return this._eventTargetElement;
}};
Telerik.Web.UI.RadAjaxRequestEventArgs.registerClass("Telerik.Web.UI.RadAjaxRequestEventArgs",Sys.CancelEventArgs);
Telerik.Web.UI.RadAjaxControl.History={};
Telerik.Web.UI.RadAjaxControl.HandleHistory=function(a,b){if(window.netscape){return;
}var c=$get(a+"_History");
if(c==null){c=document.createElement("iframe");
c.id=a+"_History";
c.name=a+"_History";
c.style.width="0px";
c.style.height="0px";
c.src="about:blank";
c.style.visibility="hidden";
var d=function(j){if(!Telerik.Web.UI.RadAjaxControl.ShouldLoadHistory){Telerik.Web.UI.RadAjaxControl.ShouldLoadHistory=true;
return;
}var o="";
var f="";
var h=c.contentWindow.document.getElementById("__DATA");
if(!h){return;
}var g=h.value.split("&");
for(var l=0,n=g.length;
l<n;
l++){var m=g[l].split("=");
if(m[0]=="__EVENTTARGET"){o=m[1];
}if(m[0]=="__EVENTARGUMENT"){f=m[1];
}var k=document.getElementById(Sys.WebForms.PageRequestManager.getInstance()._uniqueIDToClientID(m[0]));
if(k!=null){Telerik.Web.UI.RadAjaxControl.RestorePostData(k,Telerik.Web.UI.RadAjaxControl.DecodePostData(m[1]));
}}if(o!=""){__doPostBack(Telerik.Web.UI.RadAjaxControl.DecodePostData(o),Telerik.Web.UI.RadAjaxControl.DecodePostData(f),a);
}};
window.$addHandler(c,"load",d);
document.body.appendChild(c);
}if(Telerik.Web.UI.RadAjaxControl.History[b]==null){Telerik.Web.UI.RadAjaxControl.History[b]=true;
Telerik.Web.UI.RadAjaxControl.AddHistoryEntry(c,b);
}};
Telerik.Web.UI.RadAjaxControl.AddHistoryEntry=function(b,a){Telerik.Web.UI.RadAjaxControl.ShouldLoadHistory=false;
b.contentWindow.document.open();
b.contentWindow.document.write("<input id='__DATA' name='__DATA' type='hidden' value='"+a+"' />");
b.contentWindow.document.close();
if(window.netscape){b.contentWindow.document.location.hash="#'"+new Date()+"'";
}};
Telerik.Web.UI.RadAjaxControl.DecodePostData=function(a){if(decodeURIComponent){return decodeURIComponent(a);
}else{return unescape(a);
}};
Telerik.Web.UI.RadAjaxControl.RestorePostData=function(a,d){if(a.tagName.toLowerCase()=="select"){for(var b=0,c=a.options.length;
b<c;
b++){if(d.indexOf(a.options[b].value)!=-1){a.options[b].selected=true;
}}}if(a.tagName.toLowerCase()=="input"&&(a.type.toLowerCase()=="text"||a.type.toLowerCase()=="hidden")){a.value=d;
}if(a.tagName.toLowerCase()=="input"&&(a.type.toLowerCase()=="checkbox"||a.type.toLowerCase()=="radio")){a.checked=d;
}};
Telerik.Web.UI.RadAjaxControl.GetNodeNextSibling=function(a){if(a!=null&&a.nextSibling!=null){return a.nextSibling;
}return null;
};
Telerik.Web.UI.RadAjaxControl.InsertAtLocation=function(a,c,b){if(b!=null){return c.insertBefore(a,b);
}else{return c.appendChild(a);
}};
Telerik.Web.UI.RadAjaxControl.FocusElement=function(a){var c=document.getElementById(a);
if(c){var b=c.tagName;
var d=c.type;
if(b.toLowerCase()=="input"&&(d.toLowerCase()=="checkbox"||d.toLowerCase()=="radio")){window.setTimeout(function(){try{c.focus();
}catch(g){}},500);
}else{try{Telerik.Web.UI.RadAjaxControl.SetSelectionFocus(c);
c.focus();
}catch(f){}}}};
Telerik.Web.UI.RadAjaxControl.SetSelectionFocus=function(b){if(b.createTextRange==null){return;
}var c=null;
try{c=b.createTextRange();
}catch(a){}if(c!=null){c.moveStart("textedit",c.text.length);
c.collapse(false);
c.select();
}};
Telerik.Web.UI.RadAjaxControl.panelsToClear=[];
Telerik.Web.UI.RadAjaxControl.UpdateElement=function(g,e){var a=$get(g);
if(a!=null){a.innerHTML=e;
var f,h;
var l=Telerik.Web.UI.RadAjaxControl.GetScriptsSrc(e);
for(f=0,h=l.length;
f<h;
f++){Telerik.Web.UI.RadAjaxControl.IncludeClientScript(l[f]);
}l=Telerik.Web.UI.RadAjaxControl.GetTags(e,"script");
for(f=0,h=l.length;
f<h;
f++){var k=l[f];
if(k.inner!=""){Telerik.Web.UI.RadAjaxControl.EvalScriptCode(k.inner);
}}var b=document.getElementsByTagName("head")[0];
var d=Telerik.Web.UI.RadAjaxControl.GetLinkHrefs(e);
for(f=0,h=d.length;
f<h;
f++){var c=d[f];
var j=document.createElement("link");
j.setAttribute("rel","stylesheet");
j.setAttribute("href",c);
b.appendChild(j);
}}};
Telerik.Web.UI.RadAjaxControl.IncludeClientScript=function(c){if(!Telerik.Web.UI.RadAjaxControl.ShouldIncludeClientScript(c)){return;
}var a=(window.XMLHttpRequest)?new XMLHttpRequest():new ActiveXObject("Microsoft.XMLHTTP");
a.open("GET",c,false);
a.send(null);
if(a.status==200){var b=a.responseText;
Telerik.Web.UI.RadAjaxControl.EvalScriptCode(b);
}};
Telerik.Web.UI.RadAjaxControl.ShouldIncludeClientScript=function(b){var a=$telerik.isScriptRegistered(b);
if(a==0||a>1){return false;
}return true;
};
Telerik.Web.UI.RadAjaxControl.EvalScriptCode=function(b){if(Telerik.Web.UI.RadAjaxControl.IsSafari()){b=b.replace(/^\s*<!--((.|\n)*)-->\s*$/mi,"$1");
}var a=document.createElement("script");
a.setAttribute("type","text/javascript");
if(Telerik.Web.UI.RadAjaxControl.IsSafari()){a.appendChild(document.createTextNode(b));
}else{a.text=b;
}var c=document.getElementsByTagName("head")[0];
c.appendChild(a);
if(Telerik.Web.UI.RadAjaxControl.IsSafari()){a.innerHTML="";
}else{a.parentNode.removeChild(a);
}};
Telerik.Web.UI.RadAjaxControl.GetTags=function(b,f){var d=[];
var a=b;
while(1){var e=Telerik.Web.UI.RadAjaxControl.GetTag(a,f);
if(e.index==-1){break;
}d[d.length]=e;
var c=e.index+e.outer.length;
a=a.substring(c,a.length);
}return d;
};
Telerik.Web.UI.RadAjaxControl.GetTag=function(b,e,a){if(typeof(a)=="undefined"){a="";
}var d=new RegExp("<"+e+"[^>]*>((.|\n|\r)*?)</"+e+">","i");
var c=b.match(d);
if(c!=null&&c.length>=2){return{outer:c[0],inner:c[1],index:c.index};
}else{return{outer:a,inner:a,index:-1};
}};
Telerik.Web.UI.RadAjaxControl.GetLinkHrefs=function(c){var b=c;
var a=[];
while(1){var e=b.match(/<link[^>]*href=('|")?([^'"]*)('|")?([^>]*)>.*?(<\/link>)?/i);
if(e==null||e.length<3){break;
}var f=e[2];
a[a.length]=f;
var d=e.index+f.length;
b=b.substring(d,b.length);
}return a;
};
Telerik.Web.UI.RadAjaxControl.GetScriptsSrc=function(c){var b=c;
var a=[];
while(1){var e=b.match(/<script[^>]*src=('|")?([^'"]*)('|")?([^>]*)>.*?(<\/script>)?/i);
if(e==null||e.length<3){break;
}var f=e[2];
a[a.length]=f;
var d=e.index+f.length;
b=b.substring(d,b.length);
}return a;
};
Telerik.Web.UI.RadAjaxControl.IsSafari=function(){return(navigator.userAgent.match(/safari/i)!=null);
};
Type.registerNamespace("Telerik.Web.UI");
$telerik.findAjaxLoadingPanel=$find;
$telerik.toAjaxLoadingPanel=function(a){return a;
};
Telerik.Web.UI.RadAjaxLoadingPanel=function(a){var b=["showing","hiding"];
this._initializeClientEvents(b);
Telerik.Web.UI.RadAjaxLoadingPanel.initializeBase(this,[a]);
this._uniqueID="";
this._minDisplayTime=0;
this._initialDelayTime=0;
this._isSticky=false;
this._transparency=0;
this._manager=null;
this._zIndex=90000;
this.skin="";
this._animationDuration=0;
this._backgroundTransparency=0;
this._enableAriaSupport=false;
this.UniqueID=this._uniqueID;
this.MinDisplayTime=this._minDisplayTime;
this.InitialDelayTime=this._initialDelayTime;
this.IsSticky=this._isSticky;
this.Transparency=this._transparency;
this.ZIndex=this._zIndex;
this._overlay=false;
this._overlayIFrame={};
};
Telerik.Web.UI.RadAjaxLoadingPanel.prototype={initialize:function(){Telerik.Web.UI.RadAjaxLoadingPanel.callBaseMethod(this,"initialize");
if(this.get_enableAriaSupport()){this.get_element().setAttribute("aria-busy","true");
}},dispose:function(){Telerik.Web.UI.RadAjaxLoadingPanel.callBaseMethod(this,"dispose");
},get_zIndex:function(){return this._zIndex;
},set_zIndex:function(a){if(this._zIndex!=a){this._zIndex=a;
}},get_uniqueID:function(){return this._uniqueID;
},set_uniqueID:function(a){if(this._uniqueID!=a){this._uniqueID=a;
window[Sys.WebForms.PageRequestManager.getInstance()._uniqueIDToClientID(this._uniqueID)]=this;
}},get_initialDelayTime:function(){return this._initialDelayTime;
},set_initialDelayTime:function(a){if(this._initialDelayTime!=a){this._initialDelayTime=a;
}},get_isSticky:function(){return this._isSticky;
},set_isSticky:function(a){if(this._isSticky!=a){this._isSticky=a;
}},get_minDisplayTime:function(){return this._minDisplayTime;
},set_minDisplayTime:function(a){if(this._minDisplayTime!=a){this._minDisplayTime=a;
}},get_transparency:function(){return this._transparency;
},set_transparency:function(a){if(this._transparency!=a){this._transparency=a;
}},get_backgroundTransparency:function(){return this._backgroundTransparency;
},set_backgroundTransparency:function(a){if(this._backgroundTransparency!=a){this._backgroundTransparency=a;
}},get_animationDuration:function(){return this._animationDuration;
},set_animationDuration:function(a){this._animationDuration=a;
},get_enableAriaSupport:function(){return this._enableAriaSupport;
},show:function(f){var e=$get(f+"_wrapper");
if((typeof(e)=="undefined")||(!e)){e=$get(f);
}var d=this.get_element();
if(!(e&&d)){return false;
}var b=this._initialDelayTime;
var c=this;
var a=(!this._isSticky)?this.cloneLoadingPanel(d,f):d;
if(b){window.setTimeout(function(){try{if(c._manager!=null&&c._manager._isRequestInProgress){c.displayLoadingElement(a,e);
}}catch(g){}},b);
}else{this.displayLoadingElement(a,e);
}return true;
},hide:function(m){var e=$get(m);
var i=String.format("{0}_wrapper",m);
var h=$get(i);
if(h){e=h;
}if(this.get_element()==null){var d=$get(Sys.WebForms.PageRequestManager.getInstance()._uniqueIDToClientID(this._uniqueID));
if(d==null){return;
}this._element=d;
}var b=(!this._isSticky)?$get(this.get_element().id+m):this.get_element();
var j=new Date();
if(b==null){return;
}var l=j-b._startDisplayTime;
var g=this._minDisplayTime;
var f=new Telerik.Web.UI.AjaxLoadingPanelEventArgs(b,e);
this.raise_hiding(f);
if(!f.get_cancelNativeDisplay()){if(this._overlayIFrame&&this._overlayIFrame[b.id]){var k=this._overlayIFrame;
var c=b.id;
window.setTimeout(function(){if(k&&k[c]){k[c].dispose();
k[c]=null;
}k=null;
},(g>l)?g-l:0);
}var a=this.get_animationDuration();
if(this._isSticky){if(g>l){window.setTimeout(function(){if(!b.parentNode){return;
}if(a>0){$telerik.$(b).fadeOut(a,function(){b.style.display="none";
});
}else{b.style.display="none";
}},g-l);
}else{if(a>0){$telerik.$(b).fadeOut(a,function(){b.style.display="none";
});
}else{b.style.display="none";
}}}else{if(g>l){window.setTimeout(function(){if(!b.parentNode){return;
}if(a>0){$telerik.$(b).fadeOut(a,function(){b.parentNode.removeChild(b);
});
}else{b.parentNode.removeChild(b);
}},g-l);
}else{if(a>0){$telerik.$(b).fadeOut(a,function(){b.parentNode.removeChild(b);
});
}else{b.parentNode.removeChild(b);
}}}}if(!this._isSticky&&typeof(e)!="undefined"&&(e!=null)){e.style.visibility="visible";
}},cloneLoadingPanel:function(b,c){var a=b.cloneNode(false);
a.innerHTML=b.innerHTML;
a.id=b.id+c;
document.body.insertBefore(a,document.body.firstChild);
return a;
},displayLoadingElement:function(c,h){if(!this._isSticky){if($telerik.isIE6){this._setDropDownsVisibitily(h,false);
}var f=this.getElementRectangle(h);
c.style.position="absolute";
c.style.width=f.width+"px";
c.style.height=f.height+"px";
c.style.left=f.left+"px";
c.style.top=f.top+"px";
c.style.textAlign="center";
c.style.zIndex=this._zIndex;
}var e=100-parseInt(this._transparency,10);
if(e<100){$telerik.$(c).css("opacity",e/100);
}var a=100-parseInt(this._backgroundTransparency,10);
if(a<100){$telerik.$(c).find(".raColor").css("opacity",a/100);
}var g=this;
var b=function(){if(e==100&&!g._isSticky){var i=true;
if(g.skin!=""){if(typeof c.style.opacity=="undefined"){if($telerik.$(c).css("filter").indexOf("opacity")!=-1||$telerik.$(c.firstChild.nextSibling).css("filter").indexOf("opacity")!=-1){i=false;
}}else{if($telerik.$(c).css("opacity")>0||$telerik.$(c.getElementsByClassName("raDiv")[0]).css("opacity")>0){i=false;
}}}if(i){h.style.visibility="hidden";
}}};
var d=new Telerik.Web.UI.AjaxLoadingPanelEventArgs(c,h);
this.raise_showing(d);
if(!d.get_cancelNativeDisplay()){if(this.get_animationDuration()>0){$telerik.$(c).css("opacity",0);
c.style.display="";
$telerik.$(c).animate({opacity:e/100},this.get_animationDuration(),b);
}else{c.style.display="";
b();
}if(this._overlay){this._overlayIFrame[c.id]=new Telerik.Web.UI.Overlay(c);
this._overlayIFrame[c.id].initialize();
}}c._startDisplayTime=new Date();
},_setDropDownsVisibitily:function(b,a){if(!b){b=this;
}b.className+=" RadAjaxUpdatedElement";
},getElementRectangle:function(a){if(!a){a=this;
}var d=$telerik.getLocation(a);
var c=d.x;
var e=d.y;
var f=a.offsetWidth;
var b=a.offsetHeight;
return{left:c,top:e,width:f,height:b};
},_initializeClientEvents:function(a){if(a){var e=this;
for(var b=0,c=a.length;
b<c;
b++){var d=a[b];
this["add_"+d]=(function(f){return function(g){e.get_events().addHandler(f,g);
};
}(d));
this["remove_"+d]=(function(f){return function(g){e.get_events().removeHandler(f,g);
};
}(d));
this["raise_"+d]=(function(f){return function(g){e.raiseEvent(f,g);
};
}(d));
}}}};
Telerik.Web.UI.RadAjaxLoadingPanel.registerClass("Telerik.Web.UI.RadAjaxLoadingPanel",Telerik.Web.UI.RadWebControl);
Telerik.Web.UI.AjaxLoadingPanelEventArgs=function(a,b){Telerik.Web.UI.AjaxLoadingPanelEventArgs.initializeBase(this);
this._loadingElement=a;
this._updatedElement=b;
this._cancelNativeDisplay=false;
};
Telerik.Web.UI.AjaxLoadingPanelEventArgs.prototype={get_loadingElement:function(){return this._loadingElement;
},get_updatedElement:function(){return this._updatedElement;
},get_cancelNativeDisplay:function(){return this._cancelNativeDisplay;
},set_cancelNativeDisplay:function(a){this._cancelNativeDisplay=a;
}};
Telerik.Web.UI.AjaxLoadingPanelEventArgs.registerClass("Telerik.Web.UI.AjaxLoadingPanelEventArgs",Sys.EventArgs);
Type.registerNamespace("Telerik.Web.UI");
$telerik.findAjaxManager=$find;
$telerik.toAjaxManager=function(a){return a;
};
Telerik.Web.UI.RadAjaxManager=function(a){Telerik.Web.UI.RadAjaxManager.initializeBase(this,[a]);
this._ajaxSettings=[];
this._defaultLoadingPanelID="";
this._initiators={};
this._loadingPanelsToHide=[];
this._isRequestInProgress=false;
this.Type="Telerik.Web.UI.RadAjaxManager";
this._updatePanelsRenderMode=null;
this.AjaxSettings=this._ajaxSettings;
this.DefaultLoadingPanelID=this._defaultLoadingPanelID;
};
Telerik.Web.UI.RadAjaxManager.prototype={initialize:function(){Telerik.Web.UI.RadAjaxManager.callBaseMethod(this,"initialize");
var b=this.get_element();
if(b!=null&&b.parentNode!=null&&b.parentNode.id==b.id+"SU"){b.parentNode.style.display="none";
}var a=this.get_ajaxSettings();
for(var c=0,d=a.length;
c<d;
c++){this._initiators[a[c].InitControlID]=a[c].UpdatedControls;
}},dispose:function(){Telerik.Web.UI.RadAjaxManager.callBaseMethod(this,"dispose");
},get_ajaxSettings:function(){return this._ajaxSettings;
},set_ajaxSettings:function(a){if(this._ajaxSettings!=a){this._ajaxSettings=a;
}},get_defaultLoadingPanelID:function(){return this._defaultLoadingPanelID;
},set_defaultLoadingPanelID:function(a){if(this._defaultLoadingPanelID!=a){this._defaultLoadingPanelID=a;
}},get_updatePanelsRenderMode:function(){return this._updatePanelsRenderMode;
},set_updatePanelsRenderMode:function(a){if(this._updatePanelsRenderMode!=a){this._updatePanelsRenderMode=a;
this._applyUpdatePanelsRenderMode(a);
}},_applyUpdatePanelsRenderMode:function(e){var d=Sys.WebForms.PageRequestManager.getInstance();
var b=d._updatePanelClientIDs;
for(var a=0;
a<b.length;
a++){var c=$get(b[a]);
if(c){if(c.tagName.toLowerCase()=="span"){continue;
}c.style.display=(e==0)?"block":"inline";
}}},showLoadingPanels:function(e,b){for(var d=0,g=b.length;
d<g;
d++){if(b[d].InitControlID==e){var a=b[d];
for(var f=0,h=a.UpdatedControls.length;
f<h;
f++){var n=a.UpdatedControls[f];
var m=n.PanelID;
if(m==""){m=this._defaultLoadingPanelID;
}var c=n.ControlID;
if(c==this._uniqueID){continue;
}var l=$find(m);
if(l!=null){l._manager=this;
if(l.show(c)){var k={Panel:l,ControlID:c};
if(!Array.contains(this._loadingPanelsToHide,k)){this._loadingPanelsToHide[this._loadingPanelsToHide.length]=k;
}}}}}}},_showLoadingPanelsForElementsInRequestQueue:function(a){if(this._requestQueue.length==0){return false;
}else{if(this._requestQueue[this._requestQueue.length-1][0]!=a.id){for(var b=0;
b<this._requestQueue.length;
b++){this._showLoadingPanelsForGivenElement($get(this._requestQueue[b][0]));
}}}},_showLoadingPanelsForGivenElement:function(c){if(c!=null){if(this._initiators[c.id]){this.showLoadingPanels(c.id,this.get_ajaxSettings());
}else{var b=c.parentNode;
var a=false;
while(b!=null){if(b.id&&this._initiators[b.id]){a=true;
break;
}b=b.parentNode;
}if(a){this.showLoadingPanels(b.id,this.get_ajaxSettings());
}}}},_initializeRequest:function(c,a){Telerik.Web.UI.RadAjaxManager.callBaseMethod(this,"_initializeRequest",[c,a]);
if(!this._isRequestInProgress){return;
}var b=a.get_postBackElement();
this._showLoadingPanelsForGivenElement(b);
this._showLoadingPanelsForElementsInRequestQueue(b);
},updateElement:function(b,a){Telerik.Web.UI.RadAjaxControl.UpdateElement(b,a);
}};
Telerik.Web.UI.RadAjaxManager.registerClass("Telerik.Web.UI.RadAjaxManager",Telerik.Web.UI.RadAjaxControl);
Telerik.Web.UI.RadAjaxManager.UpdateElement=function(b,a){Telerik.Web.UI.RadAjaxControl.UpdateElement(b,a);
};
Type.registerNamespace("Telerik.Web.UI");
$telerik.findAjaxPanel=$find;
$telerik.toAjaxPanel=function(a){return a;
};
Telerik.Web.UI.RadAjaxPanel=function(a){Telerik.Web.UI.RadAjaxPanel.initializeBase(this,[a]);
this._loadingPanelID="";
this._loadingPanelsToHide=[];
this.Type="Telerik.Web.UI.RadAjaxPanel";
this.LoadingPanelID=this._loadingPanelID;
};
Telerik.Web.UI.RadAjaxPanel.prototype={initialize:function(){var a=this.get_element().parentNode;
if(this.get_element().style.height!=""){a.style.height=this.get_element().style.height;
this.get_element().style.height="100%";
}if(this.get_element().style.width!=""){a.style.width=this.get_element().style.width;
this.get_element().style.width="";
}Telerik.Web.UI.RadAjaxPanel.callBaseMethod(this,"initialize");
},dispose:function(){Telerik.Web.UI.RadAjaxPanel.callBaseMethod(this,"dispose");
},_initializeRequest:function(e,a){Telerik.Web.UI.RadAjaxPanel.callBaseMethod(this,"_initializeRequest",[e,a]);
if(!this._isRequestInProgress){return;
}var d=a.get_postBackElement();
if(d!=null&&(d==this.get_element()||this.isChildOf(d,this.get_element()))){var c=$find(this._loadingPanelID);
if(c!=null){c._manager=this;
if(c.show(this.get_element().id)){var b={Panel:c,ControlID:this.get_element().id};
if(!Array.contains(this._loadingPanelsToHide,b)){this._loadingPanelsToHide[this._loadingPanelsToHide.length]=b;
}}}}},get_loadingPanelID:function(){return this._loadingPanelID;
},set_loadingPanelID:function(a){if(this._loadingPanelID!=a){this._loadingPanelID=a;
}}};
Telerik.Web.UI.RadAjaxPanel.registerClass("Telerik.Web.UI.RadAjaxPanel",Telerik.Web.UI.RadAjaxControl);

/* END Telerik.Web.UI.Ajax.Ajax.js */
/* START Telerik.Sitefinity.Web.Scripts.UserPreferences.js */
Type.registerNamespace("Telerik.Sitefinity.Web.UI");
var _userPreferences=null;
function GetUserPreferences(){return _userPreferences;
}Telerik.Sitefinity.Web.UI.UserPreferences=function(){Telerik.Sitefinity.Web.UI.UserPreferences.initializeBase(this);
this._timeOffset=0;
this._timeZoneDisplayName=null;
this._timeZoneId=null;
this._userBrowserSettingsForCalculatingDates=true;
};
Telerik.Sitefinity.Web.UI.UserPreferences.prototype={initialize:function(){Telerik.Sitefinity.Web.UI.UserPreferences.callBaseMethod(this,"initialize");
_userPreferences=this;
},dispose:function(){Telerik.Sitefinity.Web.UI.UserPreferences.callBaseMethod(this,"dispose");
},sitefinityLocaleFormat:function(date,format){if(this._userBrowserSettingsForCalculatingDates){return date.localeFormat(format);
}else{return this.sitefinityToLocalDate(date).format(format);
}},sitefinityToLocalDate:function(date){if(date==null){return date;
}if(this._userBrowserSettingsForCalculatingDates){return date;
}else{var ticks=parseInt(date.getTime())+parseInt(this._timeOffset)+parseInt(date.getTimezoneOffset()*60*1000);
var newDate=new Date(ticks);
return newDate;
}},sitefinityToUniversalDate:function(date){if(date==null){return date;
}if(this._userBrowserSettingsForCalculatingDates){return date;
}else{var ticks=parseInt(date.getTime())-parseInt(this._timeOffset)-parseInt(date.getTimezoneOffset()*60*1000);
var newDate=new Date(ticks);
return newDate;
}},get_timeOffset:function(){return this._timeOffset;
},set_timeOffset:function(value){this._timeOffset=value;
},get_timeZoneDisplayName:function(){return this._timeZoneDisplayName;
},set_timeZoneDisplayName:function(value){this._timeZoneDisplayName=value;
},get_timeZoneId:function(){return this._timeZoneId;
},set_timeZoneId:function(value){this._timeZoneId=value;
},get_userBrowserSettingsForCalculatingDates:function(){return this._userBrowserSettingsForCalculatingDates;
},set_userBrowserSettingsForCalculatingDates:function(value){this._userBrowserSettingsForCalculatingDates=value;
}};
Telerik.Sitefinity.Web.UI.UserPreferences.registerClass("Telerik.Sitefinity.Web.UI.UserPreferences",Sys.Component);
Date.prototype.sitefinityLocaleFormat=function(value){return GetUserPreferences().sitefinityLocaleFormat(this,value);
};

/* END Telerik.Sitefinity.Web.Scripts.UserPreferences.js */
/* START Telerik.Sitefinity.Web.UI.Extenders.Scripts.RadEditorCustomDialogsExtender.js */
Type.registerNamespace("Telerik.Sitefinity.Web.UI.Extenders");
Telerik.Sitefinity.Web.UI.Extenders.RadEditorCustomDialogsExtender=function(element){this._editor=null;
this._imageManagerDialogUrl=null;
this._documentManagerDialogUrl=null;
this._mediaManagerDialogUrl=null;
this._linkManagerDialogUrl=null;
this._isToOverrideDialogs=null;
this._uiCulture=null;
this._radEditorExternalDialogClosedDelegate=null;
this._editorCommandExecutingDelegate=null;
this._editorCommandExecutedDelegate=null;
this._openImageManagerDelegate=null;
this._openLinkManagerDelegate=null;
this._openDocumentManagerDelegate=null;
this._openMediaManagerDelegate=null;
this._loadDelegate=null;
Telerik.Sitefinity.Web.UI.Extenders.RadEditorCustomDialogsExtender.initializeBase(this,[element]);
};
Telerik.Sitefinity.Web.UI.Extenders.RadEditorCustomDialogsExtender.prototype={initialize:function(){Telerik.Sitefinity.Web.UI.Extenders.RadEditorCustomDialogsExtender.callBaseMethod(this,"initialize");
this._radEditorExternalDialogClosedDelegate=Function.createDelegate(this,this._radEditorExternalDialogClosed);
this._editorCommandExecutingDelegate=Function.createDelegate(this,this._editorCommandExecutingHandler);
this._editorCommandExecutedDelegate=Function.createDelegate(this,this._editorCommandExecutedHandler);
this._loadDelegate=Function.createDelegate(this,this._load);
Sys.Application.add_load(this._loadDelegate);
},dispose:function(){if(this._radEditorExternalDialogClosedDelegate){delete this._radEditorExternalDialogClosedDelegate;
}if(this._editorCommandExecutingDelegate){delete this._editorCommandExecutingDelegate;
}if(this._editorCommandExecutedDelegate){delete this._editorCommandExecutedDelegate;
}Telerik.Sitefinity.Web.UI.Extenders.RadEditorCustomDialogsExtender.callBaseMethod(this,"dispose");
},_load:function(){this._initializeEditorCommandList();
},_initializeEditorCommandList:function(){if(this._isToOverrideDialogs){this.get_editor().add_commandExecuting(this._editorCommandExecutingDelegate);
this.get_editor().add_commandExecuted(this._editorCommandExecutedDelegate);
}},_editorCommandExecutingHandler:function(sender,args){var commandName=args.get_commandName();
switch(commandName){case"SetImageProperties":case"ImageManager":args.set_cancel(this.openImageManager());
break;
case"DocumentManager":args.set_cancel(this.openDocumentManager());
break;
case"MediaManager":args.set_cancel(this.openMediaManager());
break;
case"LinkManager":case"SetLinkProperties":args.set_cancel(this.openLinkManager());
break;
default:break;
}},_editorCommandExecutedHandler:function(sender,args){var commandName=args.get_commandName();
if(commandName==="ImageMapDialog"){var imageMapDialog=this.get_editor()._dialogOpener._dialogContainers.ImageMapDialog;
this._resizePropertyEditorDialog();
}},_resizePropertyEditorDialog:function(){var propertyEditorDialog=this.get_editor()._contentWindow.top.$find("PropertyEditorDialog");
if(!propertyEditorDialog){return;
}setTimeout(function(){propertyEditorDialog.AjaxDialog.resizeToContent();
},500);
},openImageManager:function(){var dialogUrl=this.get_imageManagerDialogUrl();
if(dialogUrl){var domElement=this._getSelectedOrCreatedImageDomElement();
var dialogTitle="Insert an image";
this._openManager(dialogUrl,domElement,dialogTitle);
}return !!dialogUrl;
},openDocumentManager:function(){var dialogUrl=this.get_documentManagerDialogUrl();
if(dialogUrl){var argument=Telerik.Web.UI.Editor.CommandList._getLinkArgument(this.get_editor());
var domElement=argument.get_value();
var dialogTitle="Insert a document";
this._openManager(dialogUrl,domElement,dialogTitle);
}return !!dialogUrl;
},openMediaManager:function(){var dialogUrl=this.get_mediaManagerDialogUrl();
if(dialogUrl){var domElement=this._getSelectedOrCreatedObjectElement();
var dialogTitle="Insert a video";
this._openManager(dialogUrl,domElement,dialogTitle);
}return !!dialogUrl;
},openLinkManager:function(){var dialogUrl=this.get_linkManagerDialogUrl();
if(dialogUrl){var argument=Telerik.Web.UI.Editor.CommandList._getLinkArgument(this.get_editor());
var domElement=argument.get_value();
var dialogTitle="Insert a link";
this._openManager(dialogUrl,domElement,dialogTitle);
}return !!dialogUrl;
},_openManager:function(dialogUrl,domElement,dialogTitle){this.get_editor().showExternalDialog(dialogUrl,domElement,395,250,this._radEditorExternalDialogClosedDelegate,null,dialogTitle,true,Telerik.Web.UI.WindowBehaviors.Close,false,true);
},_radEditorExternalDialogClosed:function(sender,args){var commandName=args.get_commandName();
var argument=args.get_commandArgument();
switch(commandName){case"pasteLink":this.get_editor().pasteHyperLink(argument);
break;
case"pasteHtml":var html=this._applyFiltersForEmbedContent(argument);
this.get_editor().pasteHtml(html);
break;
}},_getSelectedOrCreatedImageDomElement:function(){var domElement=this.get_editor().getSelectedElement();
if(domElement&&domElement.tagName=="IMG"){this.get_editor().selectElement(domElement);
return domElement;
}else{domElement=this.get_editor().get_document().createElement("IMG");
return domElement;
}},_getSelectedOrCreatedLinkDomElement:function(){var domElement=this.get_editor().getSelectedElement();
if(domElement&&domElement.parentNode&&domElement.parentNode.tagName=="A"){domElement=domElement.parentNode;
}if(domElement&&domElement.tagName=="A"){this.get_editor().selectElement(domElement);
return domElement;
}else{this.get_editor().fire("Unlink");
var commandsManager=this.get_editor().get_commandsManager();
var commandIndex=commandsManager.getCommandsToUndo().length-1;
commandsManager.removeCommandAt(commandIndex);
var link=this.get_editor().get_document().createElement("A");
var tagName=(domElement&&domElement.tagName)?domElement.tagName:"";
var tagNamesThatAreNotOK=["BODY","TD","H1","H2","H3","H4","H5","TABLE","P","LI","UL","OL","DIV","SPAN","STRONG","EM","FONT"];
if(domElement&&!Array.contains(tagNamesThatAreNotOK,tagName)){this.get_editor().selectElement(domElement);
jQuery(link).append(jQuery(domElement).clone());
}else{var content=this.get_editor().getSelectionHtml();
link.innerHTML=content;
}return link;
}},_getSelectedOrCreatedObjectElement:function(){var domElement=this.get_editor().getSelectedElement();
var tempDomElement=this.get_editor().get_document().createElement("DIV");
if(domElement&&(domElement.tagName==="OBJECT"||domElement.tagName==="EMBED"||domElement.tagName==="VIDEO")){tempDomElement.innerHTML=$telerik.getOuterHtml(domElement);
}else{if(domElement&&domElement.tagName==="IMG"){var originalcode=domElement.getAttribute("originalcode");
if(originalcode){tempDomElement.innerHTML=unescape(originalcode);
}}else{}}return tempDomElement;
},_applyFiltersForEmbedContent:function(html){var filterIE=this._editor.get_filtersManager().getFilterByName("IEKeepObjectParamsFilter");
var filterMoz=this._editor.get_filtersManager().getFilterByName("MozillaKeepFlash");
if(filterIE){html=filterIE.getDesignContent(html);
}if(filterMoz){var tempDiv=this._editor.get_document().createElement("div");
Telerik.Web.UI.Editor.Utils.setElementInnerHtml(tempDiv,html);
tempDiv=filterMoz.getDesignContent(tempDiv);
html=tempDiv.innerHTML;
}return html;
},_applyUiCulture:function(url){if(this.get_uiCulture()){var urlBuilder=new Sys.Uri(url);
urlBuilder.get_query().uiCulture=this.get_uiCulture();
return urlBuilder.toString();
}return url;
},get_editor:function(){return this._editor;
},set_editor:function(value){this._editor=value;
},get_imageManagerDialogUrl:function(){this._imageManagerDialogUrl=this._applyUiCulture(this._imageManagerDialogUrl);
return this._imageManagerDialogUrl;
},set_imageManagerDialogUrl:function(value){this._imageManagerDialogUrl=value;
},get_documentManagerDialogUrl:function(){this._documentManagerDialogUrl=this._applyUiCulture(this._documentManagerDialogUrl);
return this._documentManagerDialogUrl;
},set_documentManagerDialogUrl:function(value){this._documentManagerDialogUrl=value;
},get_mediaManagerDialogUrl:function(){this._mediaManagerDialogUrl=this._applyUiCulture(this._mediaManagerDialogUrl);
return this._mediaManagerDialogUrl;
},set_mediaManagerDialogUrl:function(value){this._mediaManagerDialogUrl=value;
},get_linkManagerDialogUrl:function(){this._linkManagerDialogUrl=this._applyUiCulture(this._linkManagerDialogUrl);
return this._linkManagerDialogUrl;
},set_linkManagerDialogUrl:function(value){this._linkManagerDialogUrl=value;
},get_isToOverrideDialogs:function(){return this._isToOverrideDialogs;
},set_isToOverrideDialogs:function(value){this._isToOverrideDialogs=value;
},set_uiCulture:function(culture){this._uiCulture=culture;
},get_uiCulture:function(){return this._uiCulture;
}};
Telerik.Sitefinity.Web.UI.Extenders.RadEditorCustomDialogsExtender.registerClass("Telerik.Sitefinity.Web.UI.Extenders.RadEditorCustomDialogsExtender",Sys.UI.Behavior);

/* END Telerik.Sitefinity.Web.UI.Extenders.Scripts.RadEditorCustomDialogsExtender.js */
if(typeof(Sys)!=='undefined')Sys.Application.notifyScriptLoaded();
(function() {
    function loadHandler() {
        var hf = $get('ctl01_TSM');
        if (!hf) return;
        if (!hf._RSM_init) { hf._RSM_init = true; hf.value = ''; }
        hf.value += ';;Telerik.Sitefinity, Version=8.0.5700.0, Culture=neutral, PublicKeyToken=b28c218413bdf563:en-US:c97f4ee9-f651-49b7-95e6-42d07f25d934:4a73a146:308ff405:80c147f:f77740f1:26cfb6dc:6e04508f:447a22b8;Telerik.Sitefinity.Resources:en-US:da49f74b-bbb5-4a2a-9b18-29b468be39f7:c4ef6dcd:6f03d72a;Telerik.Sitefinity, Version=8.0.5700.0, Culture=neutral, PublicKeyToken=b28c218413bdf563:en-US:c97f4ee9-f651-49b7-95e6-42d07f25d934:8bc17194:c1fc658e:1900ec7d:2aeb216e:d072ed8d:7109743d;Telerik.Web.UI, Version=2015.1.225.40, Culture=neutral, PublicKeyToken=121fae78165ba3d4:en-US:48e0f2bb-99f7-43cd-9b8e-5b9bce752872:dc7e0bd:1569bb5f:63b115ed:1c565fc:30f1f089;Telerik.Sitefinity, Version=8.0.5700.0, Culture=neutral, PublicKeyToken=b28c218413bdf563:en-US:c97f4ee9-f651-49b7-95e6-42d07f25d934:71a433fb:a05bbffe:6ef1aa4d:d1fb4819:688a162a:29ad74ff:5053a0f8;Telerik.Web.UI, Version=2015.1.225.40, Culture=neutral, PublicKeyToken=121fae78165ba3d4:en-US:48e0f2bb-99f7-43cd-9b8e-5b9bce752872:88144a7a:1e771326:a7e79140;Telerik.Sitefinity, Version=8.0.5700.0, Culture=neutral, PublicKeyToken=b28c218413bdf563:en-US:c97f4ee9-f651-49b7-95e6-42d07f25d934:5c2616b0;Telerik.Web.UI, Version=2015.1.225.40, Culture=neutral, PublicKeyToken=121fae78165ba3d4:en-US:48e0f2bb-99f7-43cd-9b8e-5b9bce752872:ed16cbdc;Telerik.Sitefinity, Version=8.0.5700.0, Culture=neutral, PublicKeyToken=b28c218413bdf563:en-US:c97f4ee9-f651-49b7-95e6-42d07f25d934:41f6c3a7:4b27713b';                                    
        Sys.Application.remove_load(loadHandler);
    };
    Sys.Application.add_load(loadHandler);
})();
